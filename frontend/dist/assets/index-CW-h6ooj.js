var D4=Object.defineProperty;var ev=t=>{throw TypeError(t)};var B4=(t,e,n)=>e in t?D4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>B4(t,typeof e!="symbol"?e+"":e,n),wp=(t,e,n)=>e.has(t)||ev("Cannot "+n);var v=(t,e,n)=>(wp(t,e,"read from private field"),n?n.call(t):e.get(t)),z=(t,e,n)=>e.has(t)?ev("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),S=(t,e,n,s)=>(wp(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),q=(t,e,n)=>(wp(t,e,"access private method"),n);var Vc=(t,e,n,s)=>({set _(a){S(t,e,a,n)},get _(){return v(t,e,s)}});function M4(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const r=Object.getOwnPropertyDescriptor(s,a);r&&Object.defineProperty(t,a,r.get?r:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();function bA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vA={exports:{}},vm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k4=Symbol.for("react.transitional.element"),P4=Symbol.for("react.fragment");function wA(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var a in e)a!=="key"&&(n[a]=e[a])}else n=e;return e=n.ref,{$$typeof:k4,type:t,key:s,ref:e!==void 0?e:null,props:n}}vm.Fragment=P4;vm.jsx=wA;vm.jsxs=wA;vA.exports=vm;var l=vA.exports,AA={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy=Symbol.for("react.transitional.element"),U4=Symbol.for("react.portal"),L4=Symbol.for("react.fragment"),z4=Symbol.for("react.strict_mode"),H4=Symbol.for("react.profiler"),V4=Symbol.for("react.consumer"),I4=Symbol.for("react.context"),F4=Symbol.for("react.forward_ref"),_4=Symbol.for("react.suspense"),G4=Symbol.for("react.memo"),NA=Symbol.for("react.lazy"),Q4=Symbol.for("react.activity"),tv=Symbol.iterator;function q4(t){return t===null||typeof t!="object"?null:(t=tv&&t[tv]||t["@@iterator"],typeof t=="function"?t:null)}var EA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jA=Object.assign,SA={};function jc(t,e,n){this.props=t,this.context=e,this.refs=SA,this.updater=n||EA}jc.prototype.isReactComponent={};jc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TA(){}TA.prototype=jc.prototype;function Zy(t,e,n){this.props=t,this.context=e,this.refs=SA,this.updater=n||EA}var Xy=Zy.prototype=new TA;Xy.constructor=Zy;jA(Xy,jc.prototype);Xy.isPureReactComponent=!0;var nv=Array.isArray;function Qg(){}var ze={H:null,A:null,T:null,S:null},CA=Object.prototype.hasOwnProperty;function $y(t,e,n){var s=n.ref;return{$$typeof:Jy,type:t,key:e,ref:s!==void 0?s:null,props:n}}function K4(t,e){return $y(t.type,e,t.props)}function Wy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jy}function Y4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sv=/\/+/g;function Ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Y4(""+t.key):e.toString(36)}function J4(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Qg,Qg):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Bo(t,e,n,s,a){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(r){case"bigint":case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Jy:case U4:i=!0;break;case NA:return i=t._init,Bo(i(t._payload),e,n,s,a)}}if(i)return a=a(t),i=s===""?"."+Ap(t,0):s,nv(a)?(n="",i!=null&&(n=i.replace(sv,"$&/")+"/"),Bo(a,e,n,"",function(u){return u})):a!=null&&(Wy(a)&&(a=K4(a,n+(a.key==null||t&&t.key===a.key?"":(""+a.key).replace(sv,"$&/")+"/")+i)),e.push(a)),1;i=0;var o=s===""?".":s+":";if(nv(t))for(var c=0;c<t.length;c++)s=t[c],r=o+Ap(s,c),i+=Bo(s,e,n,r,a);else if(c=q4(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,r=o+Ap(s,c++),i+=Bo(s,e,n,r,a);else if(r==="object"){if(typeof t.then=="function")return Bo(J4(t),e,n,s,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return i}function tf(t,e,n){if(t==null)return t;var s=[],a=0;return Bo(t,s,"","",function(r){return e.call(n,r,a++)}),s}function Z4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var av=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},X4={map:tf,forEach:function(t,e,n){tf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tf(t,function(){e++}),e},toArray:function(t){return tf(t,function(e){return e})||[]},only:function(t){if(!Wy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Activity=Q4;ae.Children=X4;ae.Component=jc;ae.Fragment=L4;ae.Profiler=H4;ae.PureComponent=Zy;ae.StrictMode=z4;ae.Suspense=_4;ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ze;ae.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ze.H.useMemoCache(t)}};ae.cache=function(t){return function(){return t.apply(null,arguments)}};ae.cacheSignal=function(){return null};ae.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=jA({},t.props),a=t.key;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)!CA.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(s[r]=e[r]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var i=Array(r),o=0;o<r;o++)i[o]=arguments[o+2];s.children=i}return $y(t.type,a,s)};ae.createContext=function(t){return t={$$typeof:I4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:V4,_context:t},t};ae.createElement=function(t,e,n){var s,a={},r=null;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)CA.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(a[s]=e[s]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var o=Array(i),c=0;c<i;c++)o[c]=arguments[c+2];a.children=o}if(t&&t.defaultProps)for(s in i=t.defaultProps,i)a[s]===void 0&&(a[s]=i[s]);return $y(t,r,a)};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:F4,render:t}};ae.isValidElement=Wy;ae.lazy=function(t){return{$$typeof:NA,_payload:{_status:-1,_result:t},_init:Z4}};ae.memo=function(t,e){return{$$typeof:G4,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=ze.T,n={};ze.T=n;try{var s=t(),a=ze.S;a!==null&&a(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Qg,av)}catch(r){av(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),ze.T=e}};ae.unstable_useCacheRefresh=function(){return ze.H.useCacheRefresh()};ae.use=function(t){return ze.H.use(t)};ae.useActionState=function(t,e,n){return ze.H.useActionState(t,e,n)};ae.useCallback=function(t,e){return ze.H.useCallback(t,e)};ae.useContext=function(t){return ze.H.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t,e){return ze.H.useDeferredValue(t,e)};ae.useEffect=function(t,e){return ze.H.useEffect(t,e)};ae.useEffectEvent=function(t){return ze.H.useEffectEvent(t)};ae.useId=function(){return ze.H.useId()};ae.useImperativeHandle=function(t,e,n){return ze.H.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return ze.H.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return ze.H.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return ze.H.useMemo(t,e)};ae.useOptimistic=function(t,e){return ze.H.useOptimistic(t,e)};ae.useReducer=function(t,e,n){return ze.H.useReducer(t,e,n)};ae.useRef=function(t){return ze.H.useRef(t)};ae.useState=function(t){return ze.H.useState(t)};ae.useSyncExternalStore=function(t,e,n){return ze.H.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return ze.H.useTransition()};ae.version="19.2.0";AA.exports=ae;var N=AA.exports;const wm=bA(N),$4=M4({__proto__:null,default:wm},[N]);var RA={exports:{}},Am={},OA={exports:{}},DA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,G){var K=C.length;C.push(G);e:for(;0<K;){var J=K-1>>>1,te=C[J];if(0<a(te,G))C[J]=G,C[K]=te,K=J;else break e}}function n(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var G=C[0],K=C.pop();if(K!==G){C[0]=K;e:for(var J=0,te=C.length,I=te>>>1;J<I;){var Z=2*(J+1)-1,le=C[Z],ue=Z+1,je=C[ue];if(0>a(le,K))ue<te&&0>a(je,le)?(C[J]=je,C[ue]=K,J=ue):(C[J]=le,C[Z]=K,J=Z);else if(ue<te&&0>a(je,K))C[J]=je,C[ue]=K,J=ue;else break e}}return G}function a(C,G){var K=C.sortIndex-G.sortIndex;return K!==0?K:C.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function A(C){for(var G=n(u);G!==null;){if(G.callback===null)s(u);else if(G.startTime<=C)s(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(u)}}function j(C){if(y=!1,A(C),!p)if(n(c)!==null)p=!0,k||(k=!0,L());else{var G=n(u);G!==null&&O(j,G.startTime-C)}}var k=!1,D=-1,E=5,T=-1;function B(){return w?!0:!(t.unstable_now()-T<E)}function R(){if(w=!1,k){var C=t.unstable_now();T=C;var G=!0;try{e:{p=!1,y&&(y=!1,g(D),D=-1),m=!0;var K=h;try{t:{for(A(C),f=n(c);f!==null&&!(f.expirationTime>C&&B());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var te=J(f.expirationTime<=C);if(C=t.unstable_now(),typeof te=="function"){f.callback=te,A(C),G=!0;break t}f===n(c)&&s(c),A(C)}else s(c);f=n(c)}if(f!==null)G=!0;else{var I=n(u);I!==null&&O(j,I.startTime-C),G=!1}}break e}finally{f=null,h=K,m=!1}G=void 0}}finally{G?L():k=!1}}}var L;if(typeof x=="function")L=function(){x(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,V=U.port2;U.port1.onmessage=R,L=function(){V.postMessage(null)}}else L=function(){b(R,0)};function O(C,G){D=b(function(){C(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var K=h;h=G;try{return C()}finally{h=K}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(C,G){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var K=h;h=C;try{return G()}finally{h=K}},t.unstable_scheduleCallback=function(C,G,K){var J=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?J+K:J):K=J,C){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,C={id:d++,callback:G,priorityLevel:C,startTime:K,expirationTime:te,sortIndex:-1},K>J?(C.sortIndex=K,e(u,C),n(c)===null&&C===n(u)&&(y?(g(D),D=-1):y=!0,O(j,K-J))):(C.sortIndex=te,e(c,C),p||m||(p=!0,k||(k=!0,L()))),C},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(C){var G=h;return function(){var K=h;h=G;try{return C.apply(this,arguments)}finally{h=K}}}})(DA);OA.exports=DA;var W4=OA.exports,BA={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3=N;function MA(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Va(){}var Vt={d:{f:Va,r:function(){throw Error(MA(522))},D:Va,C:Va,L:Va,m:Va,X:Va,S:Va,M:Va},p:0,findDOMNode:null},t3=Symbol.for("react.portal");function n3(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:t3,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var hu=e3.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Nm(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Vt;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(MA(299));return n3(t,e,null,n)};Gt.flushSync=function(t){var e=hu.T,n=Vt.p;try{if(hu.T=null,Vt.p=2,t)return t()}finally{hu.T=e,Vt.p=n,Vt.d.f()}};Gt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Vt.d.C(t,e))};Gt.prefetchDNS=function(t){typeof t=="string"&&Vt.d.D(t)};Gt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=Nm(n,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Vt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:a,fetchPriority:r}):n==="script"&&Vt.d.X(t,{crossOrigin:s,integrity:a,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Gt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Nm(e.as,e.crossOrigin);Vt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Vt.d.M(t)};Gt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=Nm(n,e.crossOrigin);Vt.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Gt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Nm(e.as,e.crossOrigin);Vt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Vt.d.m(t)};Gt.requestFormReset=function(t){Vt.d.r(t)};Gt.unstable_batchedUpdates=function(t,e){return t(e)};Gt.useFormState=function(t,e,n){return hu.H.useFormState(t,e,n)};Gt.useFormStatus=function(){return hu.H.useHostTransitionStatus()};Gt.version="19.2.0";function kA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kA)}catch(t){console.error(t)}}kA(),BA.exports=Gt;var s3=BA.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dt=W4,PA=N,a3=s3;function _(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function UA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zA(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rv(t){if(Sd(t)!==t)throw Error(_(188))}function r3(t){var e=t.alternate;if(!e){if(e=Sd(t),e===null)throw Error(_(188));return e!==t?null:t}for(var n=t,s=e;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return rv(a),t;if(r===s)return rv(a),e;r=r.sibling}throw Error(_(188))}if(n.return!==s.return)n=a,s=r;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,s=r;break}if(o===s){i=!0,s=a,n=r;break}o=o.sibling}if(!i){for(o=r.child;o;){if(o===n){i=!0,n=r,s=a;break}if(o===s){i=!0,s=r,n=a;break}o=o.sibling}if(!i)throw Error(_(189))}}if(n.alternate!==s)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?t:e}function HA(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=HA(t),e!==null)return e;t=t.sibling}return null}var He=Object.assign,i3=Symbol.for("react.element"),nf=Symbol.for("react.transitional.element"),tu=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),VA=Symbol.for("react.strict_mode"),qg=Symbol.for("react.profiler"),IA=Symbol.for("react.consumer"),ga=Symbol.for("react.context"),ex=Symbol.for("react.forward_ref"),Kg=Symbol.for("react.suspense"),Yg=Symbol.for("react.suspense_list"),tx=Symbol.for("react.memo"),Ya=Symbol.for("react.lazy"),Jg=Symbol.for("react.activity"),o3=Symbol.for("react.memo_cache_sentinel"),iv=Symbol.iterator;function Ic(t){return t===null||typeof t!="object"?null:(t=iv&&t[iv]||t["@@iterator"],typeof t=="function"?t:null)}var l3=Symbol.for("react.client.reference");function Zg(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===l3?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zo:return"Fragment";case qg:return"Profiler";case VA:return"StrictMode";case Kg:return"Suspense";case Yg:return"SuspenseList";case Jg:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tu:return"Portal";case ga:return t.displayName||"Context";case IA:return(t._context.displayName||"Context")+".Consumer";case ex:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tx:return e=t.displayName||null,e!==null?e:Zg(t.type)||"Memo";case Ya:e=t._payload,t=t._init;try{return Zg(t(e))}catch{}}return null}var nu=Array.isArray,se=PA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=a3.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zi={pending:!1,data:null,method:null,action:null},Xg=[],Ho=-1;function _s(t){return{current:t}}function yt(t){0>Ho||(t.current=Xg[Ho],Xg[Ho]=null,Ho--)}function Me(t,e){Ho++,Xg[Ho]=t.current,t.current=e}var Vs=_s(null),ku=_s(null),Sr=_s(null),uh=_s(null);function dh(t,e){switch(Me(Sr,e),Me(ku,t),Me(Vs,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?f1(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=f1(e),t=oj(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}yt(Vs),Me(Vs,t)}function sc(){yt(Vs),yt(ku),yt(Sr)}function $g(t){t.memoizedState!==null&&Me(uh,t);var e=Vs.current,n=oj(e,t.type);e!==n&&(Me(ku,t),Me(Vs,n))}function fh(t){ku.current===t&&(yt(Vs),yt(ku)),uh.current===t&&(yt(uh),Qu._currentValue=Zi)}var Np,ov;function li(t){if(Np===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Np=e&&e[1]||"",ov=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Np+t+ov}var Ep=!1;function jp(t,e){if(!t||Ep)return"";Ep=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){h=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),i=r[0],o=r[1];if(i&&o){var c=i.split(`
`),u=o.split(`
`);for(a=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(s===c.length||a===u.length)for(s=c.length-1,a=u.length-1;1<=s&&0<=a&&c[s]!==u[a];)a--;for(;1<=s&&0<=a;s--,a--)if(c[s]!==u[a]){if(s!==1||a!==1)do if(s--,a--,0>a||c[s]!==u[a]){var d=`
`+c[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=a);break}}}finally{Ep=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?li(n):""}function c3(t,e){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return t.child!==e&&e!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return jp(t.type,!1);case 11:return jp(t.type.render,!1);case 1:return jp(t.type,!0);case 31:return li("Activity");default:return""}}function lv(t){try{var e="",n=null;do e+=c3(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Wg=Object.prototype.hasOwnProperty,nx=dt.unstable_scheduleCallback,Sp=dt.unstable_cancelCallback,u3=dt.unstable_shouldYield,d3=dt.unstable_requestPaint,vn=dt.unstable_now,f3=dt.unstable_getCurrentPriorityLevel,FA=dt.unstable_ImmediatePriority,_A=dt.unstable_UserBlockingPriority,hh=dt.unstable_NormalPriority,h3=dt.unstable_LowPriority,GA=dt.unstable_IdlePriority,m3=dt.log,p3=dt.unstable_setDisableYieldValue,Td=null,wn=null;function vr(t){if(typeof m3=="function"&&p3(t),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Td,t)}catch{}}var An=Math.clz32?Math.clz32:x3,g3=Math.log,y3=Math.LN2;function x3(t){return t>>>=0,t===0?32:31-(g3(t)/y3|0)|0}var sf=256,af=262144,rf=4194304;function ci(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Em(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var a=0,r=t.suspendedLanes,i=t.pingedLanes;t=t.warmLanes;var o=s&134217727;return o!==0?(s=o&~r,s!==0?a=ci(s):(i&=o,i!==0?a=ci(i):n||(n=o&~t,n!==0&&(a=ci(n))))):(o=s&~r,o!==0?a=ci(o):i!==0?a=ci(i):n||(n=s&~t,n!==0&&(a=ci(n)))),a===0?0:e!==0&&e!==a&&!(e&r)&&(r=a&-a,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:a}function Cd(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function b3(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QA(){var t=rf;return rf<<=1,!(rf&62914560)&&(rf=4194304),t}function Tp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rd(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function v3(t,e,n,s,a,r){var i=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=i&~n;0<n;){var d=31-An(n),f=1<<d;o[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~f}s!==0&&qA(t,s,0),r!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=r&~(i&~e))}function qA(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-An(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function KA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-An(n),a=1<<s;a&e|t[s]&e&&(t[s]|=e),n&=~a}}function YA(t,e){var n=e&-e;return n=n&42?1:sx(n),n&(t.suspendedLanes|e)?0:n}function sx(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ax(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function JA(){var t=Ae.p;return t!==0?t:(t=window.event,t===void 0?32:xj(t.type))}function cv(t,e){var n=Ae.p;try{return Ae.p=t,e()}finally{Ae.p=n}}var Zr=Math.random().toString(36).slice(2),wt="__reactFiber$"+Zr,an="__reactProps$"+Zr,Sc="__reactContainer$"+Zr,e0="__reactEvents$"+Zr,w3="__reactListeners$"+Zr,A3="__reactHandles$"+Zr,uv="__reactResources$"+Zr,Od="__reactMarker$"+Zr;function rx(t){delete t[wt],delete t[an],delete t[e0],delete t[w3],delete t[A3]}function Vo(t){var e=t[wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sc]||n[wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=y1(t);t!==null;){if(n=t[wt])return n;t=y1(t)}return e}t=n,n=t.parentNode}return null}function Tc(t){if(t=t[wt]||t[Sc]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function su(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(_(33))}function il(t){var e=t[uv];return e||(e=t[uv]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function pt(t){t[Od]=!0}var ZA=new Set,XA={};function yo(t,e){ac(t,e),ac(t+"Capture",e)}function ac(t,e){for(XA[t]=e,t=0;t<e.length;t++)ZA.add(e[t])}var N3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dv={},fv={};function E3(t){return Wg.call(fv,t)?!0:Wg.call(dv,t)?!1:N3.test(t)?fv[t]=!0:(dv[t]=!0,!1)}function Mf(t,e,n){if(E3(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function of(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Qs(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function Vn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $A(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function j3(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,r=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,r.call(this,i)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function t0(t){if(!t._valueTracker){var e=$A(t)?"checked":"value";t._valueTracker=j3(t,e,""+t[e])}}function WA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=$A(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function mh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var S3=/[\n"\\]/g;function _n(t){return t.replace(S3,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function n0(t,e,n,s,a,r,i,o){t.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?t.type=i:t.removeAttribute("type"),e!=null?i==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Vn(e)):t.value!==""+Vn(e)&&(t.value=""+Vn(e)):i!=="submit"&&i!=="reset"||t.removeAttribute("value"),e!=null?s0(t,i,Vn(e)):n!=null?s0(t,i,Vn(n)):s!=null&&t.removeAttribute("value"),a==null&&r!=null&&(t.defaultChecked=!!r),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Vn(o):t.removeAttribute("name")}function eN(t,e,n,s,a,r,i,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){t0(t);return}n=n!=null?""+Vn(n):"",e=e!=null?""+Vn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}s=s??a,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=o?t.checked:!!s,t.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.name=i),t0(t)}function s0(t,e,n){e==="number"&&mh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ol(t,e,n,s){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Vn(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,s&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function tN(t,e,n){if(e!=null&&(e=""+Vn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Vn(n):""}function nN(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(_(92));if(nu(s)){if(1<s.length)throw Error(_(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Vn(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),t0(t)}function rc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var T3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hv(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||T3.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function sN(t,e,n){if(e!=null&&typeof e!="object")throw Error(_(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var a in e)s=e[a],e.hasOwnProperty(a)&&n[a]!==s&&hv(t,a,s)}else for(var r in e)e.hasOwnProperty(r)&&hv(t,r,e[r])}function ix(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),R3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kf(t){return R3.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ya(){}var a0=null;function ox(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Io=null,ll=null;function mv(t){var e=Tc(t);if(e&&(t=e.stateNode)){var n=t[an]||null;e:switch(t=e.stateNode,e.type){case"input":if(n0(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_n(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var a=s[an]||null;if(!a)throw Error(_(90));n0(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&WA(s)}break e;case"textarea":tN(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ol(t,!!n.multiple,e,!1)}}}var Cp=!1;function aN(t,e,n){if(Cp)return t(e,n);Cp=!0;try{var s=t(e);return s}finally{if(Cp=!1,(Io!==null||ll!==null)&&(Um(),Io&&(e=Io,t=ll,ll=Io=null,mv(e),t)))for(e=0;e<t.length;e++)mv(t[e])}}function Pu(t,e){var n=t.stateNode;if(n===null)return null;var s=n[an]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_(231,e,typeof n));return n}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r0=!1;if(Ra)try{var Fc={};Object.defineProperty(Fc,"passive",{get:function(){r0=!0}}),window.addEventListener("test",Fc,Fc),window.removeEventListener("test",Fc,Fc)}catch{r0=!1}var wr=null,lx=null,Pf=null;function rN(){if(Pf)return Pf;var t,e=lx,n=e.length,s,a="value"in wr?wr.value:wr.textContent,r=a.length;for(t=0;t<n&&e[t]===a[t];t++);var i=n-t;for(s=1;s<=i&&e[n-s]===a[r-s];s++);return Pf=a.slice(t,1<s?1-s:void 0)}function Uf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lf(){return!0}function pv(){return!1}function ln(t){function e(n,s,a,r,i){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?lf:pv,this.isPropagationStopped=pv,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lf)},persist:function(){},isPersistent:lf}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jm=ln(xo),Dd=He({},xo,{view:0,detail:0}),O3=ln(Dd),Rp,Op,_c,Sm=He({},Dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_c&&(_c&&t.type==="mousemove"?(Rp=t.screenX-_c.screenX,Op=t.screenY-_c.screenY):Op=Rp=0,_c=t),Rp)},movementY:function(t){return"movementY"in t?t.movementY:Op}}),gv=ln(Sm),D3=He({},Sm,{dataTransfer:0}),B3=ln(D3),M3=He({},Dd,{relatedTarget:0}),Dp=ln(M3),k3=He({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),P3=ln(k3),U3=He({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),L3=ln(U3),z3=He({},xo,{data:0}),yv=ln(z3),H3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I3[t])?!!e[t]:!1}function cx(){return F3}var _3=He({},Dd,{key:function(t){if(t.key){var e=H3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cx,charCode:function(t){return t.type==="keypress"?Uf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),G3=ln(_3),Q3=He({},Sm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xv=ln(Q3),q3=He({},Dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cx}),K3=ln(q3),Y3=He({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),J3=ln(Y3),Z3=He({},Sm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X3=ln(Z3),$3=He({},xo,{newState:0,oldState:0}),W3=ln($3),e6=[9,13,27,32],ux=Ra&&"CompositionEvent"in window,mu=null;Ra&&"documentMode"in document&&(mu=document.documentMode);var t6=Ra&&"TextEvent"in window&&!mu,iN=Ra&&(!ux||mu&&8<mu&&11>=mu),bv=" ",vv=!1;function oN(t,e){switch(t){case"keyup":return e6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fo=!1;function n6(t,e){switch(t){case"compositionend":return lN(e);case"keypress":return e.which!==32?null:(vv=!0,bv);case"textInput":return t=e.data,t===bv&&vv?null:t;default:return null}}function s6(t,e){if(Fo)return t==="compositionend"||!ux&&oN(t,e)?(t=rN(),Pf=lx=wr=null,Fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iN&&e.locale!=="ko"?null:e.data;default:return null}}var a6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!a6[t.type]:e==="textarea"}function cN(t,e,n,s){Io?ll?ll.push(s):ll=[s]:Io=s,e=Bh(e,"onChange"),0<e.length&&(n=new jm("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var pu=null,Uu=null;function r6(t){aj(t,0)}function Tm(t){var e=su(t);if(WA(e))return t}function Av(t,e){if(t==="change")return e}var uN=!1;if(Ra){var Bp;if(Ra){var Mp="oninput"in document;if(!Mp){var Nv=document.createElement("div");Nv.setAttribute("oninput","return;"),Mp=typeof Nv.oninput=="function"}Bp=Mp}else Bp=!1;uN=Bp&&(!document.documentMode||9<document.documentMode)}function Ev(){pu&&(pu.detachEvent("onpropertychange",dN),Uu=pu=null)}function dN(t){if(t.propertyName==="value"&&Tm(Uu)){var e=[];cN(e,Uu,t,ox(t)),aN(r6,e)}}function i6(t,e,n){t==="focusin"?(Ev(),pu=e,Uu=n,pu.attachEvent("onpropertychange",dN)):t==="focusout"&&Ev()}function o6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tm(Uu)}function l6(t,e){if(t==="click")return Tm(e)}function c6(t,e){if(t==="input"||t==="change")return Tm(e)}function u6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:u6;function Lu(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!Wg.call(e,a)||!jn(t[a],e[a]))return!1}return!0}function jv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sv(t,e){var n=jv(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jv(n)}}function fN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hN(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=mh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mh(t.document)}return e}function dx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var d6=Ra&&"documentMode"in document&&11>=document.documentMode,_o=null,i0=null,gu=null,o0=!1;function Tv(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;o0||_o==null||_o!==mh(s)||(s=_o,"selectionStart"in s&&dx(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),gu&&Lu(gu,s)||(gu=s,s=Bh(i0,"onSelect"),0<s.length&&(e=new jm("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=_o)))}function ai(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Go={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},kp={},mN={};Ra&&(mN=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function bo(t){if(kp[t])return kp[t];if(!Go[t])return t;var e=Go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mN)return kp[t]=e[n];return t}var pN=bo("animationend"),gN=bo("animationiteration"),yN=bo("animationstart"),f6=bo("transitionrun"),h6=bo("transitionstart"),m6=bo("transitioncancel"),xN=bo("transitionend"),bN=new Map,l0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");l0.push("scrollEnd");function ms(t,e){bN.set(t,e),yo(e,[t])}var ph=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Qo=0,fx=0;function Cm(){for(var t=Qo,e=fx=Qo=0;e<t;){var n=zn[e];zn[e++]=null;var s=zn[e];zn[e++]=null;var a=zn[e];zn[e++]=null;var r=zn[e];if(zn[e++]=null,s!==null&&a!==null){var i=s.pending;i===null?a.next=a:(a.next=i.next,i.next=a),s.pending=a}r!==0&&vN(n,a,r)}}function Rm(t,e,n,s){zn[Qo++]=t,zn[Qo++]=e,zn[Qo++]=n,zn[Qo++]=s,fx|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function hx(t,e,n,s){return Rm(t,e,n,s),gh(t)}function vo(t,e){return Rm(t,null,null,e),gh(t)}function vN(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var a=!1,r=t.return;r!==null;)r.childLanes|=n,s=r.alternate,s!==null&&(s.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(a=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,a&&e!==null&&(a=31-An(n),t=r.hiddenUpdates,s=t[a],s===null?t[a]=[e]:s.push(e),e.lane=n|536870912),r):null}function gh(t){if(50<ju)throw ju=0,R0=null,Error(_(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var qo={};function p6(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,s){return new p6(t,e,n,s)}function mx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wa(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function wN(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Lf(t,e,n,s,a,r){var i=0;if(s=t,typeof t=="function")mx(t)&&(i=1);else if(typeof t=="string")i=vR(t,n,Vs.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Jg:return t=yn(31,n,e,a),t.elementType=Jg,t.lanes=r,t;case zo:return Xi(n.children,a,r,e);case VA:i=8,a|=24;break;case qg:return t=yn(12,n,e,a|2),t.elementType=qg,t.lanes=r,t;case Kg:return t=yn(13,n,e,a),t.elementType=Kg,t.lanes=r,t;case Yg:return t=yn(19,n,e,a),t.elementType=Yg,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ga:i=10;break e;case IA:i=9;break e;case ex:i=11;break e;case tx:i=14;break e;case Ya:i=16,s=null;break e}i=29,n=Error(_(130,t===null?"null":typeof t,"")),s=null}return e=yn(i,n,e,a),e.elementType=t,e.type=s,e.lanes=r,e}function Xi(t,e,n,s){return t=yn(7,t,s,e),t.lanes=n,t}function Pp(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function AN(t){var e=yn(18,null,null,0);return e.stateNode=t,e}function Up(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Cv=new WeakMap;function Gn(t,e){if(typeof t=="object"&&t!==null){var n=Cv.get(t);return n!==void 0?n:(e={value:t,source:e,stack:lv(e)},Cv.set(t,e),e)}return{value:t,source:e,stack:lv(e)}}var Ko=[],Yo=0,yh=null,zu=0,In=[],Fn=0,Hr=null,ks=1,Ps="";function ta(t,e){Ko[Yo++]=zu,Ko[Yo++]=yh,yh=t,zu=e}function NN(t,e,n){In[Fn++]=ks,In[Fn++]=Ps,In[Fn++]=Hr,Hr=t;var s=ks;t=Ps;var a=32-An(s)-1;s&=~(1<<a),n+=1;var r=32-An(e)+a;if(30<r){var i=a-a%5;r=(s&(1<<i)-1).toString(32),s>>=i,a-=i,ks=1<<32-An(e)+a|n<<a|s,Ps=r+t}else ks=1<<r|n<<a|s,Ps=t}function px(t){t.return!==null&&(ta(t,1),NN(t,1,0))}function gx(t){for(;t===yh;)yh=Ko[--Yo],Ko[Yo]=null,zu=Ko[--Yo],Ko[Yo]=null;for(;t===Hr;)Hr=In[--Fn],In[Fn]=null,Ps=In[--Fn],In[Fn]=null,ks=In[--Fn],In[Fn]=null}function EN(t,e){In[Fn++]=ks,In[Fn++]=Ps,In[Fn++]=Hr,ks=e.id,Ps=e.overflow,Hr=t}var At=null,Le=null,be=!1,Tr=null,Qn=!1,c0=Error(_(519));function Vr(t){var e=Error(_(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hu(Gn(e,t)),c0}function Rv(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[wt]=t,e[an]=s,n){case"dialog":me("cancel",e),me("close",e);break;case"iframe":case"object":case"embed":me("load",e);break;case"video":case"audio":for(n=0;n<_u.length;n++)me(_u[n],e);break;case"source":me("error",e);break;case"img":case"image":case"link":me("error",e),me("load",e);break;case"details":me("toggle",e);break;case"input":me("invalid",e),eN(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":me("invalid",e);break;case"textarea":me("invalid",e),nN(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||ij(e.textContent,n)?(s.popover!=null&&(me("beforetoggle",e),me("toggle",e)),s.onScroll!=null&&me("scroll",e),s.onScrollEnd!=null&&me("scrollend",e),s.onClick!=null&&(e.onclick=ya),e=!0):e=!1,e||Vr(t,!0)}function Ov(t){for(At=t.return;At;)switch(At.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:At=At.return}}function To(t){if(t!==At)return!1;if(!be)return Ov(t),be=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||k0(t.type,t.memoizedProps)),n=!n),n&&Le&&Vr(t),Ov(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_(317));Le=g1(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_(317));Le=g1(t)}else e===27?(e=Le,Xr(t.type)?(t=z0,z0=null,Le=t):Le=e):Le=At?Kn(t.stateNode.nextSibling):null;return!0}function ro(){Le=At=null,be=!1}function Lp(){var t=Tr;return t!==null&&(Zt===null?Zt=t:Zt.push.apply(Zt,t),Tr=null),t}function Hu(t){Tr===null?Tr=[t]:Tr.push(t)}var u0=_s(null),wo=null,xa=null;function $a(t,e,n){Me(u0,e._currentValue),e._currentValue=n}function Aa(t){t._currentValue=u0.current,yt(u0)}function d0(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function f0(t,e,n,s){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var r=a.dependencies;if(r!==null){var i=a.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=a;for(var c=0;c<e.length;c++)if(o.context===e[c]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),d0(r.return,n,t),s||(i=null);break e}r=o.next}}else if(a.tag===18){if(i=a.return,i===null)throw Error(_(341));i.lanes|=n,r=i.alternate,r!==null&&(r.lanes|=n),d0(i,n,t),i=null}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}}function Cc(t,e,n,s){t=null;for(var a=e,r=!1;a!==null;){if(!r){if(a.flags&524288)r=!0;else if(a.flags&262144)break}if(a.tag===10){var i=a.alternate;if(i===null)throw Error(_(387));if(i=i.memoizedProps,i!==null){var o=a.type;jn(a.pendingProps.value,i.value)||(t!==null?t.push(o):t=[o])}}else if(a===uh.current){if(i=a.alternate,i===null)throw Error(_(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(Qu):t=[Qu])}a=a.return}t!==null&&f0(e,t,n,s),e.flags|=262144}function xh(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function io(t){wo=t,xa=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Et(t){return jN(wo,t)}function cf(t,e){return wo===null&&io(t),jN(t,e)}function jN(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},xa===null){if(t===null)throw Error(_(308));xa=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else xa=xa.next=e;return n}var g6=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},y6=dt.unstable_scheduleCallback,x6=dt.unstable_NormalPriority,rt={$$typeof:ga,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yx(){return{controller:new g6,data:new Map,refCount:0}}function Bd(t){t.refCount--,t.refCount===0&&y6(x6,function(){t.controller.abort()})}var yu=null,h0=0,ic=0,cl=null;function b6(t,e){if(yu===null){var n=yu=[];h0=0,ic=Fx(),cl={status:"pending",value:void 0,then:function(s){n.push(s)}}}return h0++,e.then(Dv,Dv),e}function Dv(){if(--h0===0&&yu!==null){cl!==null&&(cl.status="fulfilled");var t=yu;yu=null,ic=0,cl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function v6(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var a=0;a<n.length;a++)(0,n[a])(e)},function(a){for(s.status="rejected",s.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),s}var Bv=se.S;se.S=function(t,e){HE=vn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&b6(t,e),Bv!==null&&Bv(t,e)};var $i=_s(null);function xx(){var t=$i.current;return t!==null?t:Be.pooledCache}function zf(t,e){e===null?Me($i,$i.current):Me($i,e.pool)}function SN(){var t=xx();return t===null?null:{parent:rt._currentValue,pool:t}}var Rc=Error(_(460)),bx=Error(_(474)),Om=Error(_(542)),bh={then:function(){}};function Mv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function TN(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ya,ya),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Pv(t),t;default:if(typeof e.status=="string")e.then(ya,ya);else{if(t=Be,t!==null&&100<t.shellSuspendCounter)throw Error(_(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=s}},function(s){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Pv(t),t}throw Wi=e,Rc}}function ui(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Wi=n,Rc):n}}var Wi=null;function kv(){if(Wi===null)throw Error(_(459));var t=Wi;return Wi=null,t}function Pv(t){if(t===Rc||t===Om)throw Error(_(483))}var ul=null,Vu=0;function uf(t){var e=Vu;return Vu+=1,ul===null&&(ul=[]),TN(ul,t,e)}function Gc(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function df(t,e){throw e.$$typeof===i3?Error(_(525)):(t=Object.prototype.toString.call(e),Error(_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function CN(t){function e(b,g){if(t){var x=b.deletions;x===null?(b.deletions=[g],b.flags|=16):x.push(g)}}function n(b,g){if(!t)return null;for(;g!==null;)e(b,g),g=g.sibling;return null}function s(b){for(var g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(b,g){return b=wa(b,g),b.index=0,b.sibling=null,b}function r(b,g,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<g?(b.flags|=67108866,g):x):(b.flags|=67108866,g)):(b.flags|=1048576,g)}function i(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,g,x,A){return g===null||g.tag!==6?(g=Pp(x,b.mode,A),g.return=b,g):(g=a(g,x),g.return=b,g)}function c(b,g,x,A){var j=x.type;return j===zo?d(b,g,x.props.children,A,x.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ya&&ui(j)===g.type)?(g=a(g,x.props),Gc(g,x),g.return=b,g):(g=Lf(x.type,x.key,x.props,null,b.mode,A),Gc(g,x),g.return=b,g)}function u(b,g,x,A){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Up(x,b.mode,A),g.return=b,g):(g=a(g,x.children||[]),g.return=b,g)}function d(b,g,x,A,j){return g===null||g.tag!==7?(g=Xi(x,b.mode,A,j),g.return=b,g):(g=a(g,x),g.return=b,g)}function f(b,g,x){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Pp(""+g,b.mode,x),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case nf:return x=Lf(g.type,g.key,g.props,null,b.mode,x),Gc(x,g),x.return=b,x;case tu:return g=Up(g,b.mode,x),g.return=b,g;case Ya:return g=ui(g),f(b,g,x)}if(nu(g)||Ic(g))return g=Xi(g,b.mode,x,null),g.return=b,g;if(typeof g.then=="function")return f(b,uf(g),x);if(g.$$typeof===ga)return f(b,cf(b,g),x);df(b,g)}return null}function h(b,g,x,A){var j=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return j!==null?null:o(b,g,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case nf:return x.key===j?c(b,g,x,A):null;case tu:return x.key===j?u(b,g,x,A):null;case Ya:return x=ui(x),h(b,g,x,A)}if(nu(x)||Ic(x))return j!==null?null:d(b,g,x,A,null);if(typeof x.then=="function")return h(b,g,uf(x),A);if(x.$$typeof===ga)return h(b,g,cf(b,x),A);df(b,x)}return null}function m(b,g,x,A,j){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return b=b.get(x)||null,o(g,b,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case nf:return b=b.get(A.key===null?x:A.key)||null,c(g,b,A,j);case tu:return b=b.get(A.key===null?x:A.key)||null,u(g,b,A,j);case Ya:return A=ui(A),m(b,g,x,A,j)}if(nu(A)||Ic(A))return b=b.get(x)||null,d(g,b,A,j,null);if(typeof A.then=="function")return m(b,g,x,uf(A),j);if(A.$$typeof===ga)return m(b,g,x,cf(g,A),j);df(g,A)}return null}function p(b,g,x,A){for(var j=null,k=null,D=g,E=g=0,T=null;D!==null&&E<x.length;E++){D.index>E?(T=D,D=null):T=D.sibling;var B=h(b,D,x[E],A);if(B===null){D===null&&(D=T);break}t&&D&&B.alternate===null&&e(b,D),g=r(B,g,E),k===null?j=B:k.sibling=B,k=B,D=T}if(E===x.length)return n(b,D),be&&ta(b,E),j;if(D===null){for(;E<x.length;E++)D=f(b,x[E],A),D!==null&&(g=r(D,g,E),k===null?j=D:k.sibling=D,k=D);return be&&ta(b,E),j}for(D=s(D);E<x.length;E++)T=m(D,b,E,x[E],A),T!==null&&(t&&T.alternate!==null&&D.delete(T.key===null?E:T.key),g=r(T,g,E),k===null?j=T:k.sibling=T,k=T);return t&&D.forEach(function(R){return e(b,R)}),be&&ta(b,E),j}function y(b,g,x,A){if(x==null)throw Error(_(151));for(var j=null,k=null,D=g,E=g=0,T=null,B=x.next();D!==null&&!B.done;E++,B=x.next()){D.index>E?(T=D,D=null):T=D.sibling;var R=h(b,D,B.value,A);if(R===null){D===null&&(D=T);break}t&&D&&R.alternate===null&&e(b,D),g=r(R,g,E),k===null?j=R:k.sibling=R,k=R,D=T}if(B.done)return n(b,D),be&&ta(b,E),j;if(D===null){for(;!B.done;E++,B=x.next())B=f(b,B.value,A),B!==null&&(g=r(B,g,E),k===null?j=B:k.sibling=B,k=B);return be&&ta(b,E),j}for(D=s(D);!B.done;E++,B=x.next())B=m(D,b,E,B.value,A),B!==null&&(t&&B.alternate!==null&&D.delete(B.key===null?E:B.key),g=r(B,g,E),k===null?j=B:k.sibling=B,k=B);return t&&D.forEach(function(L){return e(b,L)}),be&&ta(b,E),j}function w(b,g,x,A){if(typeof x=="object"&&x!==null&&x.type===zo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case nf:e:{for(var j=x.key;g!==null;){if(g.key===j){if(j=x.type,j===zo){if(g.tag===7){n(b,g.sibling),A=a(g,x.props.children),A.return=b,b=A;break e}}else if(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ya&&ui(j)===g.type){n(b,g.sibling),A=a(g,x.props),Gc(A,x),A.return=b,b=A;break e}n(b,g);break}else e(b,g);g=g.sibling}x.type===zo?(A=Xi(x.props.children,b.mode,A,x.key),A.return=b,b=A):(A=Lf(x.type,x.key,x.props,null,b.mode,A),Gc(A,x),A.return=b,b=A)}return i(b);case tu:e:{for(j=x.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(b,g.sibling),A=a(g,x.children||[]),A.return=b,b=A;break e}else{n(b,g);break}else e(b,g);g=g.sibling}A=Up(x,b.mode,A),A.return=b,b=A}return i(b);case Ya:return x=ui(x),w(b,g,x,A)}if(nu(x))return p(b,g,x,A);if(Ic(x)){if(j=Ic(x),typeof j!="function")throw Error(_(150));return x=j.call(x),y(b,g,x,A)}if(typeof x.then=="function")return w(b,g,uf(x),A);if(x.$$typeof===ga)return w(b,g,cf(b,x),A);df(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,g!==null&&g.tag===6?(n(b,g.sibling),A=a(g,x),A.return=b,b=A):(n(b,g),A=Pp(x,b.mode,A),A.return=b,b=A),i(b)):n(b,g)}return function(b,g,x,A){try{Vu=0;var j=w(b,g,x,A);return ul=null,j}catch(D){if(D===Rc||D===Om)throw D;var k=yn(29,D,null,b.mode);return k.lanes=A,k.return=b,k}finally{}}}var oo=CN(!0),RN=CN(!1),Ja=!1;function vx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function m0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,we&2){var a=s.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),s.pending=e,e=gh(t),vN(t,null,n),e}return Rm(t,s,e,n),gh(t)}function xu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,KA(t,n)}}function zp(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=i:r=r.next=i,n=n.next}while(n!==null);r===null?a=r=e:r=r.next=e}else a=r=e;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var p0=!1;function bu(){if(p0){var t=cl;if(t!==null)throw t}}function vu(t,e,n,s){p0=!1;var a=t.updateQueue;Ja=!1;var r=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?r=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(r!==null){var f=a.baseState;i=0,d=u=c=null,o=r;do{var h=o.lane&-536870913,m=h!==o.lane;if(m?(ge&h)===h:(s&h)===h){h!==0&&h===ic&&(p0=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=t,y=o;h=e;var w=n;switch(y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(w,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(w,f,h):p,h==null)break e;f=He({},f,h);break e;case 2:Ja=!0}}h=o.callback,h!==null&&(t.flags|=64,m&&(t.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;m=o,o=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,r===null&&(a.shared.lanes=0),Fr|=i,t.lanes=i,t.memoizedState=f}}function ON(t,e){if(typeof t!="function")throw Error(_(191,t));t.call(e)}function DN(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)ON(n[t],e)}var oc=_s(null),vh=_s(0);function Uv(t,e){t=Ma,Me(vh,t),Me(oc,e),Ma=t|e.baseLanes}function g0(){Me(vh,Ma),Me(oc,oc.current)}function wx(){Ma=vh.current,yt(oc),yt(vh)}var Sn=_s(null),qn=null;function Wa(t){var e=t.alternate;Me(Xe,Xe.current&1),Me(Sn,t),qn===null&&(e===null||oc.current!==null||e.memoizedState!==null)&&(qn=t)}function y0(t){Me(Xe,Xe.current),Me(Sn,t),qn===null&&(qn=t)}function BN(t){t.tag===22?(Me(Xe,Xe.current),Me(Sn,t),qn===null&&(qn=t)):er()}function er(){Me(Xe,Xe.current),Me(Sn,Sn.current)}function gn(t){yt(Sn),qn===t&&(qn=null),yt(Xe)}var Xe=_s(0);function wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||U0(n)||L0(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oa=0,oe=null,Oe=null,st=null,Ah=!1,dl=!1,lo=!1,Nh=0,Iu=0,fl=null,w6=0;function Qe(){throw Error(_(321))}function Ax(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function Nx(t,e,n,s,a,r){return Oa=r,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,se.H=t===null||t.memoizedState===null?cE:kx,lo=!1,r=n(s,a),lo=!1,dl&&(r=kN(e,n,s,a)),MN(t),r}function MN(t){se.H=Fu;var e=Oe!==null&&Oe.next!==null;if(Oa=0,st=Oe=oe=null,Ah=!1,Iu=0,fl=null,e)throw Error(_(300));t===null||ot||(t=t.dependencies,t!==null&&xh(t)&&(ot=!0))}function kN(t,e,n,s){oe=t;var a=0;do{if(dl&&(fl=null),Iu=0,dl=!1,25<=a)throw Error(_(301));if(a+=1,st=Oe=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}se.H=uE,r=e(n,s)}while(dl);return r}function A6(){var t=se.H,e=t.useState()[0];return e=typeof e.then=="function"?Md(e):e,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(oe.flags|=1024),e}function Ex(){var t=Nh!==0;return Nh=0,t}function jx(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Sx(t){if(Ah){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ah=!1}Oa=0,st=Oe=oe=null,dl=!1,Iu=Nh=0,fl=null}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?oe.memoizedState=st=t:st=st.next=t,st}function We(){if(Oe===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=st===null?oe.memoizedState:st.next;if(e!==null)st=e,Oe=t;else{if(t===null)throw oe.alternate===null?Error(_(467)):Error(_(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},st===null?oe.memoizedState=st=t:st=st.next=t}return st}function Dm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Md(t){var e=Iu;return Iu+=1,fl===null&&(fl=[]),t=TN(fl,t,e),e=oe,(st===null?e.memoizedState:st.next)===null&&(e=e.alternate,se.H=e===null||e.memoizedState===null?cE:kx),t}function Bm(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Md(t);if(t.$$typeof===ga)return Et(t)}throw Error(_(438,String(t)))}function Tx(t){var e=null,n=oe.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=oe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Dm(),oe.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=o3;return e.index++,n}function Da(t,e){return typeof e=="function"?e(t):e}function Hf(t){var e=We();return Cx(e,Oe,t)}function Cx(t,e,n){var s=t.queue;if(s===null)throw Error(_(311));s.lastRenderedReducer=n;var a=t.baseQueue,r=s.pending;if(r!==null){if(a!==null){var i=a.next;a.next=r.next,r.next=i}e.baseQueue=a=r,s.pending=null}if(r=t.baseState,a===null)t.memoizedState=r;else{e=a.next;var o=i=null,c=null,u=e,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ge&f)===f:(Oa&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ic&&(d=!0);else if((Oa&h)===h){u=u.next,h===ic&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=f,i=r):c=c.next=f,oe.lanes|=h,Fr|=h;f=u.action,lo&&n(r,f),r=u.hasEagerState?u.eagerState:n(r,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=h,i=r):c=c.next=h,oe.lanes|=f,Fr|=f;u=u.next}while(u!==null&&u!==e);if(c===null?i=r:c.next=o,!jn(r,t.memoizedState)&&(ot=!0,d&&(n=cl,n!==null)))throw n;t.memoizedState=r,t.baseState=i,t.baseQueue=c,s.lastRenderedState=r}return a===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Hp(t){var e=We(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var s=n.dispatch,a=n.pending,r=e.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do r=t(r,i.action),i=i.next;while(i!==a);jn(r,e.memoizedState)||(ot=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function PN(t,e,n){var s=oe,a=We(),r=be;if(r){if(n===void 0)throw Error(_(407));n=n()}else n=e();var i=!jn((Oe||a).memoizedState,n);if(i&&(a.memoizedState=n,ot=!0),a=a.queue,Rx(zN.bind(null,s,a,t),[t]),a.getSnapshot!==e||i||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,lc(9,{destroy:void 0},LN.bind(null,s,a,n,e),null),Be===null)throw Error(_(349));r||Oa&127||UN(s,e,n)}return n}function UN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=oe.updateQueue,e===null?(e=Dm(),oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LN(t,e,n,s){e.value=n,e.getSnapshot=s,HN(e)&&VN(t)}function zN(t,e,n){return n(function(){HN(e)&&VN(t)})}function HN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function VN(t){var e=vo(t,2);e!==null&&en(e,t,2)}function x0(t){var e=Ut();if(typeof t=="function"){var n=t;if(t=n(),lo){vr(!0);try{n()}finally{vr(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},e}function IN(t,e,n,s){return t.baseState=n,Cx(t,Oe,typeof s=="function"?s:Da)}function N6(t,e,n,s,a){if(km(t))throw Error(_(485));if(t=e.action,t!==null){var r={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){r.listeners.push(i)}};se.T!==null?n(!0):r.isTransition=!1,s(r),n=e.pending,n===null?(r.next=e.pending=r,FN(e,r)):(r.next=n.next,e.pending=n.next=r)}}function FN(t,e){var n=e.action,s=e.payload,a=t.state;if(e.isTransition){var r=se.T,i={};se.T=i;try{var o=n(a,s),c=se.S;c!==null&&c(i,o),Lv(t,e,o)}catch(u){b0(t,e,u)}finally{r!==null&&i.types!==null&&(r.types=i.types),se.T=r}}else try{r=n(a,s),Lv(t,e,r)}catch(u){b0(t,e,u)}}function Lv(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){zv(t,e,s)},function(s){return b0(t,e,s)}):zv(t,e,n)}function zv(t,e,n){e.status="fulfilled",e.value=n,_N(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,FN(t,n)))}function b0(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,_N(e),e=e.next;while(e!==s)}t.action=null}function _N(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function GN(t,e){return e}function Hv(t,e){if(be){var n=Be.formState;if(n!==null){e:{var s=oe;if(be){if(Le){t:{for(var a=Le,r=Qn;a.nodeType!==8;){if(!r){a=null;break t}if(a=Kn(a.nextSibling),a===null){a=null;break t}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){Le=Kn(a.nextSibling),s=a.data==="F!";break e}}Vr(s)}s=!1}s&&(e=n[0])}}return n=Ut(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:GN,lastRenderedState:e},n.queue=s,n=iE.bind(null,oe,s),s.dispatch=n,s=x0(!1),r=Mx.bind(null,oe,!1,s.queue),s=Ut(),a={state:e,dispatch:null,action:t,pending:null},s.queue=a,n=N6.bind(null,oe,a,r,n),a.dispatch=n,s.memoizedState=t,[e,n,!1]}function Vv(t){var e=We();return QN(e,Oe,t)}function QN(t,e,n){if(e=Cx(t,e,GN)[0],t=Hf(Da)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=Md(e)}catch(i){throw i===Rc?Om:i}else s=e;e=We();var a=e.queue,r=a.dispatch;return n!==e.memoizedState&&(oe.flags|=2048,lc(9,{destroy:void 0},E6.bind(null,a,n),null)),[s,r,t]}function E6(t,e){t.action=e}function Iv(t){var e=We(),n=Oe;if(n!==null)return QN(e,n,t);We(),e=e.memoizedState,n=We();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function lc(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=oe.updateQueue,e===null&&(e=Dm(),oe.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function qN(){return We().memoizedState}function Vf(t,e,n,s){var a=Ut();oe.flags|=t,a.memoizedState=lc(1|e,{destroy:void 0},n,s===void 0?null:s)}function Mm(t,e,n,s){var a=We();s=s===void 0?null:s;var r=a.memoizedState.inst;Oe!==null&&s!==null&&Ax(s,Oe.memoizedState.deps)?a.memoizedState=lc(e,r,n,s):(oe.flags|=t,a.memoizedState=lc(1|e,r,n,s))}function Fv(t,e){Vf(8390656,8,t,e)}function Rx(t,e){Mm(2048,8,t,e)}function j6(t){oe.flags|=4;var e=oe.updateQueue;if(e===null)e=Dm(),oe.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function KN(t){var e=We().memoizedState;return j6({ref:e,nextImpl:t}),function(){if(we&2)throw Error(_(440));return e.impl.apply(void 0,arguments)}}function YN(t,e){return Mm(4,2,t,e)}function JN(t,e){return Mm(4,4,t,e)}function ZN(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XN(t,e,n){n=n!=null?n.concat([t]):null,Mm(4,4,ZN.bind(null,e,t),n)}function Ox(){}function $N(t,e){var n=We();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&Ax(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function WN(t,e){var n=We();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&Ax(e,s[1]))return s[0];if(s=t(),lo){vr(!0);try{t()}finally{vr(!1)}}return n.memoizedState=[s,e],s}function Dx(t,e,n){return n===void 0||Oa&1073741824&&!(ge&261930)?t.memoizedState=e:(t.memoizedState=n,t=IE(),oe.lanes|=t,Fr|=t,n)}function eE(t,e,n,s){return jn(n,e)?n:oc.current!==null?(t=Dx(t,n,s),jn(t,e)||(ot=!0),t):!(Oa&42)||Oa&1073741824&&!(ge&261930)?(ot=!0,t.memoizedState=n):(t=IE(),oe.lanes|=t,Fr|=t,e)}function tE(t,e,n,s,a){var r=Ae.p;Ae.p=r!==0&&8>r?r:8;var i=se.T,o={};se.T=o,Mx(t,!1,e,n);try{var c=a(),u=se.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=v6(c,s);wu(t,e,d,Nn(t))}else wu(t,e,s,Nn(t))}catch(f){wu(t,e,{then:function(){},status:"rejected",reason:f},Nn())}finally{Ae.p=r,i!==null&&o.types!==null&&(i.types=o.types),se.T=i}}function S6(){}function v0(t,e,n,s){if(t.tag!==5)throw Error(_(476));var a=nE(t).queue;tE(t,a,e,Zi,n===null?S6:function(){return sE(t),n(s)})}function nE(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Zi,baseState:Zi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:Zi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function sE(t){var e=nE(t);e.next===null&&(e=t.alternate.memoizedState),wu(t,e.next.queue,{},Nn())}function Bx(){return Et(Qu)}function aE(){return We().memoizedState}function rE(){return We().memoizedState}function T6(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Nn();t=Cr(n);var s=Rr(e,t,n);s!==null&&(en(s,e,n),xu(s,e,n)),e={cache:yx()},t.payload=e;return}e=e.return}}function C6(t,e,n){var s=Nn();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},km(t)?oE(e,n):(n=hx(t,e,n,s),n!==null&&(en(n,t,s),lE(n,e,s)))}function iE(t,e,n){var s=Nn();wu(t,e,n,s)}function wu(t,e,n,s){var a={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(km(t))oE(e,a);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var i=e.lastRenderedState,o=r(i,n);if(a.hasEagerState=!0,a.eagerState=o,jn(o,i))return Rm(t,e,a,0),Be===null&&Cm(),!1}catch{}finally{}if(n=hx(t,e,a,s),n!==null)return en(n,t,s),lE(n,e,s),!0}return!1}function Mx(t,e,n,s){if(s={lane:2,revertLane:Fx(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},km(t)){if(e)throw Error(_(479))}else e=hx(t,n,s,2),e!==null&&en(e,t,2)}function km(t){var e=t.alternate;return t===oe||e!==null&&e===oe}function oE(t,e){dl=Ah=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lE(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,KA(t,n)}}var Fu={readContext:Et,use:Bm,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Fu.useEffectEvent=Qe;var cE={readContext:Et,use:Bm,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:Fv,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Vf(4194308,4,ZN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vf(4194308,4,t,e)},useInsertionEffect:function(t,e){Vf(4,2,t,e)},useMemo:function(t,e){var n=Ut();e=e===void 0?null:e;var s=t();if(lo){vr(!0);try{t()}finally{vr(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Ut();if(n!==void 0){var a=n(e);if(lo){vr(!0);try{n(e)}finally{vr(!1)}}}else a=e;return s.memoizedState=s.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},s.queue=t,t=t.dispatch=C6.bind(null,oe,t),[s.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:function(t){t=x0(t);var e=t.queue,n=iE.bind(null,oe,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Ox,useDeferredValue:function(t,e){var n=Ut();return Dx(n,t,e)},useTransition:function(){var t=x0(!1);return t=tE.bind(null,oe,t.queue,!0,!1),Ut().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=oe,a=Ut();if(be){if(n===void 0)throw Error(_(407));n=n()}else{if(n=e(),Be===null)throw Error(_(349));ge&127||UN(s,e,n)}a.memoizedState=n;var r={value:n,getSnapshot:e};return a.queue=r,Fv(zN.bind(null,s,r,t),[t]),s.flags|=2048,lc(9,{destroy:void 0},LN.bind(null,s,r,n,e),null),n},useId:function(){var t=Ut(),e=Be.identifierPrefix;if(be){var n=Ps,s=ks;n=(s&~(1<<32-An(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Nh++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=w6++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Bx,useFormState:Hv,useActionState:Hv,useOptimistic:function(t){var e=Ut();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Mx.bind(null,oe,!0,n),n.dispatch=e,[t,e]},useMemoCache:Tx,useCacheRefresh:function(){return Ut().memoizedState=T6.bind(null,oe)},useEffectEvent:function(t){var e=Ut(),n={impl:t};return e.memoizedState=n,function(){if(we&2)throw Error(_(440));return n.impl.apply(void 0,arguments)}}},kx={readContext:Et,use:Bm,useCallback:$N,useContext:Et,useEffect:Rx,useImperativeHandle:XN,useInsertionEffect:YN,useLayoutEffect:JN,useMemo:WN,useReducer:Hf,useRef:qN,useState:function(){return Hf(Da)},useDebugValue:Ox,useDeferredValue:function(t,e){var n=We();return eE(n,Oe.memoizedState,t,e)},useTransition:function(){var t=Hf(Da)[0],e=We().memoizedState;return[typeof t=="boolean"?t:Md(t),e]},useSyncExternalStore:PN,useId:aE,useHostTransitionStatus:Bx,useFormState:Vv,useActionState:Vv,useOptimistic:function(t,e){var n=We();return IN(n,Oe,t,e)},useMemoCache:Tx,useCacheRefresh:rE};kx.useEffectEvent=KN;var uE={readContext:Et,use:Bm,useCallback:$N,useContext:Et,useEffect:Rx,useImperativeHandle:XN,useInsertionEffect:YN,useLayoutEffect:JN,useMemo:WN,useReducer:Hp,useRef:qN,useState:function(){return Hp(Da)},useDebugValue:Ox,useDeferredValue:function(t,e){var n=We();return Oe===null?Dx(n,t,e):eE(n,Oe.memoizedState,t,e)},useTransition:function(){var t=Hp(Da)[0],e=We().memoizedState;return[typeof t=="boolean"?t:Md(t),e]},useSyncExternalStore:PN,useId:aE,useHostTransitionStatus:Bx,useFormState:Iv,useActionState:Iv,useOptimistic:function(t,e){var n=We();return Oe!==null?IN(n,Oe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Tx,useCacheRefresh:rE};uE.useEffectEvent=KN;function Vp(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var w0={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Nn(),a=Cr(s);a.payload=e,n!=null&&(a.callback=n),e=Rr(t,a,s),e!==null&&(en(e,t,s),xu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Nn(),a=Cr(s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Rr(t,a,s),e!==null&&(en(e,t,s),xu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nn(),s=Cr(n);s.tag=2,e!=null&&(s.callback=e),e=Rr(t,s,n),e!==null&&(en(e,t,n),xu(e,t,n))}};function _v(t,e,n,s,a,r,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,i):e.prototype&&e.prototype.isPureReactComponent?!Lu(n,s)||!Lu(a,r):!0}function Gv(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&w0.enqueueReplaceState(e,e.state,null)}function co(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=He({},n));for(var a in t)n[a]===void 0&&(n[a]=t[a])}return n}function dE(t){ph(t)}function fE(t){console.error(t)}function hE(t){ph(t)}function Eh(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function Qv(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function A0(t,e,n){return n=Cr(n),n.tag=3,n.payload={element:null},n.callback=function(){Eh(t,e)},n}function mE(t){return t=Cr(t),t.tag=3,t}function pE(t,e,n,s){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=s.value;t.payload=function(){return a(r)},t.callback=function(){Qv(e,n,s)}}var i=n.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Qv(e,n,s),typeof a!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function R6(t,e,n,s,a){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&Cc(e,n,a,!0),n=Sn.current,n!==null){switch(n.tag){case 31:case 13:return qn===null?Rh():n.alternate===null&&Ke===0&&(Ke=3),n.flags&=-257,n.flags|=65536,n.lanes=a,s===bh?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),Xp(t,s,a)),!1;case 22:return n.flags|=65536,s===bh?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),Xp(t,s,a)),!1}throw Error(_(435,n.tag))}return Xp(t,s,a),Rh(),!1}if(be)return e=Sn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=a,s!==c0&&(t=Error(_(422),{cause:s}),Hu(Gn(t,n)))):(s!==c0&&(e=Error(_(423),{cause:s}),Hu(Gn(e,n))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,s=Gn(s,n),a=A0(t.stateNode,s,a),zp(t,a),Ke!==4&&(Ke=2)),!1;var r=Error(_(520),{cause:s});if(r=Gn(r,n),Eu===null?Eu=[r]:Eu.push(r),Ke!==4&&(Ke=2),e===null)return!0;s=Gn(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,t=A0(n.stateNode,s,t),zp(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Or===null||!Or.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=mE(a),pE(a,t,n,s),zp(n,a),!1}n=n.return}while(n!==null);return!1}var Px=Error(_(461)),ot=!1;function bt(t,e,n,s){e.child=t===null?RN(e,null,n,s):oo(e,t.child,n,s)}function qv(t,e,n,s,a){n=n.render;var r=e.ref;if("ref"in s){var i={};for(var o in s)o!=="ref"&&(i[o]=s[o])}else i=s;return io(e),s=Nx(t,e,n,i,r,a),o=Ex(),t!==null&&!ot?(jx(t,e,a),Ba(t,e,a)):(be&&o&&px(e),e.flags|=1,bt(t,e,s,a),e.child)}function Kv(t,e,n,s,a){if(t===null){var r=n.type;return typeof r=="function"&&!mx(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,gE(t,e,r,s,a)):(t=Lf(n.type,null,s,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Ux(t,a)){var i=r.memoizedProps;if(n=n.compare,n=n!==null?n:Lu,n(i,s)&&t.ref===e.ref)return Ba(t,e,a)}return e.flags|=1,t=wa(r,s),t.ref=e.ref,t.return=e,e.child=t}function gE(t,e,n,s,a){if(t!==null){var r=t.memoizedProps;if(Lu(r,s)&&t.ref===e.ref)if(ot=!1,e.pendingProps=s=r,Ux(t,a))t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,Ba(t,e,a)}return N0(t,e,n,s,a)}function yE(t,e,n,s){var a=s.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,a=0;s!==null;)a=a|s.lanes|s.childLanes,s=s.sibling;s=a&~r}else s=0,e.child=null;return Yv(t,e,r,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&zf(e,r!==null?r.cachePool:null),r!==null?Uv(e,r):g0(),BN(e);else return s=e.lanes=536870912,Yv(t,e,r!==null?r.baseLanes|n:n,n,s)}else r!==null?(zf(e,r.cachePool),Uv(e,r),er(),e.memoizedState=null):(t!==null&&zf(e,null),g0(),er());return bt(t,e,a,n),e.child}function au(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Yv(t,e,n,s,a){var r=xx();return r=r===null?null:{parent:rt._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&zf(e,null),g0(),BN(e),t!==null&&Cc(t,e,s,!0),e.childLanes=a,null}function If(t,e){return e=jh({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Jv(t,e,n){return oo(e,t.child,null,n),t=If(e,e.pendingProps),t.flags|=2,gn(e),e.memoizedState=null,t}function O6(t,e,n){var s=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(be){if(s.mode==="hidden")return t=If(e,s),e.lanes=536870912,au(null,t);if(y0(e),(t=Le)?(t=cj(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Hr!==null?{id:ks,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},n=AN(t),n.return=e,e.child=n,At=e,Le=null)):t=null,t===null)throw Vr(e);return e.lanes=536870912,null}return If(e,s)}var r=t.memoizedState;if(r!==null){var i=r.dehydrated;if(y0(e),a)if(e.flags&256)e.flags&=-257,e=Jv(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(_(558));else if(ot||Cc(t,e,n,!1),a=(n&t.childLanes)!==0,ot||a){if(s=Be,s!==null&&(i=YA(s,n),i!==0&&i!==r.retryLane))throw r.retryLane=i,vo(t,i),en(s,t,i),Px;Rh(),e=Jv(t,e,n)}else t=r.treeContext,Le=Kn(i.nextSibling),At=e,be=!0,Tr=null,Qn=!1,t!==null&&EN(e,t),e=If(e,s),e.flags|=4096;return e}return t=wa(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Ff(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(_(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function N0(t,e,n,s,a){return io(e),n=Nx(t,e,n,s,void 0,a),s=Ex(),t!==null&&!ot?(jx(t,e,a),Ba(t,e,a)):(be&&s&&px(e),e.flags|=1,bt(t,e,n,a),e.child)}function Zv(t,e,n,s,a,r){return io(e),e.updateQueue=null,n=kN(e,s,n,a),MN(t),s=Ex(),t!==null&&!ot?(jx(t,e,r),Ba(t,e,r)):(be&&s&&px(e),e.flags|=1,bt(t,e,n,r),e.child)}function Xv(t,e,n,s,a){if(io(e),e.stateNode===null){var r=qo,i=n.contextType;typeof i=="object"&&i!==null&&(r=Et(i)),r=new n(s,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=w0,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=s,r.state=e.memoizedState,r.refs={},vx(e),i=n.contextType,r.context=typeof i=="object"&&i!==null?Et(i):qo,r.state=e.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(Vp(e,n,i,s),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(i=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),i!==r.state&&w0.enqueueReplaceState(r,r.state,null),vu(e,s,r,a),bu(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){r=e.stateNode;var o=e.memoizedProps,c=co(n,o);r.props=c;var u=r.context,d=n.contextType;i=qo,typeof d=="object"&&d!==null&&(i=Et(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||u!==i)&&Gv(e,r,s,i),Ja=!1;var h=e.memoizedState;r.state=h,vu(e,s,r,a),bu(),u=e.memoizedState,o||h!==u||Ja?(typeof f=="function"&&(Vp(e,n,f,s),u=e.memoizedState),(c=Ja||_v(e,n,c,s,h,u,i))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),r.props=s,r.state=u,r.context=i,s=c):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{r=e.stateNode,m0(t,e),i=e.memoizedProps,d=co(n,i),r.props=d,f=e.pendingProps,h=r.context,u=n.contextType,c=qo,typeof u=="object"&&u!==null&&(c=Et(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(i!==f||h!==c)&&Gv(e,r,s,c),Ja=!1,h=e.memoizedState,r.state=h,vu(e,s,r,a),bu();var m=e.memoizedState;i!==f||h!==m||Ja||t!==null&&t.dependencies!==null&&xh(t.dependencies)?(typeof o=="function"&&(Vp(e,n,o,s),m=e.memoizedState),(d=Ja||_v(e,n,d,s,h,m,c)||t!==null&&t.dependencies!==null&&xh(t.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,m,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,m,c)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||i===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),r.props=s,r.state=m,r.context=c,s=d):(typeof r.componentDidUpdate!="function"||i===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),s=!1)}return r=s,Ff(t,e),s=(e.flags&128)!==0,r||s?(r=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&s?(e.child=oo(e,t.child,null,a),e.child=oo(e,null,n,a)):bt(t,e,n,a),e.memoizedState=r.state,t=e.child):t=Ba(t,e,a),t}function $v(t,e,n,s){return ro(),e.flags|=256,bt(t,e,n,s),e.child}var Ip={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fp(t){return{baseLanes:t,cachePool:SN()}}function _p(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=xn),t}function xE(t,e,n){var s=e.pendingProps,a=!1,r=(e.flags&128)!==0,i;if((i=r)||(i=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),i&&(a=!0,e.flags&=-129),i=(e.flags&32)!==0,e.flags&=-33,t===null){if(be){if(a?Wa(e):er(),(t=Le)?(t=cj(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Hr!==null?{id:ks,overflow:Ps}:null,retryLane:536870912,hydrationErrors:null},n=AN(t),n.return=e,e.child=n,At=e,Le=null)):t=null,t===null)throw Vr(e);return L0(t)?e.lanes=32:e.lanes=536870912,null}var o=s.children;return s=s.fallback,a?(er(),a=e.mode,o=jh({mode:"hidden",children:o},a),s=Xi(s,a,n,null),o.return=e,s.return=e,o.sibling=s,e.child=o,s=e.child,s.memoizedState=Fp(n),s.childLanes=_p(t,i,n),e.memoizedState=Ip,au(null,s)):(Wa(e),E0(e,o))}var c=t.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(r)e.flags&256?(Wa(e),e.flags&=-257,e=Gp(t,e,n)):e.memoizedState!==null?(er(),e.child=t.child,e.flags|=128,e=null):(er(),o=s.fallback,a=e.mode,s=jh({mode:"visible",children:s.children},a),o=Xi(o,a,n,null),o.flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,oo(e,t.child,null,n),s=e.child,s.memoizedState=Fp(n),s.childLanes=_p(t,i,n),e.memoizedState=Ip,e=au(null,s));else if(Wa(e),L0(o)){if(i=o.nextSibling&&o.nextSibling.dataset,i)var u=i.dgst;i=u,s=Error(_(419)),s.stack="",s.digest=i,Hu({value:s,source:null,stack:null}),e=Gp(t,e,n)}else if(ot||Cc(t,e,n,!1),i=(n&t.childLanes)!==0,ot||i){if(i=Be,i!==null&&(s=YA(i,n),s!==0&&s!==c.retryLane))throw c.retryLane=s,vo(t,s),en(i,t,s),Px;U0(o)||Rh(),e=Gp(t,e,n)}else U0(o)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Le=Kn(o.nextSibling),At=e,be=!0,Tr=null,Qn=!1,t!==null&&EN(e,t),e=E0(e,s.children),e.flags|=4096);return e}return a?(er(),o=s.fallback,a=e.mode,c=t.child,u=c.sibling,s=wa(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?o=wa(u,o):(o=Xi(o,a,n,null),o.flags|=2),o.return=e,s.return=e,s.sibling=o,e.child=s,au(null,s),s=e.child,o=t.child.memoizedState,o===null?o=Fp(n):(a=o.cachePool,a!==null?(c=rt._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=SN(),o={baseLanes:o.baseLanes|n,cachePool:a}),s.memoizedState=o,s.childLanes=_p(t,i,n),e.memoizedState=Ip,au(t.child,s)):(Wa(e),n=t.child,t=n.sibling,n=wa(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n)}function E0(t,e){return e=jh({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function jh(t,e){return t=yn(22,t,null,e),t.lanes=0,t}function Gp(t,e,n){return oo(e,t.child,null,n),t=E0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wv(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),d0(t.return,e,n)}function Qp(t,e,n,s,a,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a,treeForkCount:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a,i.treeForkCount=r)}function bE(t,e,n){var s=e.pendingProps,a=s.revealOrder,r=s.tail;s=s.children;var i=Xe.current,o=(i&2)!==0;if(o?(i=i&1|2,e.flags|=128):i&=1,Me(Xe,i),bt(t,e,s,n),s=be?zu:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wv(t,n,e);else if(t.tag===19)Wv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&wh(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),Qp(e,!1,a,n,r,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&wh(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Qp(e,!0,n,null,r,s);break;case"together":Qp(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Ba(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fr|=e.lanes,!(n&e.childLanes))if(t!==null){if(Cc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(_(153));if(e.child!==null){for(t=e.child,n=wa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ux(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&xh(t)))}function D6(t,e,n){switch(e.tag){case 3:dh(e,e.stateNode.containerInfo),$a(e,rt,t.memoizedState.cache),ro();break;case 27:case 5:$g(e);break;case 4:dh(e,e.stateNode.containerInfo);break;case 10:$a(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,y0(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Wa(e),e.flags|=128,null):n&e.child.childLanes?xE(t,e,n):(Wa(e),t=Ba(t,e,n),t!==null?t.sibling:null);Wa(e);break;case 19:var a=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(Cc(t,e,n,!1),s=(n&e.childLanes)!==0),a){if(s)return bE(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Me(Xe,Xe.current),s)break;return null;case 22:return e.lanes=0,yE(t,e,n,e.pendingProps);case 24:$a(e,rt,t.memoizedState.cache)}return Ba(t,e,n)}function vE(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ot=!0;else{if(!Ux(t,n)&&!(e.flags&128))return ot=!1,D6(t,e,n);ot=!!(t.flags&131072)}else ot=!1,be&&e.flags&1048576&&NN(e,zu,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=ui(e.elementType),e.type=t,typeof t=="function")mx(t)?(s=co(t,s),e.tag=1,e=Xv(null,e,t,s,n)):(e.tag=0,e=N0(null,e,t,s,n));else{if(t!=null){var a=t.$$typeof;if(a===ex){e.tag=11,e=qv(null,e,t,s,n);break e}else if(a===tx){e.tag=14,e=Kv(null,e,t,s,n);break e}}throw e=Zg(t)||t,Error(_(306,e,""))}}return e;case 0:return N0(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,a=co(s,e.pendingProps),Xv(t,e,s,a,n);case 3:e:{if(dh(e,e.stateNode.containerInfo),t===null)throw Error(_(387));s=e.pendingProps;var r=e.memoizedState;a=r.element,m0(t,e),vu(e,s,null,n);var i=e.memoizedState;if(s=i.cache,$a(e,rt,s),s!==r.cache&&f0(e,[rt],n,!0),bu(),s=i.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:i.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=$v(t,e,s,n);break e}else if(s!==a){a=Gn(Error(_(424)),e),Hu(a),e=$v(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Le=Kn(t.firstChild),At=e,be=!0,Tr=null,Qn=!0,n=RN(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ro(),s===a){e=Ba(t,e,n);break e}bt(t,e,s,n)}e=e.child}return e;case 26:return Ff(t,e),t===null?(n=b1(e.type,null,e.pendingProps,null))?e.memoizedState=n:be||(n=e.type,t=e.pendingProps,s=Mh(Sr.current).createElement(n),s[wt]=e,s[an]=t,jt(s,n,t),pt(s),e.stateNode=s):e.memoizedState=b1(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return $g(e),t===null&&be&&(s=e.stateNode=uj(e.type,e.pendingProps,Sr.current),At=e,Qn=!0,a=Le,Xr(e.type)?(z0=a,Le=Kn(s.firstChild)):Le=a),bt(t,e,e.pendingProps.children,n),Ff(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&be&&((a=s=Le)&&(s=oR(s,e.type,e.pendingProps,Qn),s!==null?(e.stateNode=s,At=e,Le=Kn(s.firstChild),Qn=!1,a=!0):a=!1),a||Vr(e)),$g(e),a=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,s=r.children,k0(a,r)?s=null:i!==null&&k0(a,i)&&(e.flags|=32),e.memoizedState!==null&&(a=Nx(t,e,A6,null,null,n),Qu._currentValue=a),Ff(t,e),bt(t,e,s,n),e.child;case 6:return t===null&&be&&((t=n=Le)&&(n=lR(n,e.pendingProps,Qn),n!==null?(e.stateNode=n,At=e,Le=null,t=!0):t=!1),t||Vr(e)),null;case 13:return xE(t,e,n);case 4:return dh(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=oo(e,null,s,n):bt(t,e,s,n),e.child;case 11:return qv(t,e,e.type,e.pendingProps,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,$a(e,e.type,s.value),bt(t,e,s.children,n),e.child;case 9:return a=e.type._context,s=e.pendingProps.children,io(e),a=Et(a),s=s(a),e.flags|=1,bt(t,e,s,n),e.child;case 14:return Kv(t,e,e.type,e.pendingProps,n);case 15:return gE(t,e,e.type,e.pendingProps,n);case 19:return bE(t,e,n);case 31:return O6(t,e,n);case 22:return yE(t,e,n,e.pendingProps);case 24:return io(e),s=Et(rt),t===null?(a=xx(),a===null&&(a=Be,r=yx(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),e.memoizedState={parent:s,cache:a},vx(e),$a(e,rt,a)):(t.lanes&n&&(m0(t,e),vu(e,null,null,n),bu()),a=t.memoizedState,r=e.memoizedState,a.parent!==s?(a={parent:s,cache:s},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),$a(e,rt,s)):(s=r.cache,$a(e,rt,s),s!==a.cache&&f0(e,[rt],n,!0))),bt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(_(156,e.tag))}function qs(t){t.flags|=4}function qp(t,e,n,s,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(GE())t.flags|=8192;else throw Wi=bh,bx}else t.flags&=-16777217}function e1(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!hj(e))if(GE())t.flags|=8192;else throw Wi=bh,bx}function ff(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?QA():536870912,t.lanes|=e,cc|=e)}function Qc(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&65011712,s|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function B6(t,e,n){var s=e.pendingProps;switch(gx(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(e),null;case 1:return Ue(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Aa(rt),sc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(To(e)?qs(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lp())),Ue(e),null;case 26:var a=e.type,r=e.memoizedState;return t===null?(qs(e),r!==null?(Ue(e),e1(e,r)):(Ue(e),qp(e,a,null,s,n))):r?r!==t.memoizedState?(qs(e),Ue(e),e1(e,r)):(Ue(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&qs(e),Ue(e),qp(e,a,t,s,n)),null;case 27:if(fh(e),n=Sr.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&qs(e);else{if(!s){if(e.stateNode===null)throw Error(_(166));return Ue(e),null}t=Vs.current,To(e)?Rv(e):(t=uj(a,s,n),e.stateNode=t,qs(e))}return Ue(e),null;case 5:if(fh(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&qs(e);else{if(!s){if(e.stateNode===null)throw Error(_(166));return Ue(e),null}if(r=Vs.current,To(e))Rv(e);else{var i=Mh(Sr.current);switch(r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=i.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?i.createElement(a,{is:s.is}):i.createElement(a)}}r[wt]=e,r[an]=s;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=r;e:switch(jt(r,a,s),a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&qs(e)}}return Ue(e),qp(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&qs(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(_(166));if(t=Sr.current,To(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,a=At,a!==null)switch(a.tag){case 27:case 5:s=a.memoizedProps}t[wt]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||ij(t.nodeValue,n)),t||Vr(e,!0)}else t=Mh(t).createTextNode(s),t[wt]=e,e.stateNode=t}return Ue(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=To(e),n!==null){if(t===null){if(!s)throw Error(_(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_(557));t[wt]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ue(e),t=!1}else n=Lp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(gn(e),e):(gn(e),null);if(e.flags&128)throw Error(_(558))}return Ue(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=To(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(_(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_(317));a[wt]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ue(e),a=!1}else a=Lp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(gn(e),e):(gn(e),null)}return gn(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,a=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(a=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ff(e,e.updateQueue),Ue(e),null);case 4:return sc(),t===null&&_x(e.stateNode.containerInfo),Ue(e),null;case 10:return Aa(e.type),Ue(e),null;case 19:if(yt(Xe),s=e.memoizedState,s===null)return Ue(e),null;if(a=(e.flags&128)!==0,r=s.rendering,r===null)if(a)Qc(s,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=wh(t),r!==null){for(e.flags|=128,Qc(s,!1),t=r.updateQueue,e.updateQueue=t,ff(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)wN(n,t),n=n.sibling;return Me(Xe,Xe.current&1|2),be&&ta(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&vn()>Th&&(e.flags|=128,a=!0,Qc(s,!1),e.lanes=4194304)}else{if(!a)if(t=wh(r),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,ff(e,t),Qc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!be)return Ue(e),null}else 2*vn()-s.renderingStartTime>Th&&n!==536870912&&(e.flags|=128,a=!0,Qc(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(t=s.last,t!==null?t.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=vn(),t.sibling=null,n=Xe.current,Me(Xe,a?n&1|2:n&1),be&&ta(e,s.treeForkCount),t):(Ue(e),null);case 22:case 23:return gn(e),wx(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(Ue(e),e.subtreeFlags&6&&(e.flags|=8192)):Ue(e),n=e.updateQueue,n!==null&&ff(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&yt($i),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Aa(rt),Ue(e),null;case 25:return null;case 30:return null}throw Error(_(156,e.tag))}function M6(t,e){switch(gx(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Aa(rt),sc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return fh(e),null;case 31:if(e.memoizedState!==null){if(gn(e),e.alternate===null)throw Error(_(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(gn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(Xe),null;case 4:return sc(),null;case 10:return Aa(e.type),null;case 22:case 23:return gn(e),wx(),t!==null&&yt($i),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Aa(rt),null;case 25:return null;default:return null}}function wE(t,e){switch(gx(e),e.tag){case 3:Aa(rt),sc();break;case 26:case 27:case 5:fh(e);break;case 4:sc();break;case 31:e.memoizedState!==null&&gn(e);break;case 13:gn(e);break;case 19:yt(Xe);break;case 10:Aa(e.type);break;case 22:case 23:gn(e),wx(),t!==null&&yt($i);break;case 24:Aa(rt)}}function kd(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var a=s.next;n=a;do{if((n.tag&t)===t){s=void 0;var r=n.create,i=n.inst;s=r(),i.destroy=s}n=n.next}while(n!==a)}}catch(o){Te(e,e.return,o)}}function Ir(t,e,n){try{var s=e.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var r=a.next;s=r;do{if((s.tag&t)===t){var i=s.inst,o=i.destroy;if(o!==void 0){i.destroy=void 0,a=e;var c=n,u=o;try{u()}catch(d){Te(a,c,d)}}}s=s.next}while(s!==r)}}catch(d){Te(e,e.return,d)}}function AE(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{DN(e,n)}catch(s){Te(t,t.return,s)}}}function NE(t,e,n){n.props=co(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){Te(t,e,s)}}function Au(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(a){Te(t,e,a)}}function Us(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(a){Te(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Te(t,e,a)}else n.current=null}function EE(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(a){Te(t,t.return,a)}}function Kp(t,e,n){try{var s=t.stateNode;tR(s,t.type,n,e),s[an]=e}catch(a){Te(t,t.return,a)}}function jE(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xr(t.type)||t.tag===4}function Yp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function j0(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ya));else if(s!==4&&(s===27&&Xr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(j0(t,e,n),t=t.sibling;t!==null;)j0(t,e,n),t=t.sibling}function Sh(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&Xr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Sh(t,e,n),t=t.sibling;t!==null;)Sh(t,e,n),t=t.sibling}function SE(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);jt(e,s,n),e[wt]=t,e[an]=n}catch(r){Te(t,t.return,r)}}var ma=!1,at=!1,Jp=!1,t1=typeof WeakSet=="function"?WeakSet:Set,ht=null;function k6(t,e){if(t=t.containerInfo,B0=Lh,t=hN(t),dx(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(o=i+a),f!==r||s!==0&&f.nodeType!==3||(c=i+s),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===a&&(o=i),h===r&&++d===s&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(M0={focusedElem:t,selectionRange:n},Lh=!1,ht=e;ht!==null;)if(e=ht,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ht=t;else for(;ht!==null;){switch(e=ht,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)a=t[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,a=r.memoizedProps,r=r.memoizedState,s=n.stateNode;try{var p=co(n.type,a);t=s.getSnapshotBeforeUpdate(p,r),s.__reactInternalSnapshotBeforeUpdate=t}catch(y){Te(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)P0(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":P0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(_(163))}if(t=e.sibling,t!==null){t.return=e.return,ht=t;break}ht=e.return}}function TE(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Ys(t,n),s&4&&kd(5,n);break;case 1:if(Ys(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(i){Te(n,n.return,i)}else{var a=co(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(i){Te(n,n.return,i)}}s&64&&AE(n),s&512&&Au(n,n.return);break;case 3:if(Ys(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{DN(t,e)}catch(i){Te(n,n.return,i)}}break;case 27:e===null&&s&4&&SE(n);case 26:case 5:Ys(t,n),e===null&&s&4&&EE(n),s&512&&Au(n,n.return);break;case 12:Ys(t,n);break;case 31:Ys(t,n),s&4&&OE(t,n);break;case 13:Ys(t,n),s&4&&DE(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=_6.bind(null,n),cR(t,n))));break;case 22:if(s=n.memoizedState!==null||ma,!s){e=e!==null&&e.memoizedState!==null||at,a=ma;var r=at;ma=s,(at=e)&&!r?Zs(t,n,(n.subtreeFlags&8772)!==0):Ys(t,n),ma=a,at=r}break;case 30:break;default:Ys(t,n)}}function CE(t){var e=t.alternate;e!==null&&(t.alternate=null,CE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&rx(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,Jt=!1;function Ks(t,e,n){for(n=n.child;n!==null;)RE(t,e,n),n=n.sibling}function RE(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Td,n)}catch{}switch(n.tag){case 26:at||Us(n,e),Ks(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:at||Us(n,e);var s=Ve,a=Jt;Xr(n.type)&&(Ve=n.stateNode,Jt=!1),Ks(t,e,n),Su(n.stateNode),Ve=s,Jt=a;break;case 5:at||Us(n,e);case 6:if(s=Ve,a=Jt,Ve=null,Ks(t,e,n),Ve=s,Jt=a,Ve!==null)if(Jt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(n.stateNode)}catch(r){Te(n,e,r)}else try{Ve.removeChild(n.stateNode)}catch(r){Te(n,e,r)}break;case 18:Ve!==null&&(Jt?(t=Ve,m1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),hc(t)):m1(Ve,n.stateNode));break;case 4:s=Ve,a=Jt,Ve=n.stateNode.containerInfo,Jt=!0,Ks(t,e,n),Ve=s,Jt=a;break;case 0:case 11:case 14:case 15:Ir(2,n,e),at||Ir(4,n,e),Ks(t,e,n);break;case 1:at||(Us(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&NE(n,e,s)),Ks(t,e,n);break;case 21:Ks(t,e,n);break;case 22:at=(s=at)||n.memoizedState!==null,Ks(t,e,n),at=s;break;default:Ks(t,e,n)}}function OE(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{hc(t)}catch(n){Te(e,e.return,n)}}}function DE(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{hc(t)}catch(n){Te(e,e.return,n)}}function P6(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new t1),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new t1),e;default:throw Error(_(435,t.tag))}}function hf(t,e){var n=P6(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var a=G6.bind(null,t,s);s.then(a,a)}})}function Qt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s],r=t,i=e,o=i;e:for(;o!==null;){switch(o.tag){case 27:if(Xr(o.type)){Ve=o.stateNode,Jt=!1;break e}break;case 5:Ve=o.stateNode,Jt=!1;break e;case 3:case 4:Ve=o.stateNode.containerInfo,Jt=!0;break e}o=o.return}if(Ve===null)throw Error(_(160));RE(r,i,a),Ve=null,Jt=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)BE(e,t),e=e.sibling}var us=null;function BE(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qt(e,t),qt(t),s&4&&(Ir(3,t,t.return),kd(3,t),Ir(5,t,t.return));break;case 1:Qt(e,t),qt(t),s&512&&(at||n===null||Us(n,n.return)),s&64&&ma&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var a=us;if(Qt(e,t),qt(t),s&512&&(at||n===null||Us(n,n.return)),s&4){var r=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,a=a.ownerDocument||a;t:switch(s){case"title":r=a.getElementsByTagName("title")[0],(!r||r[Od]||r[wt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(s),a.head.insertBefore(r,a.querySelector("head > title"))),jt(r,s,n),r[wt]=t,pt(r),s=r;break e;case"link":var i=w1("link","href",a).get(s+(n.href||""));if(i){for(var o=0;o<i.length;o++)if(r=i[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){i.splice(o,1);break t}}r=a.createElement(s),jt(r,s,n),a.head.appendChild(r);break;case"meta":if(i=w1("meta","content",a).get(s+(n.content||""))){for(o=0;o<i.length;o++)if(r=i[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){i.splice(o,1);break t}}r=a.createElement(s),jt(r,s,n),a.head.appendChild(r);break;default:throw Error(_(468,s))}r[wt]=t,pt(r),s=r}t.stateNode=s}else A1(a,t.type,t.stateNode);else t.stateNode=v1(a,s,t.memoizedProps);else r!==s?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,s===null?A1(a,t.type,t.stateNode):v1(a,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Kp(t,t.memoizedProps,n.memoizedProps)}break;case 27:Qt(e,t),qt(t),s&512&&(at||n===null||Us(n,n.return)),n!==null&&s&4&&Kp(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Qt(e,t),qt(t),s&512&&(at||n===null||Us(n,n.return)),t.flags&32){a=t.stateNode;try{rc(a,"")}catch(p){Te(t,t.return,p)}}s&4&&t.stateNode!=null&&(a=t.memoizedProps,Kp(t,a,n!==null?n.memoizedProps:a)),s&1024&&(Jp=!0);break;case 6:if(Qt(e,t),qt(t),s&4){if(t.stateNode===null)throw Error(_(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(p){Te(t,t.return,p)}}break;case 3:if(Qf=null,a=us,us=kh(e.containerInfo),Qt(e,t),us=a,qt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{hc(e.containerInfo)}catch(p){Te(t,t.return,p)}Jp&&(Jp=!1,ME(t));break;case 4:s=us,us=kh(t.stateNode.containerInfo),Qt(e,t),qt(t),us=s;break;case 12:Qt(e,t),qt(t);break;case 31:Qt(e,t),qt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,hf(t,s)));break;case 13:Qt(e,t),qt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Pm=vn()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,hf(t,s)));break;case 22:a=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ma,d=at;if(ma=u||a,at=d||c,Qt(e,t),at=d,ma=u,qt(t),s&8192)e:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(n===null||c||ma||at||di(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(r=c.stateNode,a)i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){Te(c,c.return,p)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){Te(c,c.return,p)}}}else if(e.tag===18){if(n===null){c=e;try{var m=c.stateNode;a?p1(m,!0):p1(c.stateNode,!1)}catch(p){Te(c,c.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,hf(t,n))));break;case 19:Qt(e,t),qt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,hf(t,s)));break;case 30:break;case 21:break;default:Qt(e,t),qt(t)}}function qt(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(jE(s)){n=s;break}s=s.return}if(n==null)throw Error(_(160));switch(n.tag){case 27:var a=n.stateNode,r=Yp(t);Sh(t,r,a);break;case 5:var i=n.stateNode;n.flags&32&&(rc(i,""),n.flags&=-33);var o=Yp(t);Sh(t,o,i);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Yp(t);j0(t,u,c);break;default:throw Error(_(161))}}catch(d){Te(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ME(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;ME(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ys(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)TE(t,e.alternate,e),e=e.sibling}function di(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ir(4,e,e.return),di(e);break;case 1:Us(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&NE(e,e.return,n),di(e);break;case 27:Su(e.stateNode);case 26:case 5:Us(e,e.return),di(e);break;case 22:e.memoizedState===null&&di(e);break;case 30:di(e);break;default:di(e)}t=t.sibling}}function Zs(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,a=t,r=e,i=r.flags;switch(r.tag){case 0:case 11:case 15:Zs(a,r,n),kd(4,r);break;case 1:if(Zs(a,r,n),s=r,a=s.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Te(s,s.return,u)}if(s=r,a=s.updateQueue,a!==null){var o=s.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)ON(c[a],o)}catch(u){Te(s,s.return,u)}}n&&i&64&&AE(r),Au(r,r.return);break;case 27:SE(r);case 26:case 5:Zs(a,r,n),n&&s===null&&i&4&&EE(r),Au(r,r.return);break;case 12:Zs(a,r,n);break;case 31:Zs(a,r,n),n&&i&4&&OE(a,r);break;case 13:Zs(a,r,n),n&&i&4&&DE(a,r);break;case 22:r.memoizedState===null&&Zs(a,r,n),Au(r,r.return);break;case 30:break;default:Zs(a,r,n)}e=e.sibling}}function Lx(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Bd(n))}function zx(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Bd(t))}function Wn(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kE(t,e,n,s),e=e.sibling}function kE(t,e,n,s){var a=e.flags;switch(e.tag){case 0:case 11:case 15:Wn(t,e,n,s),a&2048&&kd(9,e);break;case 1:Wn(t,e,n,s);break;case 3:Wn(t,e,n,s),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Bd(t)));break;case 12:if(a&2048){Wn(t,e,n,s),t=e.stateNode;try{var r=e.memoizedProps,i=r.id,o=r.onPostCommit;typeof o=="function"&&o(i,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Te(e,e.return,c)}}else Wn(t,e,n,s);break;case 31:Wn(t,e,n,s);break;case 13:Wn(t,e,n,s);break;case 23:break;case 22:r=e.stateNode,i=e.alternate,e.memoizedState!==null?r._visibility&2?Wn(t,e,n,s):Nu(t,e):r._visibility&2?Wn(t,e,n,s):(r._visibility|=2,Mo(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),a&2048&&Lx(i,e);break;case 24:Wn(t,e,n,s),a&2048&&zx(e.alternate,e);break;default:Wn(t,e,n,s)}}function Mo(t,e,n,s,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,i=e,o=n,c=s,u=i.flags;switch(i.tag){case 0:case 11:case 15:Mo(r,i,o,c,a),kd(8,i);break;case 23:break;case 22:var d=i.stateNode;i.memoizedState!==null?d._visibility&2?Mo(r,i,o,c,a):Nu(r,i):(d._visibility|=2,Mo(r,i,o,c,a)),a&&u&2048&&Lx(i.alternate,i);break;case 24:Mo(r,i,o,c,a),a&&u&2048&&zx(i.alternate,i);break;default:Mo(r,i,o,c,a)}e=e.sibling}}function Nu(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,a=s.flags;switch(s.tag){case 22:Nu(n,s),a&2048&&Lx(s.alternate,s);break;case 24:Nu(n,s),a&2048&&zx(s.alternate,s);break;default:Nu(n,s)}e=e.sibling}}var ru=8192;function Co(t,e,n){if(t.subtreeFlags&ru)for(t=t.child;t!==null;)PE(t,e,n),t=t.sibling}function PE(t,e,n){switch(t.tag){case 26:Co(t,e,n),t.flags&ru&&t.memoizedState!==null&&wR(n,us,t.memoizedState,t.memoizedProps);break;case 5:Co(t,e,n);break;case 3:case 4:var s=us;us=kh(t.stateNode.containerInfo),Co(t,e,n),us=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=ru,ru=16777216,Co(t,e,n),ru=s):Co(t,e,n));break;default:Co(t,e,n)}}function UE(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function qc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];ht=s,zE(s,t)}UE(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)LE(t),t=t.sibling}function LE(t){switch(t.tag){case 0:case 11:case 15:qc(t),t.flags&2048&&Ir(9,t,t.return);break;case 3:qc(t);break;case 12:qc(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,_f(t)):qc(t);break;default:qc(t)}}function _f(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];ht=s,zE(s,t)}UE(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ir(8,e,e.return),_f(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,_f(e));break;default:_f(e)}t=t.sibling}}function zE(t,e){for(;ht!==null;){var n=ht;switch(n.tag){case 0:case 11:case 15:Ir(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Bd(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,ht=s;else e:for(n=t;ht!==null;){s=ht;var a=s.sibling,r=s.return;if(CE(s),s===n){ht=null;break e}if(a!==null){a.return=r,ht=a;break e}ht=r}}}var U6={getCacheForType:function(t){var e=Et(rt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Et(rt).controller.signal}},L6=typeof WeakMap=="function"?WeakMap:Map,we=0,Be=null,pe=null,ge=0,Se=0,pn=null,Ar=!1,Oc=!1,Hx=!1,Ma=0,Ke=0,Fr=0,eo=0,Vx=0,xn=0,cc=0,Eu=null,Zt=null,S0=!1,Pm=0,HE=0,Th=1/0,Ch=null,Or=null,ct=0,Dr=null,uc=null,Na=0,T0=0,C0=null,VE=null,ju=0,R0=null;function Nn(){return we&2&&ge!==0?ge&-ge:se.T!==null?Fx():JA()}function IE(){if(xn===0)if(!(ge&536870912)||be){var t=af;af<<=1,!(af&3932160)&&(af=262144),xn=t}else xn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),xn}function en(t,e,n){(t===Be&&(Se===2||Se===9)||t.cancelPendingCommit!==null)&&(dc(t,0),Nr(t,ge,xn,!1)),Rd(t,n),(!(we&2)||t!==Be)&&(t===Be&&(!(we&2)&&(eo|=n),Ke===4&&Nr(t,ge,xn,!1)),Gs(t))}function FE(t,e,n){if(we&6)throw Error(_(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Cd(t,e),a=s?V6(t,e):Zp(t,e,!0),r=s;do{if(a===0){Oc&&!s&&Nr(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!z6(n)){a=Zp(t,e,!1),r=!1;continue}if(a===2){if(r=e,t.errorRecoveryDisabledLanes&r)var i=0;else i=t.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){e=i;e:{var o=t;a=Eu;var c=o.current.memoizedState.isDehydrated;if(c&&(dc(o,i).flags|=256),i=Zp(o,i,!1),i!==2){if(Hx&&!c){o.errorRecoveryDisabledLanes|=r,eo|=r,a=4;break e}r=Zt,Zt=a,r!==null&&(Zt===null?Zt=r:Zt.push.apply(Zt,r))}a=i}if(r=!1,a!==2)continue}}if(a===1){dc(t,0),Nr(t,e,0,!0);break}e:{switch(s=t,r=a,r){case 0:case 1:throw Error(_(345));case 4:if((e&4194048)!==e)break;case 6:Nr(s,e,xn,!Ar);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(_(329))}if((e&62914560)===e&&(a=Pm+300-vn(),10<a)){if(Nr(s,e,xn,!Ar),Em(s,0,!0)!==0)break e;Na=e,s.timeoutHandle=lj(n1.bind(null,s,n,Zt,Ch,S0,e,xn,eo,cc,Ar,r,"Throttled",-0,0),a);break e}n1(s,n,Zt,Ch,S0,e,xn,eo,cc,Ar,r,null,-0,0)}}break}while(!0);Gs(t)}function n1(t,e,n,s,a,r,i,o,c,u,d,f,h,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ya},PE(e,r,f);var p=(r&62914560)===r?Pm-vn():(r&4194048)===r?HE-vn():0;if(p=AR(f,p),p!==null){Na=r,t.cancelPendingCommit=p(a1.bind(null,t,e,r,n,s,a,i,o,c,d,f,null,h,m)),Nr(t,r,i,!u);return}}a1(t,e,r,n,s,a,i,o,c)}function z6(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var a=n[s],r=a.getSnapshot;a=a.value;try{if(!jn(r(),a))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nr(t,e,n,s){e&=~Vx,e&=~eo,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var a=e;0<a;){var r=31-An(a),i=1<<r;s[r]=-1,a&=~i}n!==0&&qA(t,n,e)}function Um(){return we&6?!0:(Pd(0),!1)}function Ix(){if(pe!==null){if(Se===0)var t=pe.return;else t=pe,xa=wo=null,Sx(t),ul=null,Vu=0,t=pe;for(;t!==null;)wE(t.alternate,t),t=t.return;pe=null}}function dc(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,aR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Na=0,Ix(),Be=t,pe=n=wa(t.current,null),ge=e,Se=0,pn=null,Ar=!1,Oc=Cd(t,e),Hx=!1,cc=xn=Vx=eo=Fr=Ke=0,Zt=Eu=null,S0=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var a=31-An(s),r=1<<a;e|=t[a],s&=~r}return Ma=e,Cm(),n}function _E(t,e){oe=null,se.H=Fu,e===Rc||e===Om?(e=kv(),Se=3):e===bx?(e=kv(),Se=4):Se=e===Px?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,pn=e,pe===null&&(Ke=1,Eh(t,Gn(e,t.current)))}function GE(){var t=Sn.current;return t===null?!0:(ge&4194048)===ge?qn===null:(ge&62914560)===ge||ge&536870912?t===qn:!1}function QE(){var t=se.H;return se.H=Fu,t===null?Fu:t}function qE(){var t=se.A;return se.A=U6,t}function Rh(){Ke=4,Ar||(ge&4194048)!==ge&&Sn.current!==null||(Oc=!0),!(Fr&134217727)&&!(eo&134217727)||Be===null||Nr(Be,ge,xn,!1)}function Zp(t,e,n){var s=we;we|=2;var a=QE(),r=qE();(Be!==t||ge!==e)&&(Ch=null,dc(t,e)),e=!1;var i=Ke;e:do try{if(Se!==0&&pe!==null){var o=pe,c=pn;switch(Se){case 8:Ix(),i=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(e=!0);var u=Se;if(Se=0,pn=null,Jo(t,o,c,u),n&&Oc){i=0;break e}break;default:u=Se,Se=0,pn=null,Jo(t,o,c,u)}}H6(),i=Ke;break}catch(d){_E(t,d)}while(!0);return e&&t.shellSuspendCounter++,xa=wo=null,we=s,se.H=a,se.A=r,pe===null&&(Be=null,ge=0,Cm()),i}function H6(){for(;pe!==null;)KE(pe)}function V6(t,e){var n=we;we|=2;var s=QE(),a=qE();Be!==t||ge!==e?(Ch=null,Th=vn()+500,dc(t,e)):Oc=Cd(t,e);e:do try{if(Se!==0&&pe!==null){e=pe;var r=pn;t:switch(Se){case 1:Se=0,pn=null,Jo(t,e,r,1);break;case 2:case 9:if(Mv(r)){Se=0,pn=null,s1(e);break}e=function(){Se!==2&&Se!==9||Be!==t||(Se=7),Gs(t)},r.then(e,e);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:Mv(r)?(Se=0,pn=null,s1(e)):(Se=0,pn=null,Jo(t,e,r,7));break;case 5:var i=null;switch(pe.tag){case 26:i=pe.memoizedState;case 5:case 27:var o=pe;if(i?hj(i):o.stateNode.complete){Se=0,pn=null;var c=o.sibling;if(c!==null)pe=c;else{var u=o.return;u!==null?(pe=u,Lm(u)):pe=null}break t}}Se=0,pn=null,Jo(t,e,r,5);break;case 6:Se=0,pn=null,Jo(t,e,r,6);break;case 8:Ix(),Ke=6;break e;default:throw Error(_(462))}}I6();break}catch(d){_E(t,d)}while(!0);return xa=wo=null,se.H=s,se.A=a,we=n,pe!==null?0:(Be=null,ge=0,Cm(),Ke)}function I6(){for(;pe!==null&&!u3();)KE(pe)}function KE(t){var e=vE(t.alternate,t,Ma);t.memoizedProps=t.pendingProps,e===null?Lm(t):pe=e}function s1(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Zv(n,e,e.pendingProps,e.type,void 0,ge);break;case 11:e=Zv(n,e,e.pendingProps,e.type.render,e.ref,ge);break;case 5:Sx(e);default:wE(n,e),e=pe=wN(e,Ma),e=vE(n,e,Ma)}t.memoizedProps=t.pendingProps,e===null?Lm(t):pe=e}function Jo(t,e,n,s){xa=wo=null,Sx(e),ul=null,Vu=0;var a=e.return;try{if(R6(t,a,e,n,ge)){Ke=1,Eh(t,Gn(n,t.current)),pe=null;return}}catch(r){if(a!==null)throw pe=a,r;Ke=1,Eh(t,Gn(n,t.current)),pe=null;return}e.flags&32768?(be||s===1?t=!0:Oc||ge&536870912?t=!1:(Ar=t=!0,(s===2||s===9||s===3||s===6)&&(s=Sn.current,s!==null&&s.tag===13&&(s.flags|=16384))),YE(e,t)):Lm(e)}function Lm(t){var e=t;do{if(e.flags&32768){YE(e,Ar);return}t=e.return;var n=B6(e.alternate,e,Ma);if(n!==null){pe=n;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);Ke===0&&(Ke=5)}function YE(t,e){do{var n=M6(t.alternate,t);if(n!==null){n.flags&=32767,pe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){pe=t;return}pe=t=n}while(t!==null);Ke=6,pe=null}function a1(t,e,n,s,a,r,i,o,c){t.cancelPendingCommit=null;do zm();while(ct!==0);if(we&6)throw Error(_(327));if(e!==null){if(e===t.current)throw Error(_(177));if(r=e.lanes|e.childLanes,r|=fx,v3(t,n,r,i,o,c),t===Be&&(pe=Be=null,ge=0),uc=e,Dr=t,Na=n,T0=r,C0=a,VE=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Q6(hh,function(){return WE(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=se.T,se.T=null,a=Ae.p,Ae.p=2,i=we,we|=4;try{k6(t,e,n)}finally{we=i,Ae.p=a,se.T=s}}ct=1,JE(),ZE(),XE()}}function JE(){if(ct===1){ct=0;var t=Dr,e=uc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=se.T,se.T=null;var s=Ae.p;Ae.p=2;var a=we;we|=4;try{BE(e,t);var r=M0,i=hN(t.containerInfo),o=r.focusedElem,c=r.selectionRange;if(i!==o&&o&&o.ownerDocument&&fN(o.ownerDocument.documentElement,o)){if(c!==null&&dx(o)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var f=o.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=o.textContent.length,y=Math.min(c.start,p),w=c.end===void 0?y:Math.min(c.end,p);!m.extend&&y>w&&(i=w,w=y,y=i);var b=Sv(o,y),g=Sv(o,w);if(b&&g&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var x=f.createRange();x.setStart(b.node,b.offset),m.removeAllRanges(),y>w?(m.addRange(x),m.extend(g.node,g.offset)):(x.setEnd(g.node,g.offset),m.addRange(x))}}}}for(f=[],m=o;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var A=f[o];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}Lh=!!B0,M0=B0=null}finally{we=a,Ae.p=s,se.T=n}}t.current=e,ct=2}}function ZE(){if(ct===2){ct=0;var t=Dr,e=uc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=se.T,se.T=null;var s=Ae.p;Ae.p=2;var a=we;we|=4;try{TE(t,e.alternate,e)}finally{we=a,Ae.p=s,se.T=n}}ct=3}}function XE(){if(ct===4||ct===3){ct=0,d3();var t=Dr,e=uc,n=Na,s=VE;e.subtreeFlags&10256||e.flags&10256?ct=5:(ct=0,uc=Dr=null,$E(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(Or=null),ax(n),e=e.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Td,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=se.T,a=Ae.p,Ae.p=2,se.T=null;try{for(var r=t.onRecoverableError,i=0;i<s.length;i++){var o=s[i];r(o.value,{componentStack:o.stack})}}finally{se.T=e,Ae.p=a}}Na&3&&zm(),Gs(t),a=t.pendingLanes,n&261930&&a&42?t===R0?ju++:(ju=0,R0=t):ju=0,Pd(0)}}function $E(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Bd(e)))}function zm(){return JE(),ZE(),XE(),WE()}function WE(){if(ct!==5)return!1;var t=Dr,e=T0;T0=0;var n=ax(Na),s=se.T,a=Ae.p;try{Ae.p=32>n?32:n,se.T=null,n=C0,C0=null;var r=Dr,i=Na;if(ct=0,uc=Dr=null,Na=0,we&6)throw Error(_(331));var o=we;if(we|=4,LE(r.current),kE(r,r.current,i,n),we=o,Pd(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Td,r)}catch{}return!0}finally{Ae.p=a,se.T=s,$E(t,e)}}function r1(t,e,n){e=Gn(n,e),e=A0(t.stateNode,e,2),t=Rr(t,e,2),t!==null&&(Rd(t,2),Gs(t))}function Te(t,e,n){if(t.tag===3)r1(t,t,n);else for(;e!==null;){if(e.tag===3){r1(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Or===null||!Or.has(s))){t=Gn(n,t),n=mE(2),s=Rr(e,n,2),s!==null&&(pE(n,s,e,t),Rd(s,2),Gs(s));break}}e=e.return}}function Xp(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new L6;var a=new Set;s.set(e,a)}else a=s.get(e),a===void 0&&(a=new Set,s.set(e,a));a.has(n)||(Hx=!0,a.add(n),t=F6.bind(null,t,e,n),e.then(t,t))}function F6(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Be===t&&(ge&n)===n&&(Ke===4||Ke===3&&(ge&62914560)===ge&&300>vn()-Pm?!(we&2)&&dc(t,0):Vx|=n,cc===ge&&(cc=0)),Gs(t)}function ej(t,e){e===0&&(e=QA()),t=vo(t,e),t!==null&&(Rd(t,e),Gs(t))}function _6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ej(t,n)}function G6(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(_(314))}s!==null&&s.delete(e),ej(t,n)}function Q6(t,e){return nx(t,e)}var Oh=null,ko=null,O0=!1,Dh=!1,$p=!1,Er=0;function Gs(t){t!==ko&&t.next===null&&(ko===null?Oh=ko=t:ko=ko.next=t),Dh=!0,O0||(O0=!0,K6())}function Pd(t,e){if(!$p&&Dh){$p=!0;do for(var n=!1,s=Oh;s!==null;){if(t!==0){var a=s.pendingLanes;if(a===0)var r=0;else{var i=s.suspendedLanes,o=s.pingedLanes;r=(1<<31-An(42|t)+1)-1,r&=a&~(i&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,i1(s,r))}else r=ge,r=Em(s,s===Be?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||Cd(s,r)||(n=!0,i1(s,r));s=s.next}while(n);$p=!1}}function q6(){tj()}function tj(){Dh=O0=!1;var t=0;Er!==0&&sR()&&(t=Er);for(var e=vn(),n=null,s=Oh;s!==null;){var a=s.next,r=nj(s,e);r===0?(s.next=null,n===null?Oh=a:n.next=a,a===null&&(ko=n)):(n=s,(t!==0||r&3)&&(Dh=!0)),s=a}ct!==0&&ct!==5||Pd(t),Er!==0&&(Er=0)}function nj(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,a=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var i=31-An(r),o=1<<i,c=a[i];c===-1?(!(o&n)||o&s)&&(a[i]=b3(o,e)):c<=e&&(t.expiredLanes|=o),r&=~o}if(e=Be,n=ge,n=Em(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(Se===2||Se===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Sp(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Cd(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&Sp(s),ax(n)){case 2:case 8:n=_A;break;case 32:n=hh;break;case 268435456:n=GA;break;default:n=hh}return s=sj.bind(null,t),n=nx(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&Sp(s),t.callbackPriority=2,t.callbackNode=null,2}function sj(t,e){if(ct!==0&&ct!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(zm()&&t.callbackNode!==n)return null;var s=ge;return s=Em(t,t===Be?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(FE(t,s,e),nj(t,vn()),t.callbackNode!=null&&t.callbackNode===n?sj.bind(null,t):null)}function i1(t,e){if(zm())return null;FE(t,e,!0)}function K6(){rR(function(){we&6?nx(FA,q6):tj()})}function Fx(){if(Er===0){var t=ic;t===0&&(t=sf,sf<<=1,!(sf&261888)&&(sf=256)),Er=t}return Er}function o1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kf(""+t)}function l1(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Y6(t,e,n,s,a){if(e==="submit"&&n&&n.stateNode===a){var r=o1((a[an]||null).action),i=s.submitter;i&&(e=(e=i[an]||null)?o1(e.formAction):i.getAttribute("formAction"),e!==null&&(r=e,i=null));var o=new jm("action","action",null,s,a);t.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Er!==0){var c=i?l1(a,i):new FormData(a);v0(n,{pending:!0,data:c,method:a.method,action:r},null,c)}}else typeof r=="function"&&(o.preventDefault(),c=i?l1(a,i):new FormData(a),v0(n,{pending:!0,data:c,method:a.method,action:r},r,c))},currentTarget:a}]})}}for(var Wp=0;Wp<l0.length;Wp++){var eg=l0[Wp],J6=eg.toLowerCase(),Z6=eg[0].toUpperCase()+eg.slice(1);ms(J6,"on"+Z6)}ms(pN,"onAnimationEnd");ms(gN,"onAnimationIteration");ms(yN,"onAnimationStart");ms("dblclick","onDoubleClick");ms("focusin","onFocus");ms("focusout","onBlur");ms(f6,"onTransitionRun");ms(h6,"onTransitionStart");ms(m6,"onTransitionCancel");ms(xN,"onTransitionEnd");ac("onMouseEnter",["mouseout","mouseover"]);ac("onMouseLeave",["mouseout","mouseover"]);ac("onPointerEnter",["pointerout","pointerover"]);ac("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function aj(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],a=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==r&&a.isPropagationStopped())break e;r=o,a.currentTarget=u;try{r(a)}catch(d){ph(d)}a.currentTarget=null,r=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==r&&a.isPropagationStopped())break e;r=o,a.currentTarget=u;try{r(a)}catch(d){ph(d)}a.currentTarget=null,r=c}}}}function me(t,e){var n=e[e0];n===void 0&&(n=e[e0]=new Set);var s=t+"__bubble";n.has(s)||(rj(e,t,2,!1),n.add(s))}function tg(t,e,n){var s=0;e&&(s|=4),rj(n,t,s,e)}var mf="_reactListening"+Math.random().toString(36).slice(2);function _x(t){if(!t[mf]){t[mf]=!0,ZA.forEach(function(n){n!=="selectionchange"&&(X6.has(n)||tg(n,!1,t),tg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mf]||(e[mf]=!0,tg("selectionchange",!1,e))}}function rj(t,e,n,s){switch(xj(e)){case 2:var a=jR;break;case 8:a=SR;break;default:a=Kx}n=a.bind(null,e,n,t),a=void 0,!r0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),s?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function ng(t,e,n,s,a){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===a)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===a)return;i=i.return}for(;o!==null;){if(i=Vo(o),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){s=r=i;continue e}o=o.parentNode}}s=s.return}aN(function(){var u=r,d=ox(n),f=[];e:{var h=bN.get(t);if(h!==void 0){var m=jm,p=t;switch(t){case"keypress":if(Uf(n)===0)break e;case"keydown":case"keyup":m=G3;break;case"focusin":p="focus",m=Dp;break;case"focusout":p="blur",m=Dp;break;case"beforeblur":case"afterblur":m=Dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=B3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=K3;break;case pN:case gN:case yN:m=P3;break;case xN:m=J3;break;case"scroll":case"scrollend":m=O3;break;case"wheel":m=X3;break;case"copy":case"cut":case"paste":m=L3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xv;break;case"toggle":case"beforetoggle":m=W3}var y=(e&4)!==0,w=!y&&(t==="scroll"||t==="scrollend"),b=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,x;g!==null;){var A=g;if(x=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||x===null||b===null||(A=Pu(g,b),A!=null&&y.push(Gu(g,A,x))),w)break;g=g.return}0<y.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==a0&&(p=n.relatedTarget||n.fromElement)&&(Vo(p)||p[Sc]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Vo(p):null,p!==null&&(w=Sd(p),y=p.tag,p!==w||y!==5&&y!==27&&y!==6)&&(p=null)):(m=null,p=u),m!==p)){if(y=gv,A="onMouseLeave",b="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=xv,A="onPointerLeave",b="onPointerEnter",g="pointer"),w=m==null?h:su(m),x=p==null?h:su(p),h=new y(A,g+"leave",m,n,d),h.target=w,h.relatedTarget=x,A=null,Vo(d)===u&&(y=new y(b,g+"enter",p,n,d),y.target=x,y.relatedTarget=w,A=y),w=A,m&&p)t:{for(y=$6,b=m,g=p,x=0,A=b;A;A=y(A))x++;A=0;for(var j=g;j;j=y(j))A++;for(;0<x-A;)b=y(b),x--;for(;0<A-x;)g=y(g),A--;for(;x--;){if(b===g||g!==null&&b===g.alternate){y=b;break t}b=y(b),g=y(g)}y=null}else y=null;m!==null&&c1(f,h,m,y,!1),p!==null&&w!==null&&c1(f,w,p,y,!0)}}e:{if(h=u?su(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=Av;else if(wv(h))if(uN)k=c6;else{k=o6;var D=i6}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&ix(u.elementType)&&(k=Av):k=l6;if(k&&(k=k(t,u))){cN(f,k,n,d);break e}D&&D(t,h,u),t==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&s0(h,"number",h.value)}switch(D=u?su(u):window,t){case"focusin":(wv(D)||D.contentEditable==="true")&&(_o=D,i0=u,gu=null);break;case"focusout":gu=i0=_o=null;break;case"mousedown":o0=!0;break;case"contextmenu":case"mouseup":case"dragend":o0=!1,Tv(f,n,d);break;case"selectionchange":if(d6)break;case"keydown":case"keyup":Tv(f,n,d)}var E;if(ux)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Fo?oN(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(iN&&n.locale!=="ko"&&(Fo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Fo&&(E=rN()):(wr=d,lx="value"in wr?wr.value:wr.textContent,Fo=!0)),D=Bh(u,T),0<D.length&&(T=new yv(T,t,null,n,d),f.push({event:T,listeners:D}),E?T.data=E:(E=lN(n),E!==null&&(T.data=E)))),(E=t6?n6(t,n):s6(t,n))&&(T=Bh(u,"onBeforeInput"),0<T.length&&(D=new yv("onBeforeInput","beforeinput",null,n,d),f.push({event:D,listeners:T}),D.data=E)),Y6(f,t,u,n,d)}aj(f,e)})}function Gu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bh(t,e){for(var n=e+"Capture",s=[];t!==null;){var a=t,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=Pu(t,n),a!=null&&s.unshift(Gu(t,a,r)),a=Pu(t,e),a!=null&&s.push(Gu(t,a,r))),t.tag===3)return s;t=t.return}return[]}function $6(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function c1(t,e,n,s,a){for(var r=e._reactName,i=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===s)break;o!==5&&o!==26&&o!==27||u===null||(c=u,a?(u=Pu(n,r),u!=null&&i.unshift(Gu(n,u,c))):a||(u=Pu(n,r),u!=null&&i.push(Gu(n,u,c)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var W6=/\r\n?/g,eR=/\u0000|\uFFFD/g;function u1(t){return(typeof t=="string"?t:""+t).replace(W6,`
`).replace(eR,"")}function ij(t,e){return e=u1(e),u1(t)===e}function Re(t,e,n,s,a,r){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||rc(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&rc(t,""+s);break;case"className":of(t,"class",s);break;case"tabIndex":of(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":of(t,n,s);break;case"style":sN(t,s,r);break;case"data":if(e!=="object"){of(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=kf(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Re(t,e,"name",a.name,a,null),Re(t,e,"formEncType",a.formEncType,a,null),Re(t,e,"formMethod",a.formMethod,a,null),Re(t,e,"formTarget",a.formTarget,a,null)):(Re(t,e,"encType",a.encType,a,null),Re(t,e,"method",a.method,a,null),Re(t,e,"target",a.target,a,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=kf(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=ya);break;case"onScroll":s!=null&&me("scroll",t);break;case"onScrollEnd":s!=null&&me("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(_(61));if(n=s.__html,n!=null){if(a.children!=null)throw Error(_(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=kf(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":me("beforetoggle",t),me("toggle",t),Mf(t,"popover",s);break;case"xlinkActuate":Qs(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qs(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qs(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qs(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qs(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qs(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qs(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Mf(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=C3.get(n)||n,Mf(t,n,s))}}function D0(t,e,n,s,a,r){switch(n){case"style":sN(t,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(_(61));if(n=s.__html,n!=null){if(a.children!=null)throw Error(_(60));t.innerHTML=n}}break;case"children":typeof s=="string"?rc(t,s):(typeof s=="number"||typeof s=="bigint")&&rc(t,""+s);break;case"onScroll":s!=null&&me("scroll",t);break;case"onScrollEnd":s!=null&&me("scrollend",t);break;case"onClick":s!=null&&(t.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!XA.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),r=t[an]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,a),typeof s=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,a);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):Mf(t,n,s)}}}function jt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",t),me("load",t);var s=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var i=n[r];if(i!=null)switch(r){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(_(137,e));default:Re(t,e,r,i,n,null)}}a&&Re(t,e,"srcSet",n.srcSet,n,null),s&&Re(t,e,"src",n.src,n,null);return;case"input":me("invalid",t);var o=r=i=a=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":a=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(_(137,e));break;default:Re(t,e,s,d,n,null)}}eN(t,r,o,c,u,i,a,!1);return;case"select":me("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:Re(t,e,a,o,n,null)}e=r,n=i,t.multiple=!!s,e!=null?ol(t,!!s,e,!1):n!=null&&ol(t,!!s,n,!0);return;case"textarea":me("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(_(91));break;default:Re(t,e,i,o,n,null)}nN(t,s,a,r);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Re(t,e,c,s,n,null)}return;case"dialog":me("beforetoggle",t),me("toggle",t),me("cancel",t),me("close",t);break;case"iframe":case"object":me("load",t);break;case"video":case"audio":for(s=0;s<_u.length;s++)me(_u[s],t);break;case"image":me("error",t),me("load",t);break;case"details":me("toggle",t);break;case"embed":case"source":case"link":me("error",t),me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(_(137,e));default:Re(t,e,u,s,n,null)}return;default:if(ix(e)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&D0(t,e,d,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!=null&&Re(t,e,o,s,n,null))}function tR(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,i=null,o=null,c=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:s.hasOwnProperty(m)||Re(t,e,m,null,s,f)}}for(var h in s){var m=s[h];if(f=n[h],s.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":r=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":i=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(_(137,e));break;default:m!==f&&Re(t,e,h,m,s,f)}}n0(t,i,o,c,u,d,r,a);return;case"select":m=i=o=h=null;for(r in n)if(c=n[r],n.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":m=c;default:s.hasOwnProperty(r)||Re(t,e,r,null,s,c)}for(a in s)if(r=s[a],c=n[a],s.hasOwnProperty(a)&&(r!=null||c!=null))switch(a){case"value":h=r;break;case"defaultValue":o=r;break;case"multiple":i=r;default:r!==c&&Re(t,e,a,r,s,c)}e=o,n=i,s=m,h!=null?ol(t,!!n,h,!1):!!s!=!!n&&(e!=null?ol(t,!!n,e,!0):ol(t,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Re(t,e,o,null,s,a)}for(i in s)if(a=s[i],r=n[i],s.hasOwnProperty(i)&&(a!=null||r!=null))switch(i){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(_(91));break;default:a!==r&&Re(t,e,i,a,s,r)}tN(t,h,m);return;case"option":for(var p in n)if(h=n[p],n.hasOwnProperty(p)&&h!=null&&!s.hasOwnProperty(p))switch(p){case"selected":t.selected=!1;break;default:Re(t,e,p,null,s,h)}for(c in s)if(h=s[c],m=n[c],s.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Re(t,e,c,h,s,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!s.hasOwnProperty(y)&&Re(t,e,y,null,s,h);for(u in s)if(h=s[u],m=n[u],s.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(_(137,e));break;default:Re(t,e,u,h,s,m)}return;default:if(ix(e)){for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!==void 0&&!s.hasOwnProperty(w)&&D0(t,e,w,void 0,s,h);for(d in s)h=s[d],m=n[d],!s.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||D0(t,e,d,h,s,m);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!s.hasOwnProperty(b)&&Re(t,e,b,null,s,h);for(f in s)h=s[f],m=n[f],!s.hasOwnProperty(f)||h===m||h==null&&m==null||Re(t,e,f,h,s,m)}function d1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var a=n[s],r=a.transferSize,i=a.initiatorType,o=a.duration;if(r&&o&&d1(i)){for(i=0,o=a.responseEnd,s+=1;s<n.length;s++){var c=n[s],u=c.startTime;if(u>o)break;var d=c.transferSize,f=c.initiatorType;d&&d1(f)&&(c=c.responseEnd,i+=d*(c<o?1:(o-u)/(c-u)))}if(--s,e+=8*(r+i)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var B0=null,M0=null;function Mh(t){return t.nodeType===9?t:t.ownerDocument}function f1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oj(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function k0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sg=null;function sR(){var t=window.event;return t&&t.type==="popstate"?t===sg?!1:(sg=t,!0):(sg=null,!1)}var lj=typeof setTimeout=="function"?setTimeout:void 0,aR=typeof clearTimeout=="function"?clearTimeout:void 0,h1=typeof Promise=="function"?Promise:void 0,rR=typeof queueMicrotask=="function"?queueMicrotask:typeof h1<"u"?function(t){return h1.resolve(null).then(t).catch(iR)}:lj;function iR(t){setTimeout(function(){throw t})}function Xr(t){return t==="head"}function m1(t,e){var n=e,s=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(a),hc(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Su(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Su(n);for(var r=n.firstChild;r;){var i=r.nextSibling,o=r.nodeName;r[Od]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=i}}else n==="body"&&Su(t.ownerDocument.body);n=a}while(n);hc(e)}function p1(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function P0(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":P0(n),rx(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function oR(t,e,n,s){for(;t.nodeType===1;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Od])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function lR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Kn(t.nextSibling),t===null))return null;return t}function cj(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Kn(t.nextSibling),t===null))return null;return t}function U0(t){return t.data==="$?"||t.data==="$~"}function L0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function cR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var z0=null;function g1(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Kn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function y1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function uj(t,e,n){switch(e=Mh(n),t){case"html":if(t=e.documentElement,!t)throw Error(_(452));return t;case"head":if(t=e.head,!t)throw Error(_(453));return t;case"body":if(t=e.body,!t)throw Error(_(454));return t;default:throw Error(_(451))}}function Su(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);rx(t)}var Yn=new Map,x1=new Set;function kh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var za=Ae.d;Ae.d={f:uR,r:dR,D:fR,C:hR,L:mR,m:pR,X:yR,S:gR,M:xR};function uR(){var t=za.f(),e=Um();return t||e}function dR(t){var e=Tc(t);e!==null&&e.tag===5&&e.type==="form"?sE(e):za.r(t)}var Dc=typeof document>"u"?null:document;function dj(t,e,n){var s=Dc;if(s&&typeof e=="string"&&e){var a=_n(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),x1.has(a)||(x1.add(a),t={rel:t,crossOrigin:n,href:e},s.querySelector(a)===null&&(e=s.createElement("link"),jt(e,"link",t),pt(e),s.head.appendChild(e)))}}function fR(t){za.D(t),dj("dns-prefetch",t,null)}function hR(t,e){za.C(t,e),dj("preconnect",t,e)}function mR(t,e,n){za.L(t,e,n);var s=Dc;if(s&&t&&e){var a='link[rel="preload"][as="'+_n(e)+'"]';e==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+_n(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+_n(n.imageSizes)+'"]')):a+='[href="'+_n(t)+'"]';var r=a;switch(e){case"style":r=fc(t);break;case"script":r=Bc(t)}Yn.has(r)||(t=He({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Yn.set(r,t),s.querySelector(a)!==null||e==="style"&&s.querySelector(Ud(r))||e==="script"&&s.querySelector(Ld(r))||(e=s.createElement("link"),jt(e,"link",t),pt(e),s.head.appendChild(e)))}}function pR(t,e){za.m(t,e);var n=Dc;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+_n(s)+'"][href="'+_n(t)+'"]',r=a;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Bc(t)}if(!Yn.has(r)&&(t=He({rel:"modulepreload",href:t},e),Yn.set(r,t),n.querySelector(a)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ld(r)))return}s=n.createElement("link"),jt(s,"link",t),pt(s),n.head.appendChild(s)}}}function gR(t,e,n){za.S(t,e,n);var s=Dc;if(s&&t){var a=il(s).hoistableStyles,r=fc(t);e=e||"default";var i=a.get(r);if(!i){var o={loading:0,preload:null};if(i=s.querySelector(Ud(r)))o.loading=5;else{t=He({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Yn.get(r))&&Gx(t,n);var c=i=s.createElement("link");pt(c),jt(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Gf(i,e,s)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(r,i)}}}function yR(t,e){za.X(t,e);var n=Dc;if(n&&t){var s=il(n).hoistableScripts,a=Bc(t),r=s.get(a);r||(r=n.querySelector(Ld(a)),r||(t=He({src:t,async:!0},e),(e=Yn.get(a))&&Qx(t,e),r=n.createElement("script"),pt(r),jt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(a,r))}}function xR(t,e){za.M(t,e);var n=Dc;if(n&&t){var s=il(n).hoistableScripts,a=Bc(t),r=s.get(a);r||(r=n.querySelector(Ld(a)),r||(t=He({src:t,async:!0,type:"module"},e),(e=Yn.get(a))&&Qx(t,e),r=n.createElement("script"),pt(r),jt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(a,r))}}function b1(t,e,n,s){var a=(a=Sr.current)?kh(a):null;if(!a)throw Error(_(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=fc(n.href),n=il(a).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=fc(n.href);var r=il(a).hoistableStyles,i=r.get(t);if(i||(a=a.ownerDocument||a,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,i),(r=a.querySelector(Ud(t)))&&!r._p&&(i.instance=r,i.state.loading=5),Yn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yn.set(t,n),r||bR(a,t,n,i.state))),e&&s===null)throw Error(_(528,""));return i}if(e&&s!==null)throw Error(_(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Bc(n),n=il(a).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(_(444,t))}}function fc(t){return'href="'+_n(t)+'"'}function Ud(t){return'link[rel="stylesheet"]['+t+"]"}function fj(t){return He({},t,{"data-precedence":t.precedence,precedence:null})}function bR(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),jt(e,"link",n),pt(e),t.head.appendChild(e))}function Bc(t){return'[src="'+_n(t)+'"]'}function Ld(t){return"script[async]"+t}function v1(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+_n(n.href)+'"]');if(s)return e.instance=s,pt(s),s;var a=He({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),pt(s),jt(s,"style",a),Gf(s,n.precedence,t),e.instance=s;case"stylesheet":a=fc(n.href);var r=t.querySelector(Ud(a));if(r)return e.state.loading|=4,e.instance=r,pt(r),r;s=fj(n),(a=Yn.get(a))&&Gx(s,a),r=(t.ownerDocument||t).createElement("link"),pt(r);var i=r;return i._p=new Promise(function(o,c){i.onload=o,i.onerror=c}),jt(r,"link",s),e.state.loading|=4,Gf(r,n.precedence,t),e.instance=r;case"script":return r=Bc(n.src),(a=t.querySelector(Ld(r)))?(e.instance=a,pt(a),a):(s=n,(a=Yn.get(r))&&(s=He({},n),Qx(s,a)),t=t.ownerDocument||t,a=t.createElement("script"),pt(a),jt(a,"link",s),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(_(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Gf(s,n.precedence,t));return e.instance}function Gf(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=s.length?s[s.length-1]:null,r=a,i=0;i<s.length;i++){var o=s[i];if(o.dataset.precedence===e)r=o;else if(r!==a)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Gx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Qx(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Qf=null;function w1(t,e,n){if(Qf===null){var s=new Map,a=Qf=new Map;a.set(n,s)}else a=Qf,s=a.get(n),s||(s=new Map,a.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var r=n[a];if(!(r[Od]||r[wt]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var i=r.getAttribute(e)||"";i=t+i;var o=s.get(i);o?o.push(r):s.set(i,[r])}}return s}function A1(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function vR(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function hj(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function wR(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=fc(s.href),r=e.querySelector(Ud(a));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ph.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,pt(r);return}r=e.ownerDocument||e,s=fj(s),(a=Yn.get(a))&&Gx(s,a),r=r.createElement("link"),pt(r);var i=r;i._p=new Promise(function(o,c){i.onload=o,i.onerror=c}),jt(r,"link",s),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Ph.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var ag=0;function AR(t,e){return t.stylesheets&&t.count===0&&qf(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&qf(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&ag===0&&(ag=62500*nR());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&qf(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>ag?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(a)}}:null}function Ph(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uh=null;function qf(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uh=new Map,e.forEach(NR,t),Uh=null,Ph.call(t))}function NR(t,e){if(!(e.state.loading&4)){var n=Uh.get(t);if(n)var s=n.get(null);else{n=new Map,Uh.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var i=a[r];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(n.set(i.dataset.precedence,i),s=i)}s&&n.set(null,s)}a=e.instance,i=a.getAttribute("data-precedence"),r=n.get(i)||s,r===s&&n.set(null,a),n.set(i,a),this.count++,s=Ph.bind(this),a.addEventListener("load",s),a.addEventListener("error",s),r?r.parentNode.insertBefore(a,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var Qu={$$typeof:ga,Provider:null,Consumer:null,_currentValue:Zi,_currentValue2:Zi,_threadCount:0};function ER(t,e,n,s,a,r,i,o,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tp(0),this.hiddenUpdates=Tp(null),this.identifierPrefix=s,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function mj(t,e,n,s,a,r,i,o,c,u,d,f){return t=new ER(t,e,n,i,c,u,d,f,o),e=1,r===!0&&(e|=24),r=yn(3,null,null,e),t.current=r,r.stateNode=t,e=yx(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:s,isDehydrated:n,cache:e},vx(r),t}function pj(t){return t?(t=qo,t):qo}function gj(t,e,n,s,a,r){a=pj(a),s.context===null?s.context=a:s.pendingContext=a,s=Cr(e),s.payload={element:n},r=r===void 0?null:r,r!==null&&(s.callback=r),n=Rr(t,s,e),n!==null&&(en(n,t,e),xu(n,t,e))}function N1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qx(t,e){N1(t,e),(t=t.alternate)&&N1(t,e)}function yj(t){if(t.tag===13||t.tag===31){var e=vo(t,67108864);e!==null&&en(e,t,67108864),qx(t,67108864)}}function E1(t){if(t.tag===13||t.tag===31){var e=Nn();e=sx(e);var n=vo(t,e);n!==null&&en(n,t,e),qx(t,e)}}var Lh=!0;function jR(t,e,n,s){var a=se.T;se.T=null;var r=Ae.p;try{Ae.p=2,Kx(t,e,n,s)}finally{Ae.p=r,se.T=a}}function SR(t,e,n,s){var a=se.T;se.T=null;var r=Ae.p;try{Ae.p=8,Kx(t,e,n,s)}finally{Ae.p=r,se.T=a}}function Kx(t,e,n,s){if(Lh){var a=H0(s);if(a===null)ng(t,e,s,zh,n),j1(t,s);else if(CR(a,t,e,n,s))s.stopPropagation();else if(j1(t,s),e&4&&-1<TR.indexOf(t)){for(;a!==null;){var r=Tc(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var i=ci(r.pendingLanes);if(i!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var c=1<<31-An(i);o.entanglements[1]|=c,i&=~c}Gs(r),!(we&6)&&(Th=vn()+500,Pd(0))}}break;case 31:case 13:o=vo(r,2),o!==null&&en(o,r,2),Um(),qx(r,2)}if(r=H0(s),r===null&&ng(t,e,s,zh,n),r===a)break;a=r}a!==null&&s.stopPropagation()}else ng(t,e,s,null,n)}}function H0(t){return t=ox(t),Yx(t)}var zh=null;function Yx(t){if(zh=null,t=Vo(t),t!==null){var e=Sd(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=LA(e),t!==null)return t;t=null}else if(n===31){if(t=zA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return zh=t,null}function xj(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(f3()){case FA:return 2;case _A:return 8;case hh:case h3:return 32;case GA:return 268435456;default:return 32}default:return 32}}var V0=!1,Br=null,Mr=null,kr=null,qu=new Map,Ku=new Map,tr=[],TR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j1(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(e.pointerId)}}function Kc(t,e,n,s,a,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[a]},e!==null&&(e=Tc(e),e!==null&&yj(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function CR(t,e,n,s,a){switch(e){case"focusin":return Br=Kc(Br,t,e,n,s,a),!0;case"dragenter":return Mr=Kc(Mr,t,e,n,s,a),!0;case"mouseover":return kr=Kc(kr,t,e,n,s,a),!0;case"pointerover":var r=a.pointerId;return qu.set(r,Kc(qu.get(r)||null,t,e,n,s,a)),!0;case"gotpointercapture":return r=a.pointerId,Ku.set(r,Kc(Ku.get(r)||null,t,e,n,s,a)),!0}return!1}function bj(t){var e=Vo(t.target);if(e!==null){var n=Sd(e);if(n!==null){if(e=n.tag,e===13){if(e=LA(n),e!==null){t.blockedOn=e,cv(t.priority,function(){E1(n)});return}}else if(e===31){if(e=zA(n),e!==null){t.blockedOn=e,cv(t.priority,function(){E1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=H0(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);a0=s,n.target.dispatchEvent(s),a0=null}else return e=Tc(n),e!==null&&yj(e),t.blockedOn=n,!1;e.shift()}return!0}function S1(t,e,n){Kf(t)&&n.delete(e)}function RR(){V0=!1,Br!==null&&Kf(Br)&&(Br=null),Mr!==null&&Kf(Mr)&&(Mr=null),kr!==null&&Kf(kr)&&(kr=null),qu.forEach(S1),Ku.forEach(S1)}function pf(t,e){t.blockedOn===e&&(t.blockedOn=null,V0||(V0=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,RR)))}var gf=null;function T1(t){gf!==t&&(gf=t,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,function(){gf===t&&(gf=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],a=t[e+2];if(typeof s!="function"){if(Yx(s||n)===null)continue;break}var r=Tc(n);r!==null&&(t.splice(e,3),e-=3,v0(r,{pending:!0,data:a,method:n.method,action:s},s,a))}}))}function hc(t){function e(c){return pf(c,t)}Br!==null&&pf(Br,t),Mr!==null&&pf(Mr,t),kr!==null&&pf(kr,t),qu.forEach(e),Ku.forEach(e);for(var n=0;n<tr.length;n++){var s=tr[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)bj(n),n.blockedOn===null&&tr.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var a=n[s],r=n[s+1],i=a[an]||null;if(typeof r=="function")i||T1(n);else if(i){var o=null;if(r&&r.hasAttribute("formAction")){if(a=r,i=r[an]||null)o=i.formAction;else if(Yx(a)!==null)continue}else o=i.action;typeof o=="function"?n[s+1]=o:(n.splice(s,3),s-=3),T1(n)}}}function vj(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(i){return a=i})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function Jx(t){this._internalRoot=t}Hm.prototype.render=Jx.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_(409));var n=e.current,s=Nn();gj(n,s,t,e,null,null)};Hm.prototype.unmount=Jx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gj(t.current,2,null,t,null,null),Um(),e[Sc]=null}};function Hm(t){this._internalRoot=t}Hm.prototype.unstable_scheduleHydration=function(t){if(t){var e=JA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tr.length&&e!==0&&e<tr[n].priority;n++);tr.splice(n,0,t),n===0&&bj(t)}};var C1=PA.version;if(C1!=="19.2.0")throw Error(_(527,C1,"19.2.0"));Ae.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_(188)):(t=Object.keys(t).join(","),Error(_(268,t)));return t=r3(e),t=t!==null?HA(t):null,t=t===null?null:t.stateNode,t};var OR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{Td=yf.inject(OR),wn=yf}catch{}}Am.createRoot=function(t,e){if(!UA(t))throw Error(_(299));var n=!1,s="",a=dE,r=fE,i=hE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=mj(t,1,!1,null,null,n,s,null,a,r,i,vj),t[Sc]=e.current,_x(t),new Jx(e)};Am.hydrateRoot=function(t,e,n){if(!UA(t))throw Error(_(299));var s=!1,a="",r=dE,i=fE,o=hE,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(i=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=mj(t,1,!0,e,n??null,s,a,c,r,i,o,vj),e.context=pj(null),n=e.current,s=Nn(),s=sx(s),a=Cr(s),a.callback=null,Rr(n,a,s),n=s,e.current.lanes=n,Rd(e,n),Gs(e),t[Sc]=e.current,_x(t),new Hm(e)};Am.version="19.2.0";function wj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wj)}catch(t){console.error(t)}}wj(),RA.exports=Am;var DR=RA.exports;const BR=bA(DR);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Yu.apply(this,arguments)}var jr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jr||(jr={}));const R1="popstate";function MR(t){t===void 0&&(t={});function e(s,a){let{pathname:r,search:i,hash:o}=s.location;return I0("",{pathname:r,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Hh(a)}return PR(e,n,null,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Aj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kR(){return Math.random().toString(36).substr(2,8)}function O1(t,e){return{usr:t.state,key:t.key,idx:e}}function I0(t,e,n,s){return n===void 0&&(n=null),Yu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mc(e):e,{state:n,key:e&&e.key||s||kR()})}function Hh(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Mc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function PR(t,e,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:r=!1}=s,i=a.history,o=jr.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Yu({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){o=jr.Pop;let w=d(),b=w==null?null:w-u;u=w,c&&c({action:o,location:y.location,delta:b})}function h(w,b){o=jr.Push;let g=I0(y.location,w,b);u=d()+1;let x=O1(g,u),A=y.createHref(g);try{i.pushState(x,"",A)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(A)}r&&c&&c({action:o,location:y.location,delta:1})}function m(w,b){o=jr.Replace;let g=I0(y.location,w,b);u=d();let x=O1(g,u),A=y.createHref(g);i.replaceState(x,"",A),r&&c&&c({action:o,location:y.location,delta:0})}function p(w){let b=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof w=="string"?w:Hh(w);return g=g.replace(/ $/,"%20"),et(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let y={get action(){return o},get location(){return t(a,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(R1,f),c=w,()=>{a.removeEventListener(R1,f),c=null}},createHref(w){return e(a,w)},createURL:p,encodeLocation(w){let b=p(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(w){return i.go(w)}};return y}var D1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(D1||(D1={}));function UR(t,e,n){return n===void 0&&(n="/"),LR(t,e,n)}function LR(t,e,n,s){let a=typeof e=="string"?Mc(e):e,r=Zx(a.pathname||"/",n);if(r==null)return null;let i=Nj(t);zR(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=ZR(r);o=KR(i[c],u)}return o}function Nj(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(r,i,o)=>{let c={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:i,route:r};c.relativePath.startsWith("/")&&(et(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Pr([s,c.relativePath]),d=n.concat(c);r.children&&r.children.length>0&&(et(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Nj(r.children,e,d,u)),!(r.path==null&&!r.index)&&e.push({path:u,score:QR(u,r.index),routesMeta:d})};return t.forEach((r,i)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))a(r,i);else for(let c of Ej(r.path))a(r,i,c)}),e}function Ej(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return a?[r,""]:[r];let i=Ej(s.join("/")),o=[];return o.push(...i.map(c=>c===""?r:[r,c].join("/"))),a&&o.push(...i),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function zR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const HR=/^:[\w-]+$/,VR=3,IR=2,FR=1,_R=10,GR=-2,B1=t=>t==="*";function QR(t,e){let n=t.split("/"),s=n.length;return n.some(B1)&&(s+=GR),e&&(s+=IR),n.filter(a=>!B1(a)).reduce((a,r)=>a+(HR.test(r)?VR:r===""?FR:_R),s)}function qR(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function KR(t,e,n){let{routesMeta:s}=t,a={},r="/",i=[];for(let o=0;o<s.length;++o){let c=s[o],u=o===s.length-1,d=r==="/"?e:e.slice(r.length)||"/",f=YR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Pr([r,f.pathname]),pathnameBase:eO(Pr([r,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(r=Pr([r,f.pathnameBase]))}return i}function YR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=JR(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let r=a[0],i=r.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=o[f]||"";i=r.slice(0,r.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[f];return m&&!p?u[h]=void 0:u[h]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:i,pattern:t}}function JR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Aj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function ZR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Aj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function XR(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Mc(t):t;return{pathname:n?n.startsWith("/")?n:$R(n,e):e,search:tO(s),hash:nO(a)}}function $R(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function rg(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xx(t,e){let n=WR(t);return e?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function $x(t,e,n,s){s===void 0&&(s=!1);let a;typeof t=="string"?a=Mc(t):(a=Yu({},t),et(!a.pathname||!a.pathname.includes("?"),rg("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),rg("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),rg("#","search","hash",a)));let r=t===""||a.pathname==="",i=r?"/":a.pathname,o;if(i==null)o=n;else{let f=e.length-1;if(!s&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?e[f]:"/"}let c=XR(a,o),u=i&&i!=="/"&&i.endsWith("/"),d=(r||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Pr=t=>t.join("/").replace(/\/\/+/g,"/"),eO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jj=["post","put","patch","delete"];new Set(jj);const aO=["get",...jj];new Set(aO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ju.apply(this,arguments)}const Wx=N.createContext(null),rO=N.createContext(null),$r=N.createContext(null),Vm=N.createContext(null),Wr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Sj=N.createContext(null);function iO(t,e){let{relative:n}=e===void 0?{}:e;kc()||et(!1);let{basename:s,navigator:a}=N.useContext($r),{hash:r,pathname:i,search:o}=Cj(t,{relative:n}),c=i;return s!=="/"&&(c=i==="/"?s:Pr([s,i])),a.createHref({pathname:c,search:o,hash:r})}function kc(){return N.useContext(Vm)!=null}function zd(){return kc()||et(!1),N.useContext(Vm).location}function Tj(t){N.useContext($r).static||N.useLayoutEffect(t)}function Hd(){let{isDataRoute:t}=N.useContext(Wr);return t?bO():oO()}function oO(){kc()||et(!1);let t=N.useContext(Wx),{basename:e,future:n,navigator:s}=N.useContext($r),{matches:a}=N.useContext(Wr),{pathname:r}=zd(),i=JSON.stringify(Xx(a,n.v7_relativeSplatPath)),o=N.useRef(!1);return Tj(()=>{o.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){s.go(u);return}let f=$x(u,JSON.parse(i),r,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Pr([e,f.pathname])),(d.replace?s.replace:s.push)(f,d.state,d)},[e,s,i,r,t])}function Cj(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=N.useContext($r),{matches:a}=N.useContext(Wr),{pathname:r}=zd(),i=JSON.stringify(Xx(a,s.v7_relativeSplatPath));return N.useMemo(()=>$x(t,JSON.parse(i),r,n==="path"),[t,i,r,n])}function lO(t,e){return cO(t,e)}function cO(t,e,n,s){kc()||et(!1);let{navigator:a}=N.useContext($r),{matches:r}=N.useContext(Wr),i=r[r.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=zd(),d;if(e){var f;let w=typeof e=="string"?Mc(e):e;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||et(!1),d=w}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=UR(t,{pathname:m}),y=mO(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Pr([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Pr([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),r,n,s);return e&&y?N.createElement(Vm.Provider,{value:{location:Ju({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:jr.Pop}},y):y}function uO(){let t=xO(),e=sO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,null)}const dO=N.createElement(uO,null);class fO extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Wr.Provider,{value:this.props.routeContext},N.createElement(Sj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hO(t){let{routeContext:e,match:n,children:s}=t,a=N.useContext(Wx);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Wr.Provider,{value:e},s)}function mO(t,e,n,s){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=(a=n)==null?void 0:a.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||et(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,p=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,p=!1,y=null,w=null;n&&(m=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||dO,c&&(u<0&&h===0?(vO("route-fallback"),p=!0,w=null):u===h&&(p=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,h+1)),g=()=>{let x;return m?x=y:p?x=w:f.route.Component?x=N.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,N.createElement(hO,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(fO,{location:n.location,revalidation:n.revalidation,component:y,error:m,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var Rj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Rj||{}),Oj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Oj||{});function pO(t){let e=N.useContext(Wx);return e||et(!1),e}function gO(t){let e=N.useContext(rO);return e||et(!1),e}function yO(t){let e=N.useContext(Wr);return e||et(!1),e}function Dj(t){let e=yO(),n=e.matches[e.matches.length-1];return n.route.id||et(!1),n.route.id}function xO(){var t;let e=N.useContext(Sj),n=gO(),s=Dj();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function bO(){let{router:t}=pO(Rj.UseNavigateStable),e=Dj(Oj.UseNavigateStable),n=N.useRef(!1);return Tj(()=>{n.current=!0}),N.useCallback(function(a,r){r===void 0&&(r={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Ju({fromRouteId:e},r)))},[t,e])}const M1={};function vO(t,e,n){M1[t]||(M1[t]=!0)}function wO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ig(t){let{to:e,replace:n,state:s,relative:a}=t;kc()||et(!1);let{future:r,static:i}=N.useContext($r),{matches:o}=N.useContext(Wr),{pathname:c}=zd(),u=Hd(),d=$x(e,Xx(o,r.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:a}),[u,f,a,n,s]),null}function Qa(t){et(!1)}function AO(t){let{basename:e="/",children:n=null,location:s,navigationType:a=jr.Pop,navigator:r,static:i=!1,future:o}=t;kc()&&et(!1);let c=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:r,static:i,future:Ju({v7_relativeSplatPath:!1},o)}),[c,o,r,i]);typeof s=="string"&&(s=Mc(s));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=s,y=N.useMemo(()=>{let w=Zx(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:m,key:p},navigationType:a}},[c,d,f,h,m,p,a]);return y==null?null:N.createElement($r.Provider,{value:u},N.createElement(Vm.Provider,{children:n,value:y}))}function NO(t){let{children:e,location:n}=t;return lO(F0(e),n)}new Promise(()=>{});function F0(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(s,a)=>{if(!N.isValidElement(s))return;let r=[...e,a];if(s.type===N.Fragment){n.push.apply(n,F0(s.props.children,r));return}s.type!==Qa&&et(!1),!s.props.index||!s.props.children||et(!1);let i={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=F0(s.props.children,r)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_0.apply(this,arguments)}function EO(t,e){if(t==null)return{};var n={},s=Object.keys(t),a,r;for(r=0;r<s.length;r++)a=s[r],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function jO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SO(t,e){return t.button===0&&(!e||e==="_self")&&!jO(t)}const TO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CO="6";try{window.__reactRouterVersion=CO}catch{}const RO="startTransition",k1=$4[RO];function OO(t){let{basename:e,children:n,future:s,window:a}=t,r=N.useRef();r.current==null&&(r.current=MR({window:a,v5Compat:!0}));let i=r.current,[o,c]=N.useState({action:i.action,location:i.location}),{v7_startTransition:u}=s||{},d=N.useCallback(f=>{u&&k1?k1(()=>c(f)):c(f)},[c,u]);return N.useLayoutEffect(()=>i.listen(d),[i,d]),N.useEffect(()=>wO(s),[s]),N.createElement(AO,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i,future:s})}const DO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ls=N.forwardRef(function(e,n){let{onClick:s,relative:a,reloadDocument:r,replace:i,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=EO(e,TO),{basename:m}=N.useContext($r),p,y=!1;if(typeof u=="string"&&BO.test(u)&&(p=u,DO))try{let x=new URL(window.location.href),A=u.startsWith("//")?new URL(x.protocol+u):new URL(u),j=Zx(A.pathname,m);A.origin===x.origin&&j!=null?u=j+A.search+A.hash:y=!0}catch{}let w=iO(u,{relative:a}),b=MO(u,{replace:i,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:f});function g(x){s&&s(x),x.defaultPrevented||b(x)}return N.createElement("a",_0({},h,{href:p||w,onClick:y||r?s:g,ref:n,target:c}))});var P1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(P1||(P1={}));var U1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(U1||(U1={}));function MO(t,e){let{target:n,replace:s,state:a,preventScrollReset:r,relative:i,viewTransition:o}=e===void 0?{}:e,c=Hd(),u=zd(),d=Cj(t,{relative:i});return N.useCallback(f=>{if(SO(f,n)){f.preventDefault();let h=s!==void 0?s:Hh(u)===Hh(d);c(t,{replace:h,state:a,preventScrollReset:r,relative:i,viewTransition:o})}},[u,c,d,s,a,n,t,r,i,o])}let kO={data:""},PO=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||kO},UO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LO=/\/\*[^]*?\*\/|  +/g,L1=/\n+/g,nr=(t,e)=>{let n="",s="",a="";for(let r in t){let i=t[r];r[0]=="@"?r[1]=="i"?n=r+" "+i+";":s+=r[1]=="f"?nr(i,r):r+"{"+nr(i,r[1]=="k"?"":e)+"}":typeof i=="object"?s+=nr(i,e?e.replace(/([^,])+/g,o=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):r):i!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=nr.p?nr.p(r,i):r+":"+i+";")}return n+(e&&a?e+"{"+a+"}":a)+s},Js={},Bj=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Bj(t[n]);return e}return t},zO=(t,e,n,s,a)=>{let r=Bj(t),i=Js[r]||(Js[r]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(r));if(!Js[i]){let c=r!==t?t:(u=>{let d,f,h=[{}];for(;d=UO.exec(u.replace(LO,""));)d[4]?h.shift():d[3]?(f=d[3].replace(L1," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(L1," ").trim();return h[0]})(t);Js[i]=nr(a?{["@keyframes "+i]:c}:c,n?"":"."+i)}let o=n&&Js.g?Js.g:null;return n&&(Js.g=Js[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Js[i],e,s,o),i},HO=(t,e,n)=>t.reduce((s,a,r)=>{let i=e[r];if(i&&i.call){let o=i(n),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;i=c?"."+c:o&&typeof o=="object"?o.props?"":nr(o,""):o===!1?"":o}return s+a+(i??"")},"");function Im(t){let e=this||{},n=t.call?t(e.p):t;return zO(n.unshift?n.raw?HO(n,[].slice.call(arguments,1),e.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):n,PO(e.target),e.g,e.o,e.k)}let Mj,G0,Q0;Im.bind({g:1});let ka=Im.bind({k:1});function VO(t,e,n,s){nr.p=e,Mj=t,G0=n,Q0=s}function ei(t,e){let n=this||{};return function(){let s=arguments;function a(r,i){let o=Object.assign({},r),c=o.className||a.className;n.p=Object.assign({theme:G0&&G0()},o),n.o=/ *go\d+/.test(c),o.className=Im.apply(n,s)+(c?" "+c:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),Q0&&u[0]&&Q0(o),Mj(u,o)}return a}}var IO=t=>typeof t=="function",Vh=(t,e)=>IO(t)?t(e):t,FO=(()=>{let t=0;return()=>(++t).toString()})(),kj=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),_O=20,eb="default",Pj=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:s}=e;return Pj(t,{type:t.toasts.find(i=>i.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},Yf=[],Uj={toasts:[],pausedAt:void 0,settings:{toastLimit:_O}},zs={},Lj=(t,e=eb)=>{zs[e]=Pj(zs[e]||Uj,t),Yf.forEach(([n,s])=>{n===e&&s(zs[e])})},zj=t=>Object.keys(zs).forEach(e=>Lj(t,e)),GO=t=>Object.keys(zs).find(e=>zs[e].toasts.some(n=>n.id===t)),Fm=(t=eb)=>e=>{Lj(e,t)},QO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},qO=(t={},e=eb)=>{let[n,s]=N.useState(zs[e]||Uj),a=N.useRef(zs[e]);N.useEffect(()=>(a.current!==zs[e]&&s(zs[e]),Yf.push([e,s]),()=>{let i=Yf.findIndex(([o])=>o===e);i>-1&&Yf.splice(i,1)}),[e]);let r=n.toasts.map(i=>{var o,c,u;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((c=t[i.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||QO[i.type],style:{...t.style,...(u=t[i.type])==null?void 0:u.style,...i.style}}});return{...n,toasts:r}},KO=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||FO()}),Vd=t=>(e,n)=>{let s=KO(e,t,n);return Fm(s.toasterId||GO(s.id))({type:2,toast:s}),s.id},lt=(t,e)=>Vd("blank")(t,e);lt.error=Vd("error");lt.success=Vd("success");lt.loading=Vd("loading");lt.custom=Vd("custom");lt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Fm(e)(n):zj(n)};lt.dismissAll=t=>lt.dismiss(void 0,t);lt.remove=(t,e)=>{let n={type:4,toastId:t};e?Fm(e)(n):zj(n)};lt.removeAll=t=>lt.remove(void 0,t);lt.promise=(t,e,n)=>{let s=lt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let r=e.success?Vh(e.success,a):void 0;return r?lt.success(r,{id:s,...n,...n==null?void 0:n.success}):lt.dismiss(s),a}).catch(a=>{let r=e.error?Vh(e.error,a):void 0;r?lt.error(r,{id:s,...n,...n==null?void 0:n.error}):lt.dismiss(s)}),t};var YO=1e3,JO=(t,e="default")=>{let{toasts:n,pausedAt:s}=qO(t,e),a=N.useRef(new Map).current,r=N.useCallback((f,h=YO)=>{if(a.has(f))return;let m=setTimeout(()=>{a.delete(f),i({type:4,toastId:f})},h);a.set(f,m)},[]);N.useEffect(()=>{if(s)return;let f=Date.now(),h=n.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(p<0){m.visible&&lt.dismiss(m.id);return}return setTimeout(()=>lt.dismiss(m.id,e),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[n,s,e]);let i=N.useCallback(Fm(e),[e]),o=N.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=N.useCallback((f,h)=>{i({type:1,toast:{id:f,height:h}})},[i]),u=N.useCallback(()=>{s&&i({type:6,time:Date.now()})},[s,i]),d=N.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:y}=h||{},w=n.filter(x=>(x.position||y)===(f.position||y)&&x.height),b=w.findIndex(x=>x.id===f.id),g=w.filter((x,A)=>A<b&&x.visible).length;return w.filter(x=>x.visible).slice(...m?[g+1]:[0,g]).reduce((x,A)=>x+(A.height||0)+p,0)},[n]);return N.useEffect(()=>{n.forEach(f=>{if(f.dismissed)r(f.id,f.removeDelay);else{let h=a.get(f.id);h&&(clearTimeout(h),a.delete(f.id))}})},[n,r]),{toasts:n,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:d}}},ZO=ka`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,XO=ka`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$O=ka`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,WO=ei("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${XO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$O} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,eD=ka`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,tD=ei("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${eD} 1s linear infinite;
`,nD=ka`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sD=ka`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,aD=ei("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,rD=ei("div")`
  position: absolute;
`,iD=ei("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,oD=ka`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lD=ei("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${oD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cD=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?N.createElement(lD,null,e):e:n==="blank"?null:N.createElement(iD,null,N.createElement(tD,{...s}),n!=="loading"&&N.createElement(rD,null,n==="error"?N.createElement(WO,{...s}):N.createElement(aD,{...s})))},uD=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,dD=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,fD="0%{opacity:0;} 100%{opacity:1;}",hD="0%{opacity:1;} 100%{opacity:0;}",mD=ei("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pD=ei("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gD=(t,e)=>{let n=t.includes("top")?1:-1,[s,a]=kj()?[fD,hD]:[uD(n),dD(n)];return{animation:e?`${ka(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ka(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},yD=N.memo(({toast:t,position:e,style:n,children:s})=>{let a=t.height?gD(t.position||e||"top-center",t.visible):{opacity:0},r=N.createElement(cD,{toast:t}),i=N.createElement(pD,{...t.ariaProps},Vh(t.message,t));return N.createElement(mD,{className:t.className,style:{...a,...n,...t.style}},typeof s=="function"?s({icon:r,message:i}):N.createElement(N.Fragment,null,r,i))});VO(N.createElement);var xD=({id:t,className:e,style:n,onHeightUpdate:s,children:a})=>{let r=N.useCallback(i=>{if(i){let o=()=>{let c=i.getBoundingClientRect().height;s(t,c)};o(),new MutationObserver(o).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return N.createElement("div",{ref:r,className:e,style:n},a)},bD=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...a}},vD=Im`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xf=16,wD=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:a,toasterId:r,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:u}=JO(n,r);return N.createElement("div",{"data-rht-toaster":r||"",style:{position:"fixed",zIndex:9999,top:xf,left:xf,right:xf,bottom:xf,pointerEvents:"none",...i},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||e,h=u.calculateOffset(d,{reverseOrder:t,gutter:s,defaultPosition:e}),m=bD(f,h);return N.createElement(xD,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?vD:"",style:m},d.type==="custom"?Vh(d.message,d):a?a(d):N.createElement(yD,{toast:d,position:f}))}))},F=lt;const AD="6.15.0";function ND(t,e,n){const s=e.split("|").map(r=>r.trim());for(let r=0;r<s.length;r++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const a=new Error(`invalid value for type ${e}`);throw a.code="INVALID_ARGUMENT",a.argument=`value.${n}`,a.value=t,a}async function zt(t){const e=Object.keys(t);return(await Promise.all(e.map(s=>Promise.resolve(t[s])))).reduce((s,a,r)=>(s[e[r]]=a,s),{})}function ee(t,e,n){for(let s in e){let a=e[s];const r=n?n[s]:null;r&&ND(a,r,s),Object.defineProperty(t,s,{enumerable:!0,value:a,writable:!1})}}function Zo(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Zo(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let s="0x";for(let a=0;a<t.length;a++)s+=n[t[a]>>4],s+=n[t[a]&15];return s}if(typeof t=="object"&&typeof t.toJSON=="function")return Zo(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(s=>`${Zo(s,e)}: ${Zo(t[s],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Nt(t,e){return t&&t.code===e}function tb(t){return Nt(t,"CALL_EXCEPTION")}function Ie(t,e,n){let s=t;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Zo(n)}`);for(const i in n){if(i==="shortMessage")continue;const o=n[i];r.push(i+"="+Zo(o))}}r.push(`code=${e}`),r.push(`version=${AD}`),r.length&&(t+=" ("+r.join(", ")+")")}let a;switch(e){case"INVALID_ARGUMENT":a=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":a=new RangeError(t);break;default:a=new Error(t)}return ee(a,{code:e}),n&&Object.assign(a,n),a.shortMessage==null&&ee(a,{shortMessage:s}),a}function Q(t,e,n,s){if(!t)throw Ie(e,n,s)}function M(t,e,n,s){Q(t,e,"INVALID_ARGUMENT",{argument:n,value:s})}function Hj(t,e,n){n==null&&(n=""),n&&(n=": "+n),Q(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Q(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function Id(t,e,n){if(n==null&&(n=""),t!==e){let s=n,a="new";n&&(s+=".",a+=" "+n),Q(!1,`private constructor; use ${s}from* methods`,"UNSUPPORTED_OPERATION",{operation:a})}}function Vj(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const s=new Uint8Array((t.length-2)/2);let a=2;for(let r=0;r<s.length;r++)s[r]=parseInt(t.substring(a,a+2),16),a+=2;return s}M(!1,"invalid BytesLike value",e||"value",t)}function fe(t,e){return Vj(t,e,!1)}function Ht(t,e){return Vj(t,e,!0)}function ke(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function nb(t){return ke(t,!0)||t instanceof Uint8Array}const z1="0123456789abcdef";function Y(t){const e=fe(t);let n="0x";for(let s=0;s<e.length;s++){const a=e[s];n+=z1[(a&240)>>4]+z1[a&15]}return n}function Ye(t){return"0x"+t.map(e=>Y(e).substring(2)).join("")}function hl(t){return ke(t,!0)?(t.length-2)/2:fe(t).length}function qe(t,e,n){const s=fe(t);return n!=null&&n>s.length&&Q(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:s,length:s.length,offset:n}),Y(s.slice(e??0,n??s.length))}function Ij(t,e,n){const s=fe(t);Q(e>=s.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(s),length:e,offset:e+1});const a=new Uint8Array(e);return a.fill(0),n?a.set(s,e-s.length):a.set(s,0),Y(a)}function Pa(t,e){return Ij(t,e,!0)}function ED(t,e){return Ij(t,e,!1)}const _m=BigInt(0),fs=BigInt(1),Xo=9007199254740991;function Ih(t,e){const n=Gm(t,"value"),s=BigInt(ce(e,"width"));if(Q(n>>s===_m,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>s-fs){const a=(fs<<s)-fs;return-((~n&a)+fs)}return n}function Fj(t,e){let n=$(t,"value");const s=BigInt(ce(e,"width")),a=fs<<s-fs;if(n<_m){n=-n,Q(n<=a,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const r=(fs<<s)-fs;return(~n&r)+fs}else Q(n<a,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Ni(t,e){const n=Gm(t,"value"),s=BigInt(ce(e,"bits"));return n&(fs<<s)-fs}function $(t,e){switch(typeof t){case"bigint":return t;case"number":return M(Number.isInteger(t),"underflow",e||"value",t),M(t>=-Xo&&t<=Xo,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){M(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}M(!1,"invalid BigNumberish value",e||"value",t)}function Gm(t,e){const n=$(t,e);return Q(n>=_m,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const H1="0123456789abcdef";function Qm(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=H1[n>>4],e+=H1[n&15];return BigInt(e)}return $(t)}function ce(t,e){switch(typeof t){case"bigint":return M(t>=-Xo&&t<=Xo,"overflow",e||"value",t),Number(t);case"number":return M(Number.isInteger(t),"underflow",e||"value",t),M(t>=-Xo&&t<=Xo,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return ce(BigInt(t),e)}catch(n){M(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}M(!1,"invalid numeric value",e||"value",t)}function jD(t){return ce(Qm(t))}function _r(t,e){let s=Gm(t,"value").toString(16);if(e==null)s.length%2&&(s="0"+s);else{const a=ce(e,"width");for(Q(a*2>=s.length,`value exceeds width (${a} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});s.length<a*2;)s="0"+s}return"0x"+s}function ut(t){const e=Gm(t,"value");if(e===_m)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const s=new Uint8Array(n.length/2);for(let a=0;a<s.length;a++){const r=a*2;s[a]=parseInt(n.substring(r,r+2),16)}return s}function ds(t){let e=Y(nb(t)?t:ut(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const V1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const I1=BigInt(58);function SD(t){const e=fe(t);let n=Qm(e),s="";for(;n;)s=V1[Number(n%I1)]+s,n/=I1;for(let a=0;a<e.length&&!e[a];a++)s=V1[0]+s;return s}function TD(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return fe(e)}function CD(t){const e=fe(t);let n="";for(let s=0;s<e.length;s++)n+=String.fromCharCode(e[s]);return btoa(n)}var yl;class _j{constructor(e,n,s){P(this,"filter");P(this,"emitter");z(this,yl);S(this,yl,n),ee(this,{emitter:e,filter:s})}async removeListener(){v(this,yl)!=null&&await this.emitter.off(this.filter,v(this,yl))}}yl=new WeakMap;function RD(t,e,n,s,a){M(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function Gj(t,e,n,s,a){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let r=0;for(let i=e+1;i<n.length&&n[i]>>6===2;i++)r++;return r}return t==="OVERRUN"?n.length-e-1:0}function OD(t,e,n,s,a){return t==="OVERLONG"?(M(typeof a=="number","invalid bad code point for replacement","badCodepoint",a),s.push(a),0):(s.push(65533),Gj(t,e,n))}const DD=Object.freeze({error:RD,ignore:Gj,replace:OD});function BD(t,e){e==null&&(e=DD.error);const n=fe(t,"bytes"),s=[];let a=0;for(;a<n.length;){const r=n[a++];if(!(r>>7)){s.push(r);continue}let i=null,o=null;if((r&224)===192)i=1,o=127;else if((r&240)===224)i=2,o=2047;else if((r&248)===240)i=3,o=65535;else{(r&192)===128?a+=e("UNEXPECTED_CONTINUE",a-1,n,s):a+=e("BAD_PREFIX",a-1,n,s);continue}if(a-1+i>=n.length){a+=e("OVERRUN",a-1,n,s);continue}let c=r&(1<<8-i-1)-1;for(let u=0;u<i;u++){let d=n[a];if((d&192)!=128){a+=e("MISSING_CONTINUE",a,n,s),c=null;break}c=c<<6|d&63,a++}if(c!==null){if(c>1114111){a+=e("OUT_OF_RANGE",a-1-i,n,s,c);continue}if(c>=55296&&c<=57343){a+=e("UTF16_SURROGATE",a-1-i,n,s,c);continue}if(c<=o){a+=e("OVERLONG",a-1-i,n,s,c);continue}s.push(c)}}return s}function Ea(t,e){M(typeof t=="string","invalid string value","str",t);let n=[];for(let s=0;s<t.length;s++){const a=t.charCodeAt(s);if(a<128)n.push(a);else if(a<2048)n.push(a>>6|192),n.push(a&63|128);else if((a&64512)==55296){s++;const r=t.charCodeAt(s);M(s<t.length&&(r&64512)===56320,"invalid surrogate pair","str",t);const i=65536+((a&1023)<<10)+(r&1023);n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(i&63|128)}else n.push(a>>12|224),n.push(a>>6&63|128),n.push(a&63|128)}return new Uint8Array(n)}function MD(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Fh(t,e){return MD(BD(t,e))}function Qj(t){async function e(n,s){Q(s==null||!s.cancelled,"request cancelled before sending","CANCELLED");const a=n.url.split(":")[0].toLowerCase();Q(a==="http"||a==="https",`unsupported protocol ${a}`,"UNSUPPORTED_OPERATION",{info:{protocol:a},operation:"request"}),Q(a==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const i=new AbortController,o=setTimeout(()=>{r=Ie("request timeout","TIMEOUT"),i.abort()},n.timeout);s&&s.addListener(()=>{r=Ie("request cancelled","CANCELLED"),i.abort()});const c=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:i.signal});let u;try{u=await fetch(n.url,c)}catch(m){throw clearTimeout(o),r||m}clearTimeout(o);const d={};u.headers.forEach((m,p)=>{d[p.toLowerCase()]=m});const f=await u.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:d,body:h}}return e}const kD=12,PD=250;let F1=Qj();const UD=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),LD=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let og=!1;async function qj(t,e){try{const n=t.match(UD);if(!n)throw new Error("invalid data");return new Ur(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?TD(n[3]):HD(n[3]))}catch{return new Ur(599,"BAD REQUEST (invalid data: URI)",{},null,new Gr(t))}}function Kj(t){async function e(n,s){try{const a=n.match(LD);if(!a)throw new Error("invalid link");return new Gr(`${t}${a[2]}`)}catch{return new Ur(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Gr(n))}}return e}const bf={data:qj,ipfs:Kj("https://gateway.ipfs.io/ipfs/")},Yj=new WeakMap;var Oi,sr;class zD{constructor(e){z(this,Oi);z(this,sr);S(this,Oi,[]),S(this,sr,!1),Yj.set(e,()=>{if(!v(this,sr)){S(this,sr,!0);for(const n of v(this,Oi))setTimeout(()=>{n()},0);S(this,Oi,[])}})}addListener(e){Q(!v(this,sr),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),v(this,Oi).push(e)}get cancelled(){return v(this,sr)}checkSignal(){Q(!this.cancelled,"cancelled","CANCELLED",{})}}Oi=new WeakMap,sr=new WeakMap;function vf(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var xl,bl,as,sa,vl,wl,ft,dn,aa,Di,Bi,Mi,Ns,rs,ar,ki,iu;const hm=class hm{constructor(e){z(this,ki);z(this,xl);z(this,bl);z(this,as);z(this,sa);z(this,vl);z(this,wl);z(this,ft);z(this,dn);z(this,aa);z(this,Di);z(this,Bi);z(this,Mi);z(this,Ns);z(this,rs);z(this,ar);S(this,wl,String(e)),S(this,xl,!1),S(this,bl,!0),S(this,as,{}),S(this,sa,""),S(this,vl,3e5),S(this,rs,{slotInterval:PD,maxAttempts:kD}),S(this,ar,null)}get url(){return v(this,wl)}set url(e){S(this,wl,String(e))}get body(){return v(this,ft)==null?null:new Uint8Array(v(this,ft))}set body(e){if(e==null)S(this,ft,void 0),S(this,dn,void 0);else if(typeof e=="string")S(this,ft,Ea(e)),S(this,dn,"text/plain");else if(e instanceof Uint8Array)S(this,ft,e),S(this,dn,"application/octet-stream");else if(typeof e=="object")S(this,ft,Ea(JSON.stringify(e))),S(this,dn,"application/json");else throw new Error("invalid body")}hasBody(){return v(this,ft)!=null}get method(){return v(this,sa)?v(this,sa):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),S(this,sa,String(e).toUpperCase())}get headers(){const e=Object.assign({},v(this,as));return v(this,aa)&&(e.authorization=`Basic ${CD(Ea(v(this,aa)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&v(this,dn)&&(e["content-type"]=v(this,dn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){v(this,as)[String(e).toLowerCase()]=String(n)}clearHeaders(){S(this,as,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let s=0;return{next:()=>{if(s<n.length){const a=n[s++];return{value:[a,e[a]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return v(this,aa)||null}setCredentials(e,n){M(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),S(this,aa,`${e}:${n}`)}get allowGzip(){return v(this,bl)}set allowGzip(e){S(this,bl,!!e)}get allowInsecureAuthentication(){return!!v(this,xl)}set allowInsecureAuthentication(e){S(this,xl,!!e)}get timeout(){return v(this,vl)}set timeout(e){M(e>=0,"timeout must be non-zero","timeout",e),S(this,vl,e)}get preflightFunc(){return v(this,Di)||null}set preflightFunc(e){S(this,Di,e)}get processFunc(){return v(this,Bi)||null}set processFunc(e){S(this,Bi,e)}get retryFunc(){return v(this,Mi)||null}set retryFunc(e){S(this,Mi,e)}get getUrlFunc(){return v(this,ar)||F1}set getUrlFunc(e){S(this,ar,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${v(this,ft)?Y(v(this,ft)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(v(this,rs).slotInterval=e.slotInterval),e.maxAttempts!=null&&(v(this,rs).maxAttempts=e.maxAttempts)}send(){return Q(v(this,Ns)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),S(this,Ns,new zD(this)),q(this,ki,iu).call(this,0,_1()+this.timeout,0,this,new Ur(0,"",{},null,this))}cancel(){Q(v(this,Ns)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Yj.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),s=e.split(":")[0].toLowerCase();Q(this.method==="GET"&&(n!=="https"||s!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const a=new hm(e);return a.method="GET",a.allowGzip=this.allowGzip,a.timeout=this.timeout,S(a,as,Object.assign({},v(this,as))),v(this,ft)&&S(a,ft,new Uint8Array(v(this,ft))),S(a,dn,v(this,dn)),a}clone(){const e=new hm(this.url);return S(e,sa,v(this,sa)),v(this,ft)&&S(e,ft,v(this,ft)),S(e,dn,v(this,dn)),S(e,as,Object.assign({},v(this,as))),S(e,aa,v(this,aa)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),S(e,Di,v(this,Di)),S(e,Bi,v(this,Bi)),S(e,Mi,v(this,Mi)),S(e,rs,Object.assign({},v(this,rs))),S(e,ar,v(this,ar)),e}static lockConfig(){og=!0}static getGateway(e){return bf[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(og)throw new Error("gateways locked");bf[e]=n}static registerGetUrl(e){if(og)throw new Error("gateways locked");F1=e}static createGetUrlFunc(e){return Qj(e)}static createDataGateway(){return qj}static createIpfsGatewayFunc(e){return Kj(e)}};xl=new WeakMap,bl=new WeakMap,as=new WeakMap,sa=new WeakMap,vl=new WeakMap,wl=new WeakMap,ft=new WeakMap,dn=new WeakMap,aa=new WeakMap,Di=new WeakMap,Bi=new WeakMap,Mi=new WeakMap,Ns=new WeakMap,rs=new WeakMap,ar=new WeakMap,ki=new WeakSet,iu=async function(e,n,s,a,r){var d,f,h;if(e>=v(this,rs).maxAttempts)return r.makeServerError("exceeded maximum retry limit");Q(_1()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:a}),s>0&&await VD(s);let i=this.clone();const o=(i.url.split(":")[0]||"").toLowerCase();if(o in bf){const m=await bf[o](i.url,vf(v(a,Ns)));if(m instanceof Ur){let p=m;if(this.processFunc){vf(v(a,Ns));try{p=await this.processFunc(i,p)}catch(y){(y.throttle==null||typeof y.stall!="number")&&p.makeServerError("error in post-processing function",y).assertOk()}}return p}i=m}this.preflightFunc&&(i=await this.preflightFunc(i));const c=await this.getUrlFunc(i,vf(v(a,Ns)));let u=new Ur(c.statusCode,c.statusMessage,c.headers,c.body,a);if(u.statusCode===301||u.statusCode===302){try{const m=u.headers.location||"";return q(d=i.redirect(m),ki,iu).call(d,e+1,n,0,a,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(i,u,e))){const m=u.headers["retry-after"];let p=v(this,rs).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof m=="string"&&m.match(/^[1-9][0-9]*$/)&&(p=parseInt(m)),q(f=i.clone(),ki,iu).call(f,e+1,n,p,a,u)}if(this.processFunc){vf(v(a,Ns));try{u=await this.processFunc(i,u)}catch(m){(m.throttle==null||typeof m.stall!="number")&&u.makeServerError("error in post-processing function",m).assertOk();let p=v(this,rs).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return m.stall>=0&&(p=m.stall),q(h=i.clone(),ki,iu).call(h,e+1,n,p,a,u)}}return u};let Gr=hm;var md,pd,gd,fn,Al,Pi;const Jb=class Jb{constructor(e,n,s,a,r){z(this,md);z(this,pd);z(this,gd);z(this,fn);z(this,Al);z(this,Pi);S(this,md,e),S(this,pd,n),S(this,gd,Object.keys(s).reduce((i,o)=>(i[o.toLowerCase()]=String(s[o]),i),{})),S(this,fn,a==null?null:new Uint8Array(a)),S(this,Al,r||null),S(this,Pi,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${v(this,fn)?Y(v(this,fn)):"null"}>`}get statusCode(){return v(this,md)}get statusMessage(){return v(this,pd)}get headers(){return Object.assign({},v(this,gd))}get body(){return v(this,fn)==null?null:new Uint8Array(v(this,fn))}get bodyText(){try{return v(this,fn)==null?"":Fh(v(this,fn))}catch{Q(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Q(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let s=0;return{next:()=>{if(s<n.length){const a=n[s++];return{value:[a,e[a]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let s;e?s=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,s=`CLIENT ESCALATED SERVER ERROR (${e})`);const a=new Jb(599,s,this.headers,this.body,v(this,Al)||void 0);return S(a,Pi,{message:e,error:n}),a}throwThrottleError(e,n){n==null?n=-1:M(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const s=new Error(e||"throttling requests");throw ee(s,{stall:n,throttle:!0}),s}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return v(this,fn)!=null}get request(){return v(this,Al)}ok(){return v(this,Pi).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=v(this,Pi);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let s=null;this.request&&(s=this.request.url);let a=null;try{v(this,fn)&&(a=Fh(v(this,fn)))}catch{}Q(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:s,responseBody:a,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};md=new WeakMap,pd=new WeakMap,gd=new WeakMap,fn=new WeakMap,Al=new WeakMap,Pi=new WeakMap;let Ur=Jb;function _1(){return new Date().getTime()}function HD(t){return Ea(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function VD(t){return new Promise(e=>setTimeout(e,t))}const ID=BigInt(-1),ts=BigInt(0),$o=BigInt(1),FD=BigInt(5),Ro={};let ml="0000";for(;ml.length<80;)ml+=ml;function ri(t){let e=ml;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Yc(t,e,n){const s=BigInt(e.width);if(e.signed){const a=$o<<s-$o;Q(n==null||t>=-a&&t<a,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>ts?t=Ih(Ni(t,s),s):t=-Ih(Ni(-t,s),s)}else{const a=$o<<s;Q(n==null||t>=0&&t<a,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%a+a)%a&a-$o}return t}function lg(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,s=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const r=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);M(r,"invalid fixed format","format",t),e=r[1]!=="u",n=parseInt(r[2]),s=parseInt(r[3])}}else if(t){const r=t,i=(o,c,u)=>r[o]==null?u:(M(typeof r[o]===c,"invalid fixed format ("+o+" not "+c+")","format."+o,r[o]),r[o]);e=i("signed","boolean",e),n=i("width","number",n),s=i("decimals","number",s)}M(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),M(s<=80,"invalid FixedNumber decimals (too large)","format.decimals",s);const a=(e?"":"u")+"fixed"+String(n)+"x"+String(s);return{signed:e,width:n,decimals:s,name:a}}function _D(t,e){let n="";t<ts&&(n="-",t*=ID);let s=t.toString();if(e===0)return n+s;for(;s.length<=e;)s=ml+s;const a=s.length-e;for(s=s.substring(0,a)+"."+s.substring(a);s[0]==="0"&&s[1]!==".";)s=s.substring(1);for(;s[s.length-1]==="0"&&s[s.length-2]!==".";)s=s.substring(0,s.length-1);return n+s}var is,Ce,kt,Ne,fi,Xs,q0,K0,Y0,J0;const Xa=class Xa{constructor(e,n,s){z(this,Ne);P(this,"format");z(this,is);z(this,Ce);z(this,kt);P(this,"_value");Id(e,Ro,"FixedNumber"),S(this,Ce,n),S(this,is,s);const a=_D(n,s.decimals);ee(this,{format:s.name,_value:a}),S(this,kt,ri(s.decimals))}get signed(){return v(this,is).signed}get width(){return v(this,is).width}get decimals(){return v(this,is).decimals}get value(){return v(this,Ce)}addUnsafe(e){return q(this,Ne,q0).call(this,e)}add(e){return q(this,Ne,q0).call(this,e,"add")}subUnsafe(e){return q(this,Ne,K0).call(this,e)}sub(e){return q(this,Ne,K0).call(this,e,"sub")}mulUnsafe(e){return q(this,Ne,Y0).call(this,e)}mul(e){return q(this,Ne,Y0).call(this,e,"mul")}mulSignal(e){q(this,Ne,fi).call(this,e);const n=v(this,Ce)*v(e,Ce);return Q(n%v(this,kt)===ts,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),q(this,Ne,Xs).call(this,n/v(this,kt),"mulSignal")}divUnsafe(e){return q(this,Ne,J0).call(this,e)}div(e){return q(this,Ne,J0).call(this,e,"div")}divSignal(e){Q(v(e,Ce)!==ts,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),q(this,Ne,fi).call(this,e);const n=v(this,Ce)*v(this,kt);return Q(n%v(e,Ce)===ts,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),q(this,Ne,Xs).call(this,n/v(e,Ce),"divSignal")}cmp(e){let n=this.value,s=e.value;const a=this.decimals-e.decimals;return a>0?s*=ri(a):a<0&&(n*=ri(-a)),n<s?-1:n>s?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=v(this,Ce);return v(this,Ce)<ts&&(e-=v(this,kt)-$o),e=v(this,Ce)/v(this,kt)*v(this,kt),q(this,Ne,Xs).call(this,e,"floor")}ceiling(){let e=v(this,Ce);return v(this,Ce)>ts&&(e+=v(this,kt)-$o),e=v(this,Ce)/v(this,kt)*v(this,kt),q(this,Ne,Xs).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,s=FD*ri(n-1);let a=this.value+s;const r=ri(n);return a=a/r*r,Yc(a,v(this,is),"round"),new Xa(Ro,a,v(this,is))}isZero(){return v(this,Ce)===ts}isNegative(){return v(this,Ce)<ts}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Xa.fromString(this.toString(),e)}static fromValue(e,n,s){const a=n==null?0:ce(n),r=lg(s);let i=$(e,"value");const o=a-r.decimals;if(o>0){const c=ri(o);Q(i%c===ts,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),i/=c}else o<0&&(i*=ri(-o));return Yc(i,r,"fromValue"),new Xa(Ro,i,r)}static fromString(e,n){const s=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);M(s&&s[2].length+s[3].length>0,"invalid FixedNumber string value","value",e);const a=lg(n);let r=s[2]||"0",i=s[3]||"";for(;i.length<a.decimals;)i+=ml;Q(i.substring(a.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),i=i.substring(0,a.decimals);const o=BigInt(s[1]+r+i);return Yc(o,a,"fromString"),new Xa(Ro,o,a)}static fromBytes(e,n){let s=Qm(fe(e,"value"));const a=lg(n);return a.signed&&(s=Ih(s,a.width)),Yc(s,a,"fromBytes"),new Xa(Ro,s,a)}};is=new WeakMap,Ce=new WeakMap,kt=new WeakMap,Ne=new WeakSet,fi=function(e){M(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Xs=function(e,n){return e=Yc(e,v(this,is),n),new Xa(Ro,e,v(this,is))},q0=function(e,n){return q(this,Ne,fi).call(this,e),q(this,Ne,Xs).call(this,v(this,Ce)+v(e,Ce),n)},K0=function(e,n){return q(this,Ne,fi).call(this,e),q(this,Ne,Xs).call(this,v(this,Ce)-v(e,Ce),n)},Y0=function(e,n){return q(this,Ne,fi).call(this,e),q(this,Ne,Xs).call(this,v(this,Ce)*v(e,Ce)/v(this,kt),n)},J0=function(e,n){return Q(v(e,Ce)!==ts,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),q(this,Ne,fi).call(this,e),q(this,Ne,Xs).call(this,v(this,Ce)*v(this,kt)/v(e,Ce),n)};let _h=Xa;function GD(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function G1(t,e,n){let s=0;for(let a=0;a<n;a++)s=s*256+t[e+a];return s}function Q1(t,e,n,s){const a=[];for(;n<e+1+s;){const r=Jj(t,n);a.push(r.result),n+=r.consumed,Q(n<=e+1+s,"child data too short","BUFFER_OVERRUN",{buffer:t,length:s,offset:e})}return{consumed:1+s,result:a}}function Jj(t,e){Q(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=s=>{Q(s<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:s})};if(t[e]>=248){const s=t[e]-247;n(e+1+s);const a=G1(t,e+1,s);return n(e+1+s+a),Q1(t,e,e+1+s,s+a)}else if(t[e]>=192){const s=t[e]-192;return n(e+1+s),Q1(t,e,e+1,s)}else if(t[e]>=184){const s=t[e]-183;n(e+1+s);const a=G1(t,e+1,s);n(e+1+s+a);const r=Y(t.slice(e+1+s,e+1+s+a));return{consumed:1+s+a,result:r}}else if(t[e]>=128){const s=t[e]-128;n(e+1+s);const a=Y(t.slice(e+1,e+1+s));return{consumed:1+s,result:a}}return{consumed:1,result:GD(t[e])}}function Fd(t){const e=fe(t,"data"),n=Jj(e,0);return M(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function q1(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Zj(t){if(Array.isArray(t)){let s=[];if(t.forEach(function(r){s=s.concat(Zj(r))}),s.length<=55)return s.unshift(192+s.length),s;const a=q1(s.length);return a.unshift(247+a.length),a.concat(s)}const e=Array.prototype.slice.call(fe(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=q1(e.length);return n.unshift(183+n.length),n.concat(e)}const K1="0123456789abcdef";function Qr(t){let e="0x";for(const n of Zj(t))e+=K1[n>>4],e+=K1[n&15];return e}function QD(t,e){let n=18;return n=ce(e,"unit"),_h.fromValue(t,n,{decimals:n,width:512}).toString()}function qD(t,e){M(typeof t=="string","value must be a string","value",t);let n=18;return n=ce(e,"unit"),_h.fromString(t,{decimals:n,width:512}).value}function KD(t){return QD(t,18)}function YD(t){return qD(t,18)}const It=32,Z0=new Uint8Array(It),JD=["then"],wf={},Xj=new WeakMap;function yi(t){return Xj.get(t)}function Y1(t,e){Xj.set(t,e)}function Jc(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function X0(t,e,n){return t.indexOf(null)>=0?e.map((s,a)=>s instanceof mc?X0(yi(s),s,n):s):t.reduce((s,a,r)=>{let i=e.getValue(a);return a in s||(n&&i instanceof mc&&(i=X0(yi(i),i,n)),s[a]=i),s},{})}var Nl;const sl=class sl extends Array{constructor(...n){const s=n[0];let a=n[1],r=(n[2]||[]).slice(),i=!0;s!==wf&&(a=n,r=[],i=!1);super(a.length);z(this,Nl);a.forEach((u,d)=>{this[d]=u});const o=r.reduce((u,d)=>(typeof d=="string"&&u.set(d,(u.get(d)||0)+1),u),new Map);if(Y1(this,Object.freeze(a.map((u,d)=>{const f=r[d];return f!=null&&o.get(f)===1?f:null}))),S(this,Nl,[]),v(this,Nl)==null&&v(this,Nl),!i)return;Object.freeze(this);const c=new Proxy(this,{get:(u,d,f)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const m=ce(d,"%index");if(m<0||m>=this.length)throw new RangeError("out of result range");const p=u[m];return p instanceof Error&&Jc(`index ${m}`,p),p}if(JD.indexOf(d)>=0)return Reflect.get(u,d,f);const h=u[d];if(h instanceof Function)return function(...m){return h.apply(this===f?u:this,m)};if(!(d in u))return u.getValue.apply(this===f?u:this,[d])}return Reflect.get(u,d,f)}});return Y1(c,yi(this)),c}toArray(n){const s=[];return this.forEach((a,r)=>{a instanceof Error&&Jc(`index ${r}`,a),n&&a instanceof sl&&(a=a.toArray(n)),s.push(a)}),s}toObject(n){const s=yi(this);return s.reduce((a,r,i)=>(Q(r!=null,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),X0(s,this,n)),{})}slice(n,s){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),s==null&&(s=this.length),s<0&&(s+=this.length,s<0&&(s=0)),s>this.length&&(s=this.length);const a=yi(this),r=[],i=[];for(let o=n;o<s;o++)r.push(this[o]),i.push(a[o]);return new sl(wf,r,i)}filter(n,s){const a=yi(this),r=[],i=[];for(let o=0;o<this.length;o++){const c=this[o];c instanceof Error&&Jc(`index ${o}`,c),n.call(s,c,o,this)&&(r.push(c),i.push(a[o]))}return new sl(wf,r,i)}map(n,s){const a=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&Jc(`index ${r}`,i),a.push(n.call(s,i,r,this))}return a}getValue(n){const s=yi(this).indexOf(n);if(s===-1)return;const a=this[s];return a instanceof Error&&Jc(`property ${JSON.stringify(n)}`,a.error),a}static fromItems(n,s){return new sl(wf,n,s)}};Nl=new WeakMap;let mc=sl;function J1(t){let e=ut(t);return Q(e.length<=It,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:It,offset:e.length}),e.length!==It&&(e=Ht(Ye([Z0.slice(e.length%It),e]))),e}class Ha{constructor(e,n,s,a){P(this,"name");P(this,"type");P(this,"localName");P(this,"dynamic");ee(this,{name:e,type:n,localName:s,dynamic:a},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){M(!1,e,this.localName,n)}}var ra,Ui,El,Jf;class $0{constructor(){z(this,El);z(this,ra);z(this,Ui);S(this,ra,[]),S(this,Ui,0)}get data(){return Ye(v(this,ra))}get length(){return v(this,Ui)}appendWriter(e){return q(this,El,Jf).call(this,Ht(e.data))}writeBytes(e){let n=Ht(e);const s=n.length%It;return s&&(n=Ht(Ye([n,Z0.slice(s)]))),q(this,El,Jf).call(this,n)}writeValue(e){return q(this,El,Jf).call(this,J1(e))}writeUpdatableValue(){const e=v(this,ra).length;return v(this,ra).push(Z0),S(this,Ui,v(this,Ui)+It),n=>{v(this,ra)[e]=J1(n)}}}ra=new WeakMap,Ui=new WeakMap,El=new WeakSet,Jf=function(e){return v(this,ra).push(e),S(this,Ui,v(this,Ui)+e.length),e.length};var Kt,hn,Li,zi,rr,go,ey,$j;const Zb=class Zb{constructor(e,n,s){z(this,go);P(this,"allowLoose");z(this,Kt);z(this,hn);z(this,Li);z(this,zi);z(this,rr);ee(this,{allowLoose:!!n}),S(this,Kt,Ht(e)),S(this,Li,0),S(this,zi,null),S(this,rr,s??1024),S(this,hn,0)}get data(){return Y(v(this,Kt))}get dataLength(){return v(this,Kt).length}get consumed(){return v(this,hn)}get bytes(){return new Uint8Array(v(this,Kt))}subReader(e){const n=new Zb(v(this,Kt).slice(v(this,hn)+e),this.allowLoose,v(this,rr));return S(n,zi,this),n}readBytes(e,n){let s=q(this,go,$j).call(this,0,e,!!n);return q(this,go,ey).call(this,e),S(this,hn,v(this,hn)+s.length),s.slice(0,e)}readValue(){return Qm(this.readBytes(It))}readIndex(){return jD(this.readBytes(It))}};Kt=new WeakMap,hn=new WeakMap,Li=new WeakMap,zi=new WeakMap,rr=new WeakMap,go=new WeakSet,ey=function(e){var n;if(v(this,zi))return q(n=v(this,zi),go,ey).call(n,e);S(this,Li,v(this,Li)+e),Q(v(this,rr)<1||v(this,Li)<=v(this,rr)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${v(this,rr)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Ht(v(this,Kt)),offset:v(this,hn),length:e,info:{bytesRead:v(this,Li),dataLength:this.dataLength}})},$j=function(e,n,s){let a=Math.ceil(n/It)*It;return v(this,hn)+a>v(this,Kt).length&&(this.allowLoose&&s&&v(this,hn)+n<=v(this,Kt).length?a=n:Q(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ht(v(this,Kt)),length:v(this,Kt).length,offset:v(this,hn)+a})),v(this,Kt).slice(v(this,hn),v(this,hn)+a)};let W0=Zb;function Gh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function sb(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ZD(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gh(t.outputLen),Gh(t.blockLen)}function pc(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Wj(t,e){sb(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const cg=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eS=t=>t instanceof Uint8Array,XD=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ug=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),vs=(t,e)=>t<<32-e|t>>>e,$D=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$D)throw new Error("Non little-endian hardware is not supported");function WD(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function qm(t){if(typeof t=="string"&&(t=WD(t)),!eS(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function eB(...t){const e=new Uint8Array(t.reduce((s,a)=>s+a.length,0));let n=0;return t.forEach(s=>{if(!eS(s))throw new Error("Uint8Array expected");e.set(s,n),n+=s.length}),e}class ab{clone(){return this._cloneInto()}}function rb(t){const e=s=>t().update(qm(s)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function tB(t=32){if(cg&&typeof cg.getRandomValues=="function")return cg.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class tS extends ab{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,ZD(e);const s=qm(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,r=new Uint8Array(a);r.set(s.length>a?e.create().update(s).digest():s);for(let i=0;i<r.length;i++)r[i]^=54;this.iHash.update(r),this.oHash=e.create();for(let i=0;i<r.length;i++)r[i]^=106;this.oHash.update(r),r.fill(0)}update(e){return pc(this),this.iHash.update(e),this}digestInto(e){pc(this),sb(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:s,finished:a,destroyed:r,blockLen:i,outputLen:o}=this;return e=e,e.finished=a,e.destroyed=r,e.blockLen=i,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=s._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nS=(t,e,n)=>new tS(t,e).update(n).digest();nS.create=(t,e)=>new tS(t,e);function nB(t,e,n,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,s);const a=BigInt(32),r=BigInt(4294967295),i=Number(n>>a&r),o=Number(n&r),c=s?4:0,u=s?0:4;t.setUint32(e+c,i,s),t.setUint32(e+u,o,s)}class sS extends ab{constructor(e,n,s,a){super(),this.blockLen=e,this.outputLen=n,this.padOffset=s,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ug(this.buffer)}update(e){pc(this);const{view:n,buffer:s,blockLen:a}=this;e=qm(e);const r=e.length;for(let i=0;i<r;){const o=Math.min(a-this.pos,r-i);if(o===a){const c=ug(e);for(;a<=r-i;i+=a)this.process(c,i);continue}s.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===a&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pc(this),Wj(e,this),this.finished=!0;const{buffer:n,view:s,blockLen:a,isLE:r}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>a-i&&(this.process(s,0),i=0);for(let f=i;f<a;f++)n[f]=0;nB(s,a-8,BigInt(this.length*8),r),this.process(s,0);const o=ug(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)o.setUint32(4*f,d[f],r)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const s=e.slice(0,n);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:s,length:a,finished:r,destroyed:i,pos:o}=this;return e.length=a,e.pos=o,e.finished=r,e.destroyed=i,a%n&&e.buffer.set(s),e}}const sB=(t,e,n)=>t&e^~t&n,aB=(t,e,n)=>t&e^t&n^e&n,rB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ia=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fa=new Uint32Array(64);class iB extends sS{constructor(){super(64,32,8,!1),this.A=Ia[0]|0,this.B=Ia[1]|0,this.C=Ia[2]|0,this.D=Ia[3]|0,this.E=Ia[4]|0,this.F=Ia[5]|0,this.G=Ia[6]|0,this.H=Ia[7]|0}get(){const{A:e,B:n,C:s,D:a,E:r,F:i,G:o,H:c}=this;return[e,n,s,a,r,i,o,c]}set(e,n,s,a,r,i,o,c){this.A=e|0,this.B=n|0,this.C=s|0,this.D=a|0,this.E=r|0,this.F=i|0,this.G=o|0,this.H=c|0}process(e,n){for(let f=0;f<16;f++,n+=4)Fa[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=Fa[f-15],m=Fa[f-2],p=vs(h,7)^vs(h,18)^h>>>3,y=vs(m,17)^vs(m,19)^m>>>10;Fa[f]=y+Fa[f-7]+p+Fa[f-16]|0}let{A:s,B:a,C:r,D:i,E:o,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const h=vs(o,6)^vs(o,11)^vs(o,25),m=d+h+sB(o,c,u)+rB[f]+Fa[f]|0,y=(vs(s,2)^vs(s,13)^vs(s,22))+aB(s,a,r)|0;d=u,u=c,c=o,o=i+m|0,i=r,r=a,a=s,s=m+y|0}s=s+this.A|0,a=a+this.B|0,r=r+this.C|0,i=i+this.D|0,o=o+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(s,a,r,i,o,c,u,d)}roundClean(){Fa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const aS=rb(()=>new iB),Af=BigInt(2**32-1),ty=BigInt(32);function rS(t,e=!1){return e?{h:Number(t&Af),l:Number(t>>ty&Af)}:{h:Number(t>>ty&Af)|0,l:Number(t&Af)|0}}function iS(t,e=!1){let n=new Uint32Array(t.length),s=new Uint32Array(t.length);for(let a=0;a<t.length;a++){const{h:r,l:i}=rS(t[a],e);[n[a],s[a]]=[r,i]}return[n,s]}const oB=(t,e)=>BigInt(t>>>0)<<ty|BigInt(e>>>0),lB=(t,e,n)=>t>>>n,cB=(t,e,n)=>t<<32-n|e>>>n,uB=(t,e,n)=>t>>>n|e<<32-n,dB=(t,e,n)=>t<<32-n|e>>>n,fB=(t,e,n)=>t<<64-n|e>>>n-32,hB=(t,e,n)=>t>>>n-32|e<<64-n,mB=(t,e)=>e,pB=(t,e)=>t,oS=(t,e,n)=>t<<n|e>>>32-n,lS=(t,e,n)=>e<<n|t>>>32-n,cS=(t,e,n)=>e<<n-32|t>>>64-n,uS=(t,e,n)=>t<<n-32|e>>>64-n;function gB(t,e,n,s){const a=(e>>>0)+(s>>>0);return{h:t+n+(a/2**32|0)|0,l:a|0}}const yB=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),xB=(t,e,n,s)=>e+n+s+(t/2**32|0)|0,bB=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0),vB=(t,e,n,s,a)=>e+n+s+a+(t/2**32|0)|0,wB=(t,e,n,s,a)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(a>>>0),AB=(t,e,n,s,a,r)=>e+n+s+a+r+(t/2**32|0)|0,de={fromBig:rS,split:iS,toBig:oB,shrSH:lB,shrSL:cB,rotrSH:uB,rotrSL:dB,rotrBH:fB,rotrBL:hB,rotr32H:mB,rotr32L:pB,rotlSH:oS,rotlSL:lS,rotlBH:cS,rotlBL:uS,add:gB,add3L:yB,add3H:xB,add4L:bB,add4H:vB,add5H:AB,add5L:wB},[NB,EB]=de.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),_a=new Uint32Array(80),Ga=new Uint32Array(80);class jB extends sS{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:s,Bl:a,Ch:r,Cl:i,Dh:o,Dl:c,Eh:u,El:d,Fh:f,Fl:h,Gh:m,Gl:p,Hh:y,Hl:w}=this;return[e,n,s,a,r,i,o,c,u,d,f,h,m,p,y,w]}set(e,n,s,a,r,i,o,c,u,d,f,h,m,p,y,w){this.Ah=e|0,this.Al=n|0,this.Bh=s|0,this.Bl=a|0,this.Ch=r|0,this.Cl=i|0,this.Dh=o|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=p|0,this.Hh=y|0,this.Hl=w|0}process(e,n){for(let x=0;x<16;x++,n+=4)_a[x]=e.getUint32(n),Ga[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const A=_a[x-15]|0,j=Ga[x-15]|0,k=de.rotrSH(A,j,1)^de.rotrSH(A,j,8)^de.shrSH(A,j,7),D=de.rotrSL(A,j,1)^de.rotrSL(A,j,8)^de.shrSL(A,j,7),E=_a[x-2]|0,T=Ga[x-2]|0,B=de.rotrSH(E,T,19)^de.rotrBH(E,T,61)^de.shrSH(E,T,6),R=de.rotrSL(E,T,19)^de.rotrBL(E,T,61)^de.shrSL(E,T,6),L=de.add4L(D,R,Ga[x-7],Ga[x-16]),U=de.add4H(L,k,B,_a[x-7],_a[x-16]);_a[x]=U|0,Ga[x]=L|0}let{Ah:s,Al:a,Bh:r,Bl:i,Ch:o,Cl:c,Dh:u,Dl:d,Eh:f,El:h,Fh:m,Fl:p,Gh:y,Gl:w,Hh:b,Hl:g}=this;for(let x=0;x<80;x++){const A=de.rotrSH(f,h,14)^de.rotrSH(f,h,18)^de.rotrBH(f,h,41),j=de.rotrSL(f,h,14)^de.rotrSL(f,h,18)^de.rotrBL(f,h,41),k=f&m^~f&y,D=h&p^~h&w,E=de.add5L(g,j,D,EB[x],Ga[x]),T=de.add5H(E,b,A,k,NB[x],_a[x]),B=E|0,R=de.rotrSH(s,a,28)^de.rotrBH(s,a,34)^de.rotrBH(s,a,39),L=de.rotrSL(s,a,28)^de.rotrBL(s,a,34)^de.rotrBL(s,a,39),U=s&r^s&o^r&o,V=a&i^a&c^i&c;b=y|0,g=w|0,y=m|0,w=p|0,m=f|0,p=h|0,{h:f,l:h}=de.add(u|0,d|0,T|0,B|0),u=o|0,d=c|0,o=r|0,c=i|0,r=s|0,i=a|0;const O=de.add3L(B,L,V);s=de.add3H(O,T,R,U),a=O|0}({h:s,l:a}=de.add(this.Ah|0,this.Al|0,s|0,a|0)),{h:r,l:i}=de.add(this.Bh|0,this.Bl|0,r|0,i|0),{h:o,l:c}=de.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:u,l:d}=de.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:h}=de.add(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:p}=de.add(this.Fh|0,this.Fl|0,m|0,p|0),{h:y,l:w}=de.add(this.Gh|0,this.Gl|0,y|0,w|0),{h:b,l:g}=de.add(this.Hh|0,this.Hl|0,b|0,g|0),this.set(s,a,r,i,o,c,u,d,f,h,m,p,y,w,b,g)}roundClean(){_a.fill(0),Ga.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const SB=rb(()=>new jB);function TB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Z1=TB();Z1.crypto||Z1.msCrypto;function CB(t){switch(t){case"sha256":return aS.create();case"sha512":return SB.create()}M(!1,"invalid hashing algorithm name","algorithm",t)}const[dS,fS,hS]=[[],[],[]],RB=BigInt(0),Zc=BigInt(1),OB=BigInt(2),DB=BigInt(7),BB=BigInt(256),MB=BigInt(113);for(let t=0,e=Zc,n=1,s=0;t<24;t++){[n,s]=[s,(2*n+3*s)%5],dS.push(2*(5*s+n)),fS.push((t+1)*(t+2)/2%64);let a=RB;for(let r=0;r<7;r++)e=(e<<Zc^(e>>DB)*MB)%BB,e&OB&&(a^=Zc<<(Zc<<BigInt(r))-Zc);hS.push(a)}const[kB,PB]=iS(hS,!0),X1=(t,e,n)=>n>32?cS(t,e,n):oS(t,e,n),$1=(t,e,n)=>n>32?uS(t,e,n):lS(t,e,n);function UB(t,e=24){const n=new Uint32Array(10);for(let s=24-e;s<24;s++){for(let i=0;i<10;i++)n[i]=t[i]^t[i+10]^t[i+20]^t[i+30]^t[i+40];for(let i=0;i<10;i+=2){const o=(i+8)%10,c=(i+2)%10,u=n[c],d=n[c+1],f=X1(u,d,1)^n[o],h=$1(u,d,1)^n[o+1];for(let m=0;m<50;m+=10)t[i+m]^=f,t[i+m+1]^=h}let a=t[2],r=t[3];for(let i=0;i<24;i++){const o=fS[i],c=X1(a,r,o),u=$1(a,r,o),d=dS[i];a=t[d],r=t[d+1],t[d]=c,t[d+1]=u}for(let i=0;i<50;i+=10){for(let o=0;o<10;o++)n[o]=t[i+o];for(let o=0;o<10;o++)t[i+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=kB[s],t[1]^=PB[s]}n.fill(0)}class ib extends ab{constructor(e,n,s,a=!1,r=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=s,this.enableXOF=a,this.rounds=r,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Gh(s),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=XD(this.state)}keccak(){UB(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){pc(this);const{blockLen:n,state:s}=this;e=qm(e);const a=e.length;for(let r=0;r<a;){const i=Math.min(n-this.pos,a-r);for(let o=0;o<i;o++)s[this.pos++]^=e[r++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:s,blockLen:a}=this;e[s]^=n,n&128&&s===a-1&&this.keccak(),e[a-1]^=128,this.keccak()}writeInto(e){pc(this,!1),sb(e),this.finish();const n=this.state,{blockLen:s}=this;for(let a=0,r=e.length;a<r;){this.posOut>=s&&this.keccak();const i=Math.min(s-this.posOut,r-a);e.set(n.subarray(this.posOut,this.posOut+i),a),this.posOut+=i,a+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Gh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Wj(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:s,outputLen:a,rounds:r,enableXOF:i}=this;return e||(e=new ib(n,s,a,i,r)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=r,e.suffix=s,e.outputLen=a,e.enableXOF=i,e.destroyed=this.destroyed,e}}const LB=(t,e,n)=>rb(()=>new ib(e,t,n)),zB=LB(1,136,256/8);let mS=!1;const pS=function(t){return zB(t)};let gS=pS;function it(t){const e=fe(t,"data");return Y(gS(e))}it._=pS;it.lock=function(){mS=!0};it.register=function(t){if(mS)throw new TypeError("keccak256 is locked");gS=t};Object.freeze(it);const yS=function(t){return CB("sha256").update(t).digest()};let xS=yS,bS=!1;function Pc(t){const e=fe(t,"data");return Y(xS(e))}Pc._=yS;Pc.lock=function(){bS=!0};Pc.register=function(t){if(bS)throw new Error("sha256 is locked");xS=t};Object.freeze(Pc);Object.freeze(Pc);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vS=BigInt(0),Km=BigInt(1),HB=BigInt(2),Ym=t=>t instanceof Uint8Array,VB=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function gc(t){if(!Ym(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=VB[t[n]];return e}function wS(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function ob(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function yc(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let s=0;s<n.length;s++){const a=s*2,r=t.slice(a,a+2),i=Number.parseInt(r,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[s]=i}return n}function to(t){return ob(gc(t))}function lb(t){if(!Ym(t))throw new Error("Uint8Array expected");return ob(gc(Uint8Array.from(t).reverse()))}function xc(t,e){return yc(t.toString(16).padStart(e*2,"0"))}function cb(t,e){return xc(t,e).reverse()}function IB(t){return yc(wS(t))}function ss(t,e,n){let s;if(typeof e=="string")try{s=yc(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else if(Ym(e))s=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const a=s.length;if(typeof n=="number"&&a!==n)throw new Error(`${t} expected ${n} bytes, got ${a}`);return s}function Zu(...t){const e=new Uint8Array(t.reduce((s,a)=>s+a.length,0));let n=0;return t.forEach(s=>{if(!Ym(s))throw new Error("Uint8Array expected");e.set(s,n),n+=s.length}),e}function FB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function _B(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function GB(t){let e;for(e=0;t>vS;t>>=Km,e+=1);return e}function QB(t,e){return t>>BigInt(e)&Km}const qB=(t,e,n)=>t|(n?Km:vS)<<BigInt(e),ub=t=>(HB<<BigInt(t-1))-Km,dg=t=>new Uint8Array(t),W1=t=>Uint8Array.from(t);function AS(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let s=dg(t),a=dg(t),r=0;const i=()=>{s.fill(1),a.fill(0),r=0},o=(...f)=>n(a,s,...f),c=(f=dg())=>{a=o(W1([0]),f),s=o(),f.length!==0&&(a=o(W1([1]),f),s=o())},u=()=>{if(r++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){s=o();const m=s.slice();h.push(m),f+=s.length}return Zu(...h)};return(f,h)=>{i(),c(f);let m;for(;!(m=h(u()));)c();return i(),m}}const KB={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function _d(t,e,n={}){const s=(a,r,i)=>{const o=KB[r];if(typeof o!="function")throw new Error(`Invalid validator "${r}", expected function`);const c=t[a];if(!(i&&c===void 0)&&!o(c,t))throw new Error(`Invalid param ${String(a)}=${c} (${typeof c}), expected ${r}`)};for(const[a,r]of Object.entries(e))s(a,r,!1);for(const[a,r]of Object.entries(n))s(a,r,!0);return t}const YB=Object.freeze(Object.defineProperty({__proto__:null,bitGet:QB,bitLen:GB,bitMask:ub,bitSet:qB,bytesToHex:gc,bytesToNumberBE:to,bytesToNumberLE:lb,concatBytes:Zu,createHmacDrbg:AS,ensureBytes:ss,equalBytes:FB,hexToBytes:yc,hexToNumber:ob,numberToBytesBE:xc,numberToBytesLE:cb,numberToHexUnpadded:wS,numberToVarBytesBE:IB,utf8ToBytes:_B,validateObject:_d},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gt=BigInt(0),Ze=BigInt(1),xi=BigInt(2),JB=BigInt(3),ny=BigInt(4),ew=BigInt(5),tw=BigInt(8);BigInt(9);BigInt(16);function Xt(t,e){const n=t%e;return n>=gt?n:e+n}function ZB(t,e,n){if(n<=gt||e<gt)throw new Error("Expected power/modulo > 0");if(n===Ze)return gt;let s=Ze;for(;e>gt;)e&Ze&&(s=s*t%n),t=t*t%n,e>>=Ze;return s}function Rn(t,e,n){let s=t;for(;e-- >gt;)s*=s,s%=n;return s}function sy(t,e){if(t===gt||e<=gt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Xt(t,e),s=e,a=gt,r=Ze;for(;n!==gt;){const o=s/n,c=s%n,u=a-r*o;s=n,n=c,a=r,r=u}if(s!==Ze)throw new Error("invert: does not exist");return Xt(a,e)}function XB(t){const e=(t-Ze)/xi;let n,s,a;for(n=t-Ze,s=0;n%xi===gt;n/=xi,s++);for(a=xi;a<t&&ZB(a,e,t)!==t-Ze;a++);if(s===1){const i=(t+Ze)/ny;return function(c,u){const d=c.pow(u,i);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const r=(n+Ze)/xi;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=s,d=o.pow(o.mul(o.ONE,a),n),f=o.pow(c,r),h=o.pow(c,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let m=1;for(let y=o.sqr(h);m<u&&!o.eql(y,o.ONE);m++)y=o.sqr(y);const p=o.pow(d,Ze<<BigInt(u-m-1));d=o.sqr(p),f=o.mul(f,p),h=o.mul(h,d),u=m}return f}}function $B(t){if(t%ny===JB){const e=(t+Ze)/ny;return function(s,a){const r=s.pow(a,e);if(!s.eql(s.sqr(r),a))throw new Error("Cannot find square root");return r}}if(t%tw===ew){const e=(t-ew)/tw;return function(s,a){const r=s.mul(a,xi),i=s.pow(r,e),o=s.mul(a,i),c=s.mul(s.mul(o,xi),i),u=s.mul(o,s.sub(c,s.ONE));if(!s.eql(s.sqr(u),a))throw new Error("Cannot find square root");return u}}return XB(t)}const WB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e5(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=WB.reduce((s,a)=>(s[a]="function",s),e);return _d(t,n)}function t5(t,e,n){if(n<gt)throw new Error("Expected power > 0");if(n===gt)return t.ONE;if(n===Ze)return e;let s=t.ONE,a=e;for(;n>gt;)n&Ze&&(s=t.mul(s,a)),a=t.sqr(a),n>>=Ze;return s}function n5(t,e){const n=new Array(e.length),s=e.reduce((r,i,o)=>t.is0(i)?r:(n[o]=r,t.mul(r,i)),t.ONE),a=t.inv(s);return e.reduceRight((r,i,o)=>t.is0(i)?r:(n[o]=t.mul(r,n[o]),t.mul(r,i)),a),n}function NS(t,e){const n=e!==void 0?e:t.toString(2).length,s=Math.ceil(n/8);return{nBitLength:n,nByteLength:s}}function s5(t,e,n=!1,s={}){if(t<=gt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:a,nByteLength:r}=NS(t,e);if(r>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=$B(t),o=Object.freeze({ORDER:t,BITS:a,BYTES:r,MASK:ub(a),ZERO:gt,ONE:Ze,create:c=>Xt(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return gt<=c&&c<t},is0:c=>c===gt,isOdd:c=>(c&Ze)===Ze,neg:c=>Xt(-c,t),eql:(c,u)=>c===u,sqr:c=>Xt(c*c,t),add:(c,u)=>Xt(c+u,t),sub:(c,u)=>Xt(c-u,t),mul:(c,u)=>Xt(c*u,t),pow:(c,u)=>t5(o,c,u),div:(c,u)=>Xt(c*sy(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>sy(c,t),sqrt:s.sqrt||(c=>i(o,c)),invertBatch:c=>n5(o,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>n?cb(c,r):xc(c,r),fromBytes:c=>{if(c.length!==r)throw new Error(`Fp.fromBytes: expected ${r}, got ${c.length}`);return n?lb(c):to(c)}});return Object.freeze(o)}function ES(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function jS(t){const e=ES(t);return e+Math.ceil(e/2)}function a5(t,e,n=!1){const s=t.length,a=ES(e),r=jS(e);if(s<16||s<r||s>1024)throw new Error(`expected ${r}-1024 bytes of input, got ${s}`);const i=n?to(t):lb(t),o=Xt(i,e-Ze)+Ze;return n?cb(o,a):xc(o,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r5=BigInt(0),fg=BigInt(1);function i5(t,e){const n=(a,r)=>{const i=r.negate();return a?i:r},s=a=>{const r=Math.ceil(e/a)+1,i=2**(a-1);return{windows:r,windowSize:i}};return{constTimeNegate:n,unsafeLadder(a,r){let i=t.ZERO,o=a;for(;r>r5;)r&fg&&(i=i.add(o)),o=o.double(),r>>=fg;return i},precomputeWindow(a,r){const{windows:i,windowSize:o}=s(r),c=[];let u=a,d=u;for(let f=0;f<i;f++){d=u,c.push(d);for(let h=1;h<o;h++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(a,r,i){const{windows:o,windowSize:c}=s(a);let u=t.ZERO,d=t.BASE;const f=BigInt(2**a-1),h=2**a,m=BigInt(a);for(let p=0;p<o;p++){const y=p*c;let w=Number(i&f);i>>=m,w>c&&(w-=h,i+=fg);const b=y,g=y+Math.abs(w)-1,x=p%2!==0,A=w<0;w===0?d=d.add(n(x,r[b])):u=u.add(n(A,r[g]))}return{p:u,f:d}},wNAFCached(a,r,i,o){const c=a._WINDOW_SIZE||1;let u=r.get(a);return u||(u=this.precomputeWindow(a,c),c!==1&&r.set(a,o(u))),this.wNAF(c,u,i)}}}function SS(t){return e5(t.Fp),_d(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...NS(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function o5(t){const e=SS(t);_d(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:s,a}=e;if(n){if(!s.eql(a,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:l5,hexToBytes:c5}=YB,Ei={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Ei;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],s=t.subarray(2,n+2);if(!n||s.length!==n)throw new e("Invalid signature integer: wrong length");if(s[0]&128)throw new e("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:l5(s),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Ei,n=typeof t=="string"?c5(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let s=n.length;if(s<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==s-2)throw new e("Invalid signature: incorrect length");const{d:a,l:r}=Ei._parseInt(n.subarray(2)),{d:i,l:o}=Ei._parseInt(r);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:a,s:i}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},s=e(n(t.s)),a=e(n(t.r)),r=s.length/2,i=a.length/2,o=n(r),c=n(i);return`30${n(i+r+4)}02${c}${a}02${o}${s}`}},pa=BigInt(0),Hn=BigInt(1);BigInt(2);const nw=BigInt(3);BigInt(4);function u5(t){const e=o5(t),{Fp:n}=e,s=e.toBytes||((p,y,w)=>{const b=y.toAffine();return Zu(Uint8Array.from([4]),n.toBytes(b.x),n.toBytes(b.y))}),a=e.fromBytes||(p=>{const y=p.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),b=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:b}});function r(p){const{a:y,b:w}=e,b=n.sqr(p),g=n.mul(b,p);return n.add(n.add(g,n.mul(p,y)),w)}if(!n.eql(n.sqr(e.Gy),r(e.Gx)))throw new Error("bad generator point: equation left != right");function i(p){return typeof p=="bigint"&&pa<p&&p<e.n}function o(p){if(!i(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(p){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:b,n:g}=e;if(y&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=gc(p)),typeof p!="string"||!y.includes(p.length))throw new Error("Invalid key");p=p.padStart(w*2,"0")}let x;try{x=typeof p=="bigint"?p:to(ss("private key",p,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof p}`)}return b&&(x=Xt(x,g)),o(x),x}const u=new Map;function d(p){if(!(p instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,w,b){if(this.px=y,this.py=w,this.pz=b,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(b==null||!n.isValid(b))throw new Error("z required")}static fromAffine(y){const{x:w,y:b}=y||{};if(!y||!n.isValid(w)||!n.isValid(b))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const g=x=>n.eql(x,n.ZERO);return g(w)&&g(b)?f.ZERO:new f(w,b,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(b=>b.pz));return y.map((b,g)=>b.toAffine(w[g])).map(f.fromAffine)}static fromHex(y){const w=f.fromAffine(a(ss("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return f.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=this.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const b=n.sqr(w),g=r(y);if(!n.eql(b,g))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){d(y);const{px:w,py:b,pz:g}=this,{px:x,py:A,pz:j}=y,k=n.eql(n.mul(w,j),n.mul(x,g)),D=n.eql(n.mul(b,j),n.mul(A,g));return k&&D}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=e,b=n.mul(w,nw),{px:g,py:x,pz:A}=this;let j=n.ZERO,k=n.ZERO,D=n.ZERO,E=n.mul(g,g),T=n.mul(x,x),B=n.mul(A,A),R=n.mul(g,x);return R=n.add(R,R),D=n.mul(g,A),D=n.add(D,D),j=n.mul(y,D),k=n.mul(b,B),k=n.add(j,k),j=n.sub(T,k),k=n.add(T,k),k=n.mul(j,k),j=n.mul(R,j),D=n.mul(b,D),B=n.mul(y,B),R=n.sub(E,B),R=n.mul(y,R),R=n.add(R,D),D=n.add(E,E),E=n.add(D,E),E=n.add(E,B),E=n.mul(E,R),k=n.add(k,E),B=n.mul(x,A),B=n.add(B,B),E=n.mul(B,R),j=n.sub(j,E),D=n.mul(B,T),D=n.add(D,D),D=n.add(D,D),new f(j,k,D)}add(y){d(y);const{px:w,py:b,pz:g}=this,{px:x,py:A,pz:j}=y;let k=n.ZERO,D=n.ZERO,E=n.ZERO;const T=e.a,B=n.mul(e.b,nw);let R=n.mul(w,x),L=n.mul(b,A),U=n.mul(g,j),V=n.add(w,b),O=n.add(x,A);V=n.mul(V,O),O=n.add(R,L),V=n.sub(V,O),O=n.add(w,g);let C=n.add(x,j);return O=n.mul(O,C),C=n.add(R,U),O=n.sub(O,C),C=n.add(b,g),k=n.add(A,j),C=n.mul(C,k),k=n.add(L,U),C=n.sub(C,k),E=n.mul(T,O),k=n.mul(B,U),E=n.add(k,E),k=n.sub(L,E),E=n.add(L,E),D=n.mul(k,E),L=n.add(R,R),L=n.add(L,R),U=n.mul(T,U),O=n.mul(B,O),L=n.add(L,U),U=n.sub(R,U),U=n.mul(T,U),O=n.add(O,U),R=n.mul(L,O),D=n.add(D,R),R=n.mul(C,O),k=n.mul(V,k),k=n.sub(k,R),R=n.mul(V,L),E=n.mul(C,E),E=n.add(E,R),new f(k,D,E)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return m.wNAFCached(this,u,y,w=>{const b=n.invertBatch(w.map(g=>g.pz));return w.map((g,x)=>g.toAffine(b[x])).map(f.fromAffine)})}multiplyUnsafe(y){const w=f.ZERO;if(y===pa)return w;if(o(y),y===Hn)return this;const{endo:b}=e;if(!b)return m.unsafeLadder(this,y);let{k1neg:g,k1:x,k2neg:A,k2:j}=b.splitScalar(y),k=w,D=w,E=this;for(;x>pa||j>pa;)x&Hn&&(k=k.add(E)),j&Hn&&(D=D.add(E)),E=E.double(),x>>=Hn,j>>=Hn;return g&&(k=k.negate()),A&&(D=D.negate()),D=new f(n.mul(D.px,b.beta),D.py,D.pz),k.add(D)}multiply(y){o(y);let w=y,b,g;const{endo:x}=e;if(x){const{k1neg:A,k1:j,k2neg:k,k2:D}=x.splitScalar(w);let{p:E,f:T}=this.wNAF(j),{p:B,f:R}=this.wNAF(D);E=m.constTimeNegate(A,E),B=m.constTimeNegate(k,B),B=new f(n.mul(B.px,x.beta),B.py,B.pz),b=E.add(B),g=T.add(R)}else{const{p:A,f:j}=this.wNAF(w);b=A,g=j}return f.normalizeZ([b,g])[0]}multiplyAndAddUnsafe(y,w,b){const g=f.BASE,x=(j,k)=>k===pa||k===Hn||!j.equals(g)?j.multiplyUnsafe(k):j.multiply(k),A=x(this,w).add(x(y,b));return A.is0()?void 0:A}toAffine(y){const{px:w,py:b,pz:g}=this,x=this.is0();y==null&&(y=x?n.ONE:n.inv(g));const A=n.mul(w,y),j=n.mul(b,y),k=n.mul(g,y);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(k,n.ONE))throw new Error("invZ was invalid");return{x:A,y:j}}isTorsionFree(){const{h:y,isTorsionFree:w}=e;if(y===Hn)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=e;return y===Hn?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),s(f,this,y)}toHex(y=!0){return gc(this.toRawBytes(y))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,m=i5(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:r,isWithinCurveOrder:i}}function d5(t){const e=SS(t);return _d(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function f5(t){const e=d5(t),{Fp:n,n:s}=e,a=n.BYTES+1,r=2*n.BYTES+1;function i(O){return pa<O&&O<n.ORDER}function o(O){return Xt(O,s)}function c(O){return sy(O,s)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=u5({...e,toBytes(O,C,G){const K=C.toAffine(),J=n.toBytes(K.x),te=Zu;return G?te(Uint8Array.from([C.hasEvenY()?2:3]),J):te(Uint8Array.from([4]),J,n.toBytes(K.y))},fromBytes(O){const C=O.length,G=O[0],K=O.subarray(1);if(C===a&&(G===2||G===3)){const J=to(K);if(!i(J))throw new Error("Point is not on curve");const te=f(J);let I=n.sqrt(te);const Z=(I&Hn)===Hn;return(G&1)===1!==Z&&(I=n.neg(I)),{x:J,y:I}}else if(C===r&&G===4){const J=n.fromBytes(K.subarray(0,n.BYTES)),te=n.fromBytes(K.subarray(n.BYTES,2*n.BYTES));return{x:J,y:te}}else throw new Error(`Point of length ${C} was invalid. Expected ${a} compressed bytes or ${r} uncompressed bytes`)}}),m=O=>gc(xc(O,e.nByteLength));function p(O){const C=s>>Hn;return O>C}function y(O){return p(O)?o(-O):O}const w=(O,C,G)=>to(O.slice(C,G));class b{constructor(C,G,K){this.r=C,this.s=G,this.recovery=K,this.assertValidity()}static fromCompact(C){const G=e.nByteLength;return C=ss("compactSignature",C,G*2),new b(w(C,0,G),w(C,G,2*G))}static fromDER(C){const{r:G,s:K}=Ei.toSig(ss("DER",C));return new b(G,K)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(C){return new b(this.r,this.s,C)}recoverPublicKey(C){const{r:G,s:K,recovery:J}=this,te=D(ss("msgHash",C));if(J==null||![0,1,2,3].includes(J))throw new Error("recovery id invalid");const I=J===2||J===3?G+e.n:G;if(I>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Z=J&1?"03":"02",le=u.fromHex(Z+m(I)),ue=c(I),je=o(-te*ue),Mt=o(K*ue),Cn=u.BASE.multiplyAndAddUnsafe(le,je,Mt);if(!Cn)throw new Error("point at infinify");return Cn.assertValidity(),Cn}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return yc(this.toDERHex())}toDERHex(){return Ei.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return yc(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const g={isValidPrivateKey(O){try{return d(O),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const O=jS(e.n);return a5(e.randomBytes(O),e.n)},precompute(O=8,C=u.BASE){return C._setWindowSize(O),C.multiply(BigInt(3)),C}};function x(O,C=!0){return u.fromPrivateKey(O).toRawBytes(C)}function A(O){const C=O instanceof Uint8Array,G=typeof O=="string",K=(C||G)&&O.length;return C?K===a||K===r:G?K===2*a||K===2*r:O instanceof u}function j(O,C,G=!0){if(A(O))throw new Error("first arg must be private key");if(!A(C))throw new Error("second arg must be public key");return u.fromHex(C).multiply(d(O)).toRawBytes(G)}const k=e.bits2int||function(O){const C=to(O),G=O.length*8-e.nBitLength;return G>0?C>>BigInt(G):C},D=e.bits2int_modN||function(O){return o(k(O))},E=ub(e.nBitLength);function T(O){if(typeof O!="bigint")throw new Error("bigint expected");if(!(pa<=O&&O<E))throw new Error(`bigint expected < 2^${e.nBitLength}`);return xc(O,e.nByteLength)}function B(O,C,G=R){if(["recovered","canonical"].some(Zn=>Zn in G))throw new Error("sign() legacy options not supported");const{hash:K,randomBytes:J}=e;let{lowS:te,prehash:I,extraEntropy:Z}=G;te==null&&(te=!0),O=ss("msgHash",O),I&&(O=ss("prehashed msgHash",K(O)));const le=D(O),ue=d(C),je=[T(ue),T(le)];if(Z!=null){const Zn=Z===!0?J(n.BYTES):Z;je.push(ss("extraEntropy",Zn))}const Mt=Zu(...je),Cn=le;function Jn(Zn){const Xn=k(Zn);if(!h(Xn))return;const bs=c(Xn),si=u.BASE.multiply(Xn).toAffine(),$n=o(si.x);if($n===pa)return;const So=o(bs*o(Cn+$n*ue));if(So===pa)return;let $b=(si.x===$n?0:2)|Number(si.y&Hn),Wb=So;return te&&p(So)&&(Wb=y(So),$b^=1),new b($n,Wb,$b)}return{seed:Mt,k2sig:Jn}}const R={lowS:e.lowS,prehash:!1},L={lowS:e.lowS,prehash:!1};function U(O,C,G=R){const{seed:K,k2sig:J}=B(O,C,G),te=e;return AS(te.hash.outputLen,te.nByteLength,te.hmac)(K,J)}u.BASE._setWindowSize(8);function V(O,C,G,K=L){var si;const J=O;if(C=ss("msgHash",C),G=ss("publicKey",G),"strict"in K)throw new Error("options.strict was renamed to lowS");const{lowS:te,prehash:I}=K;let Z,le;try{if(typeof J=="string"||J instanceof Uint8Array)try{Z=b.fromDER(J)}catch($n){if(!($n instanceof Ei.Err))throw $n;Z=b.fromCompact(J)}else if(typeof J=="object"&&typeof J.r=="bigint"&&typeof J.s=="bigint"){const{r:$n,s:So}=J;Z=new b($n,So)}else throw new Error("PARSE");le=u.fromHex(G)}catch($n){if($n.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(te&&Z.hasHighS())return!1;I&&(C=e.hash(C));const{r:ue,s:je}=Z,Mt=D(C),Cn=c(je),Jn=o(Mt*Cn),Zn=o(ue*Cn),Xn=(si=u.BASE.multiplyAndAddUnsafe(le,Jn,Zn))==null?void 0:si.toAffine();return Xn?o(Xn.x)===ue:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:j,sign:U,verify:V,ProjectivePoint:u,Signature:b,utils:g}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function h5(t){return{hash:t,hmac:(e,...n)=>nS(t,e,eB(...n)),randomBytes:tB}}function m5(t,e){const n=s=>f5({...t,...h5(s)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const TS=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),sw=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),p5=BigInt(1),ay=BigInt(2),aw=(t,e)=>(t+e/ay)/e;function g5(t){const e=TS,n=BigInt(3),s=BigInt(6),a=BigInt(11),r=BigInt(22),i=BigInt(23),o=BigInt(44),c=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=Rn(d,n,e)*d%e,h=Rn(f,n,e)*d%e,m=Rn(h,ay,e)*u%e,p=Rn(m,a,e)*m%e,y=Rn(p,r,e)*p%e,w=Rn(y,o,e)*y%e,b=Rn(w,c,e)*w%e,g=Rn(b,o,e)*y%e,x=Rn(g,n,e)*d%e,A=Rn(x,i,e)*p%e,j=Rn(A,s,e)*u%e,k=Rn(j,ay,e);if(!ry.eql(ry.sqr(k),t))throw new Error("Cannot find square root");return k}const ry=s5(TS,void 0,void 0,{sqrt:g5}),qa=m5({a:BigInt(0),b:BigInt(7),Fp:ry,n:sw,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=sw,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-p5*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),r=n,i=BigInt("0x100000000000000000000000000000000"),o=aw(r*t,e),c=aw(-s*t,e);let u=Xt(t-o*n-c*a,e),d=Xt(-o*s-c*r,e);const f=u>i,h=d>i;if(f&&(u=e-u),h&&(d=e-d),u>i||d>i)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},aS);BigInt(0);qa.ProjectivePoint;const Xu="0x0000000000000000000000000000000000000000",rw="0x0000000000000000000000000000000000000000000000000000000000000000",iw=BigInt(0),ow=BigInt(1),lw=BigInt(2),cw=BigInt(27),uw=BigInt(28),Nf=BigInt(35),Oo={};function dw(t){return Pa(ut(t),32)}var jl,Es,Sl,Hi;const ns=class ns{constructor(e,n,s,a){z(this,jl);z(this,Es);z(this,Sl);z(this,Hi);Id(e,Oo,"Signature"),S(this,jl,n),S(this,Es,s),S(this,Sl,a),S(this,Hi,null)}get r(){return v(this,jl)}set r(e){M(hl(e)===32,"invalid r","value",e),S(this,jl,Y(e))}get s(){return M(parseInt(v(this,Es).substring(0,3))<8,"non-canonical s; use ._s","s",v(this,Es)),v(this,Es)}set s(e){M(hl(e)===32,"invalid s","value",e),S(this,Es,Y(e))}get _s(){return v(this,Es)}isValid(){return parseInt(v(this,Es).substring(0,3))<8}get v(){return v(this,Sl)}set v(e){const n=ce(e,"value");M(n===27||n===28,"invalid v","v",e),S(this,Sl,n)}get networkV(){return v(this,Hi)}get legacyChainId(){const e=this.networkV;return e==null?null:ns.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=fe(this.s);return this.yParity&&(e[0]|=128),Y(e)}get compactSerialized(){return Ye([this.r,this.yParityAndS])}get serialized(){return Ye([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ns(Oo,this.r,this._s,this.v);return this.networkV&&S(e,Hi,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=$(e,"v");return n==cw||n==uw?iw:(M(n>=Nf,"invalid EIP-155 v","v",e),(n-Nf)/lw)}static getChainIdV(e,n){return $(e)*lw+BigInt(35+n-27)}static getNormalizedV(e){const n=$(e);return n===iw||n===cw?27:n===ow||n===uw?28:(M(n>=Nf,"invalid v","v",e),n&ow?27:28)}static from(e){function n(u,d){M(u,d,"signature",e)}if(e==null)return new ns(Oo,rw,rw,27);if(typeof e=="string"){const u=fe(e,"signature");if(u.length===64){const d=Y(u.slice(0,32)),f=u.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new ns(Oo,d,Y(f),h)}if(u.length===65){const d=Y(u.slice(0,32)),f=Y(u.slice(32,64)),h=ns.getNormalizedV(u[64]);return new ns(Oo,d,f,h)}n(!1,"invalid raw signature length")}if(e instanceof ns)return e.clone();const s=e.r;n(s!=null,"missing r");const a=dw(s),r=function(u,d){if(u!=null)return dw(u);if(d!=null){n(ke(d,32),"invalid yParityAndS");const f=fe(d);return f[0]&=127,Y(f)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:i,v:o}=function(u,d,f){if(u!=null){const h=$(u);return{networkV:h>=Nf?h:void 0,v:ns.getNormalizedV(h)}}if(d!=null)return n(ke(d,32),"invalid yParityAndS"),{v:fe(d)[0]&128?28:27};if(f!=null){switch(ce(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new ns(Oo,a,r,o);return i&&S(c,Hi,i),n(e.yParity==null||ce(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};jl=new WeakMap,Es=new WeakMap,Sl=new WeakMap,Hi=new WeakMap;let tn=ns;var ia;const vi=class vi{constructor(e){z(this,ia);M(hl(e)===32,"invalid private key","privateKey","[REDACTED]"),S(this,ia,Y(e))}get privateKey(){return v(this,ia)}get publicKey(){return vi.computePublicKey(v(this,ia))}get compressedPublicKey(){return vi.computePublicKey(v(this,ia),!0)}sign(e){M(hl(e)===32,"invalid digest length","digest",e);const n=qa.sign(Ht(e),Ht(v(this,ia)),{lowS:!0});return tn.from({r:_r(n.r,32),s:_r(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=vi.computePublicKey(e);return Y(qa.getSharedSecret(Ht(v(this,ia)),fe(n),!1))}static computePublicKey(e,n){let s=fe(e,"key");if(s.length===32){const r=qa.getPublicKey(s,!!n);return Y(r)}if(s.length===64){const r=new Uint8Array(65);r[0]=4,r.set(s,1),s=r}const a=qa.ProjectivePoint.fromHex(s);return Y(a.toRawBytes(n))}static recoverPublicKey(e,n){M(hl(e)===32,"invalid digest length","digest",e);const s=tn.from(n);let a=qa.Signature.fromCompact(Ht(Ye([s.r,s.s])));a=a.addRecoveryBit(s.yParity);const r=a.recoverPublicKey(Ht(e));return M(r!=null,"invalid signature for digest","signature",n),"0x"+r.toHex(!1)}static addPoints(e,n,s){const a=qa.ProjectivePoint.fromHex(vi.computePublicKey(e).substring(2)),r=qa.ProjectivePoint.fromHex(vi.computePublicKey(n).substring(2));return"0x"+a.add(r).toHex(!!s)}};ia=new WeakMap;let $u=vi;const y5=BigInt(0),x5=BigInt(36);function fw(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let a=0;a<40;a++)n[a]=e[a].charCodeAt(0);const s=fe(it(n));for(let a=0;a<40;a+=2)s[a>>1]>>4>=8&&(e[a]=e[a].toUpperCase()),(s[a>>1]&15)>=8&&(e[a+1]=e[a+1].toUpperCase());return"0x"+e.join("")}const db={};for(let t=0;t<10;t++)db[String(t)]=String(t);for(let t=0;t<26;t++)db[String.fromCharCode(65+t)]=String(10+t);const hw=15;function b5(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(s=>db[s]).join("");for(;e.length>=hw;){let s=e.substring(0,hw);e=parseInt(s,10)%97+e.substring(s.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const v5=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function w5(t){t=t.toLowerCase();let e=y5;for(let n=0;n<t.length;n++)e=e*x5+v5[t[n]];return e}function Ee(t){if(M(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=fw(t);return M(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){M(t.substring(2,4)===b5(t),"bad icap checksum","address",t);let e=w5(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return fw("0x"+e)}M(!1,"invalid address","address",t)}function A5(t){const e=Ee(t.from);let s=$(t.nonce,"tx.nonce").toString(16);return s==="0"?s="0x":s.length%2?s="0x0"+s:s="0x"+s,Ee(qe(it(Qr([e,s])),12))}function CS(t){return t&&typeof t.getAddress=="function"}async function hg(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Q(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),M(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Ee(n)}function Ft(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Ee(t):(Q(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),hg(t,e.resolveName(t)));if(CS(t))return hg(t,t.getAddress());if(t&&typeof t.then=="function")return hg(t,t);M(!1,"unsupported addressable value","target",t)}const $s={};function X(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Bt($s,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function ve(t,e){return new Bt($s,`bytes${e||""}`,t,{size:e})}const mw=Symbol.for("_ethers_typed");var Vi;const ea=class ea{constructor(e,n,s,a){P(this,"type");P(this,"value");z(this,Vi);P(this,"_typedSymbol");a==null&&(a=null),Id($s,e,"Typed"),ee(this,{_typedSymbol:mw,type:n,value:s}),S(this,Vi,a),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return v(this,Vi)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return v(this,Vi)===!0?-1:v(this,Vi)===!1?this.value.length:null}static from(e,n){return new ea($s,e,n)}static uint8(e){return X(e,8)}static uint16(e){return X(e,16)}static uint24(e){return X(e,24)}static uint32(e){return X(e,32)}static uint40(e){return X(e,40)}static uint48(e){return X(e,48)}static uint56(e){return X(e,56)}static uint64(e){return X(e,64)}static uint72(e){return X(e,72)}static uint80(e){return X(e,80)}static uint88(e){return X(e,88)}static uint96(e){return X(e,96)}static uint104(e){return X(e,104)}static uint112(e){return X(e,112)}static uint120(e){return X(e,120)}static uint128(e){return X(e,128)}static uint136(e){return X(e,136)}static uint144(e){return X(e,144)}static uint152(e){return X(e,152)}static uint160(e){return X(e,160)}static uint168(e){return X(e,168)}static uint176(e){return X(e,176)}static uint184(e){return X(e,184)}static uint192(e){return X(e,192)}static uint200(e){return X(e,200)}static uint208(e){return X(e,208)}static uint216(e){return X(e,216)}static uint224(e){return X(e,224)}static uint232(e){return X(e,232)}static uint240(e){return X(e,240)}static uint248(e){return X(e,248)}static uint256(e){return X(e,256)}static uint(e){return X(e,256)}static int8(e){return X(e,-8)}static int16(e){return X(e,-16)}static int24(e){return X(e,-24)}static int32(e){return X(e,-32)}static int40(e){return X(e,-40)}static int48(e){return X(e,-48)}static int56(e){return X(e,-56)}static int64(e){return X(e,-64)}static int72(e){return X(e,-72)}static int80(e){return X(e,-80)}static int88(e){return X(e,-88)}static int96(e){return X(e,-96)}static int104(e){return X(e,-104)}static int112(e){return X(e,-112)}static int120(e){return X(e,-120)}static int128(e){return X(e,-128)}static int136(e){return X(e,-136)}static int144(e){return X(e,-144)}static int152(e){return X(e,-152)}static int160(e){return X(e,-160)}static int168(e){return X(e,-168)}static int176(e){return X(e,-176)}static int184(e){return X(e,-184)}static int192(e){return X(e,-192)}static int200(e){return X(e,-200)}static int208(e){return X(e,-208)}static int216(e){return X(e,-216)}static int224(e){return X(e,-224)}static int232(e){return X(e,-232)}static int240(e){return X(e,-240)}static int248(e){return X(e,-248)}static int256(e){return X(e,-256)}static int(e){return X(e,-256)}static bytes1(e){return ve(e,1)}static bytes2(e){return ve(e,2)}static bytes3(e){return ve(e,3)}static bytes4(e){return ve(e,4)}static bytes5(e){return ve(e,5)}static bytes6(e){return ve(e,6)}static bytes7(e){return ve(e,7)}static bytes8(e){return ve(e,8)}static bytes9(e){return ve(e,9)}static bytes10(e){return ve(e,10)}static bytes11(e){return ve(e,11)}static bytes12(e){return ve(e,12)}static bytes13(e){return ve(e,13)}static bytes14(e){return ve(e,14)}static bytes15(e){return ve(e,15)}static bytes16(e){return ve(e,16)}static bytes17(e){return ve(e,17)}static bytes18(e){return ve(e,18)}static bytes19(e){return ve(e,19)}static bytes20(e){return ve(e,20)}static bytes21(e){return ve(e,21)}static bytes22(e){return ve(e,22)}static bytes23(e){return ve(e,23)}static bytes24(e){return ve(e,24)}static bytes25(e){return ve(e,25)}static bytes26(e){return ve(e,26)}static bytes27(e){return ve(e,27)}static bytes28(e){return ve(e,28)}static bytes29(e){return ve(e,29)}static bytes30(e){return ve(e,30)}static bytes31(e){return ve(e,31)}static bytes32(e){return ve(e,32)}static address(e){return new ea($s,"address",e)}static bool(e){return new ea($s,"bool",!!e)}static bytes(e){return new ea($s,"bytes",e)}static string(e){return new ea($s,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new ea($s,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===mw}static dereference(e,n){if(ea.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Vi=new WeakMap;let Bt=ea;class N5 extends Ha{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let s=Bt.dereference(n,"string");try{s=Ee(s)}catch(a){return this._throwError(a.message,n)}return e.writeValue(s)}decode(e){return Ee(_r(e.readValue(),20))}}class E5 extends Ha{constructor(n){super(n.name,n.type,"_",n.dynamic);P(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,s){return this.coder.encode(n,s)}decode(n){return this.coder.decode(n)}}function RS(t,e,n){let s=[];if(Array.isArray(n))s=n;else if(n&&typeof n=="object"){let c={};s=e.map(u=>{const d=u.localName;return Q(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),Q(!c[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),c[d]=!0,n[d]})}else M(!1,"invalid tuple value","tuple",n);M(e.length===s.length,"types/value length mismatch","tuple",n);let a=new $0,r=new $0,i=[];e.forEach((c,u)=>{let d=s[u];if(c.dynamic){let f=r.length;c.encode(r,d);let h=a.writeUpdatableValue();i.push(m=>{h(m+f)})}else c.encode(a,d)}),i.forEach(c=>{c(a.length)});let o=t.appendWriter(a);return o+=t.appendWriter(r),o}function OS(t,e){let n=[],s=[],a=t.subReader(0);return e.forEach(r=>{let i=null;if(r.dynamic){let o=t.readIndex(),c=a.subReader(o);try{i=r.decode(c)}catch(u){if(Nt(u,"BUFFER_OVERRUN"))throw u;i=u,i.baseType=r.name,i.name=r.localName,i.type=r.type}}else try{i=r.decode(t)}catch(o){if(Nt(o,"BUFFER_OVERRUN"))throw o;i=o,i.baseType=r.name,i.name=r.localName,i.type=r.type}if(i==null)throw new Error("investigate");n.push(i),s.push(r.localName||null)}),mc.fromItems(n,s)}class j5 extends Ha{constructor(n,s,a){const r=n.type+"["+(s>=0?s:"")+"]",i=s===-1||n.dynamic;super("array",r,a,i);P(this,"coder");P(this,"length");ee(this,{coder:n,length:s})}defaultValue(){const n=this.coder.defaultValue(),s=[];for(let a=0;a<this.length;a++)s.push(n);return s}encode(n,s){const a=Bt.dereference(s,"array");Array.isArray(a)||this._throwError("expected array value",a);let r=this.length;r===-1&&(r=a.length,n.writeValue(a.length)),Hj(a.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<a.length;o++)i.push(this.coder);return RS(n,i,a)}decode(n){let s=this.length;s===-1&&(s=n.readIndex(),Q(s*It<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:s*It,length:n.dataLength}));let a=[];for(let r=0;r<s;r++)a.push(new E5(this.coder));return OS(n,a)}}class S5 extends Ha{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const s=Bt.dereference(n,"bool");return e.writeValue(s?1:0)}decode(e){return!!e.readValue()}}class DS extends Ha{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Ht(n);let s=e.writeValue(n.length);return s+=e.writeBytes(n),s}decode(e){return e.readBytes(e.readIndex(),!0)}}class T5 extends DS{constructor(e){super("bytes",e)}decode(e){return Y(super.decode(e))}}class C5 extends Ha{constructor(n,s){let a="bytes"+String(n);super(a,a,s,!1);P(this,"size");ee(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,s){let a=Ht(Bt.dereference(s,this.type));return a.length!==this.size&&this._throwError("incorrect data length",s),n.writeBytes(a)}decode(n){return Y(n.readBytes(this.size))}}const R5=new Uint8Array([]);class O5 extends Ha{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(R5)}decode(e){return e.readBytes(0),null}}const D5=BigInt(0),B5=BigInt(1),M5=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class k5 extends Ha{constructor(n,s,a){const r=(s?"int":"uint")+n*8;super(r,r,a,!1);P(this,"size");P(this,"signed");ee(this,{size:n,signed:s},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,s){let a=$(Bt.dereference(s,this.type)),r=Ni(M5,It*8);if(this.signed){let i=Ni(r,this.size*8-1);(a>i||a<-(i+B5))&&this._throwError("value out-of-bounds",s),a=Fj(a,8*It)}else(a<D5||a>Ni(r,this.size*8))&&this._throwError("value out-of-bounds",s);return n.writeValue(a)}decode(n){let s=Ni(n.readValue(),this.size*8);return this.signed&&(s=Ih(s,this.size*8)),s}}class P5 extends DS{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Ea(Bt.dereference(n,"string")))}decode(e){return Fh(super.decode(e))}}class Ef extends Ha{constructor(n,s){let a=!1;const r=[];n.forEach(o=>{o.dynamic&&(a=!0),r.push(o.type)});const i="tuple("+r.join(",")+")";super("tuple",i,s,a);P(this,"coders");ee(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(a=>{n.push(a.defaultValue())});const s=this.coders.reduce((a,r)=>{const i=r.localName;return i&&(a[i]||(a[i]=0),a[i]++),a},{});return this.coders.forEach((a,r)=>{let i=a.localName;!i||s[i]!==1||(i==="length"&&(i="_length"),n[i]==null&&(n[i]=n[r]))}),Object.freeze(n)}encode(n,s){const a=Bt.dereference(s,"tuple");return RS(n,this.coders,a)}decode(n){return OS(n,this.coders)}}function mg(t,e){return{address:Ee(t),storageKeys:e.map((n,s)=>(M(ke(n,32),"invalid slot",`storageKeys[${s}]`,n),n.toLowerCase()))}}function Ao(t){if(Array.isArray(t))return t.map((n,s)=>Array.isArray(n)?(M(n.length===2,"invalid slot set",`value[${s}]`,n),mg(n[0],n[1])):(M(n!=null&&typeof n=="object","invalid address-slot set","value",t),mg(n.address,n.storageKeys)));M(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const s=t[n].reduce((a,r)=>(a[r]=!0,a),{});return mg(n,Object.keys(s).sort())});return e.sort((n,s)=>n.address.localeCompare(s.address)),e}function BS(t){return{address:Ee(t.address),nonce:$(t.nonce!=null?t.nonce:0),chainId:$(t.chainId!=null?t.chainId:0),signature:tn.from(t.signature)}}function U5(t){let e;return typeof t=="string"?e=$u.computePublicKey(t,!1):e=t.publicKey,Ee(it("0x"+e.substring(4)).substring(26))}function L5(t,e){return U5($u.recoverPublicKey(t,e))}const mt=BigInt(0),z5=BigInt(2),H5=BigInt(27),V5=BigInt(28),I5=BigInt(35),F5=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),pg=4096*32;function _5(t){return{blobToKzgCommitment:s=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return fe(t.blobToKzgCommitment(Y(s)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return fe(t.blobToKzgCommitment(s));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return fe(t.blobToKZGCommitment(Y(s)));M(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(s,a)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return fe(t.computeBlobProof(Y(s),Y(a)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(s,a);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return fe(t.computeBlobKZGProof(Y(s),Y(a)));M(!1,"unsupported KZG library","kzg",t)}}}function pw(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Pc(e).substring(4),"0x"+n}function Uc(t){return t==="0x"?null:Ee(t)}function Jm(t,e){try{return Ao(t)}catch(n){M(!1,n.message,e,t)}}function G5(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let s=0;s<t.length;s++){const a=t[s];if(!Array.isArray(a))throw new Error(`authorization[${s}]: invalid array`);if(a.length!==6)throw new Error(`authorization[${s}]: wrong length`);if(!a[1])throw new Error(`authorization[${s}]: null address`);n.push({address:Uc(a[1]),nonce:De(a[2],"nonce"),chainId:De(a[0],"chainId"),signature:tn.from({yParity:No(a[3],"yParity"),r:Pa(a[4],32),s:Pa(a[5],32)})})}return n}catch(n){M(!1,n.message,e,t)}}function No(t,e){return t==="0x"?0:ce(t,e)}function De(t,e){if(t==="0x")return mt;const n=$(t,e);return M(n<=F5,"value exceeds uint size",e,n),n}function xe(t,e){const n=$(t,"value"),s=ut(n);return M(s.length<=32,"value too large",`tx.${e}`,n),s}function Zm(t){return Ao(t).map(e=>[e.address,e.storageKeys])}function Q5(t){return t.map(e=>[xe(e.chainId,"chainId"),e.address,xe(e.nonce,"nonce"),xe(e.signature.yParity,"yParity"),ut(e.signature.r),ut(e.signature.s)])}function q5(t,e){M(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)M(ke(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function K5(t){const e=Fd(t);M(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:No(e[0],"nonce"),gasPrice:De(e[1],"gasPrice"),gasLimit:De(e[2],"gasLimit"),to:Uc(e[3]),value:De(e[4],"value"),data:Y(e[5]),chainId:mt};if(e.length===6)return n;const s=De(e[6],"v"),a=De(e[7],"r"),r=De(e[8],"s");if(a===mt&&r===mt)n.chainId=s;else{let i=(s-I5)/z5;i<mt&&(i=mt),n.chainId=i,M(i!==mt||s===H5||s===V5,"non-canonical legacy v","v",e[6]),n.signature=tn.from({r:Pa(e[7],32),s:Pa(e[8],32),v:s})}return n}function Y5(t,e){const n=[xe(t.nonce,"nonce"),xe(t.gasPrice||0,"gasPrice"),xe(t.gasLimit,"gasLimit"),t.to||"0x",xe(t.value,"value"),t.data];let s=mt;if(t.chainId!=mt)s=$(t.chainId,"tx.chainId"),M(!e||e.networkV==null||e.legacyChainId===s,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const r=t.signature.legacyChainId;r!=null&&(s=r)}if(!e)return s!==mt&&(n.push(ut(s)),n.push("0x"),n.push("0x")),Qr(n);let a=BigInt(27+e.yParity);return s!==mt?a=tn.getChainIdV(s,e.v):BigInt(e.v)!==a&&M(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(ut(a)),n.push(ut(e.r)),n.push(ut(e.s)),Qr(n)}function Xm(t,e){let n;try{if(n=No(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{M(!1,"invalid yParity","yParity",e[0])}const s=Pa(e[1],32),a=Pa(e[2],32),r=tn.from({r:s,s:a,yParity:n});t.signature=r}function J5(t){const e=Fd(fe(t).slice(1));M(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Y(t));const n={type:2,chainId:De(e[0],"chainId"),nonce:No(e[1],"nonce"),maxPriorityFeePerGas:De(e[2],"maxPriorityFeePerGas"),maxFeePerGas:De(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:De(e[4],"gasLimit"),to:Uc(e[5]),value:De(e[6],"value"),data:Y(e[7]),accessList:Jm(e[8],"accessList")};return e.length===9||Xm(n,e.slice(9)),n}function Z5(t,e){const n=[xe(t.chainId,"chainId"),xe(t.nonce,"nonce"),xe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),xe(t.maxFeePerGas||0,"maxFeePerGas"),xe(t.gasLimit,"gasLimit"),t.to||"0x",xe(t.value,"value"),t.data,Zm(t.accessList||[])];return e&&(n.push(xe(e.yParity,"yParity")),n.push(ut(e.r)),n.push(ut(e.s))),Ye(["0x02",Qr(n)])}function X5(t){const e=Fd(fe(t).slice(1));M(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Y(t));const n={type:1,chainId:De(e[0],"chainId"),nonce:No(e[1],"nonce"),gasPrice:De(e[2],"gasPrice"),gasLimit:De(e[3],"gasLimit"),to:Uc(e[4]),value:De(e[5],"value"),data:Y(e[6]),accessList:Jm(e[7],"accessList")};return e.length===8||Xm(n,e.slice(8)),n}function $5(t,e){const n=[xe(t.chainId,"chainId"),xe(t.nonce,"nonce"),xe(t.gasPrice||0,"gasPrice"),xe(t.gasLimit,"gasLimit"),t.to||"0x",xe(t.value,"value"),t.data,Zm(t.accessList||[])];return e&&(n.push(xe(e.yParity,"recoveryParam")),n.push(ut(e.r)),n.push(ut(e.s))),Ye(["0x01",Qr(n)])}function W5(t){let e=Fd(fe(t).slice(1)),n="3",s=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const r=e[1],i=e[2],o=e[3];M(Array.isArray(r),"invalid network format: blobs not an array","fields[1]",r),M(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),M(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),M(r.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",e),M(r.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",e),s=[];for(let c=0;c<e[1].length;c++)s.push({data:r[c],commitment:i[c],proof:o[c]});e=e[0]}M(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",Y(t));const a={type:3,chainId:De(e[0],"chainId"),nonce:No(e[1],"nonce"),maxPriorityFeePerGas:De(e[2],"maxPriorityFeePerGas"),maxFeePerGas:De(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:De(e[4],"gasLimit"),to:Uc(e[5]),value:De(e[6],"value"),data:Y(e[7]),accessList:Jm(e[8],"accessList"),maxFeePerBlobGas:De(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};s&&(a.blobs=s),M(a.to!=null,`invalid address for transaction type: ${n}`,"data",t),M(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let r=0;r<a.blobVersionedHashes.length;r++)M(ke(a.blobVersionedHashes[r],32),`invalid blobVersionedHash at index ${r}: must be length 32`,"data",t);return e.length===11||Xm(a,e.slice(11)),a}function eM(t,e,n){const s=[xe(t.chainId,"chainId"),xe(t.nonce,"nonce"),xe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),xe(t.maxFeePerGas||0,"maxFeePerGas"),xe(t.gasLimit,"gasLimit"),t.to||Xu,xe(t.value,"value"),t.data,Zm(t.accessList||[]),xe(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),q5(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(s.push(xe(e.yParity,"yParity")),s.push(ut(e.r)),s.push(ut(e.s)),n)?Ye(["0x03",Qr([s,n.map(a=>a.data),n.map(a=>a.commitment),n.map(a=>a.proof)])]):Ye(["0x03",Qr(s)])}function tM(t){const e=Fd(fe(t).slice(1));M(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Y(t));const n={type:4,chainId:De(e[0],"chainId"),nonce:No(e[1],"nonce"),maxPriorityFeePerGas:De(e[2],"maxPriorityFeePerGas"),maxFeePerGas:De(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:De(e[4],"gasLimit"),to:Uc(e[5]),value:De(e[6],"value"),data:Y(e[7]),accessList:Jm(e[8],"accessList"),authorizationList:G5(e[9],"authorizationList")};return e.length===10||Xm(n,e.slice(10)),n}function nM(t,e){const n=[xe(t.chainId,"chainId"),xe(t.nonce,"nonce"),xe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),xe(t.maxFeePerGas||0,"maxFeePerGas"),xe(t.gasLimit,"gasLimit"),t.to||"0x",xe(t.value,"value"),t.data,Zm(t.accessList||[]),Q5(t.authorizationList||[])];return e&&(n.push(xe(e.yParity,"yParity")),n.push(ut(e.r)),n.push(ut(e.s))),Ye(["0x04",Qr(n)])}var os,Tl,Cl,Rl,Ol,Dl,Bl,Ml,kl,Pl,Ul,Ll,Ii,ir,js,or,zl,Hl,Zf;const As=class As{constructor(){z(this,Hl);z(this,os);z(this,Tl);z(this,Cl);z(this,Rl);z(this,Ol);z(this,Dl);z(this,Bl);z(this,Ml);z(this,kl);z(this,Pl);z(this,Ul);z(this,Ll);z(this,Ii);z(this,ir);z(this,js);z(this,or);z(this,zl);S(this,os,null),S(this,Tl,null),S(this,Rl,0),S(this,Ol,mt),S(this,Dl,null),S(this,Bl,null),S(this,Ml,null),S(this,Cl,"0x"),S(this,kl,mt),S(this,Pl,mt),S(this,Ul,null),S(this,Ll,null),S(this,Ii,null),S(this,ir,null),S(this,js,null),S(this,or,null),S(this,zl,null)}get type(){return v(this,os)}set type(e){switch(e){case null:S(this,os,null);break;case 0:case"legacy":S(this,os,0);break;case 1:case"berlin":case"eip-2930":S(this,os,1);break;case 2:case"london":case"eip-1559":S(this,os,2);break;case 3:case"cancun":case"eip-4844":S(this,os,3);break;case 4:case"pectra":case"eip-7702":S(this,os,4);break;default:M(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=v(this,Tl);return e==null&&this.type===3?Xu:e}set to(e){S(this,Tl,e==null?null:Ee(e))}get nonce(){return v(this,Rl)}set nonce(e){S(this,Rl,ce(e,"value"))}get gasLimit(){return v(this,Ol)}set gasLimit(e){S(this,Ol,$(e))}get gasPrice(){const e=v(this,Dl);return e==null&&(this.type===0||this.type===1)?mt:e}set gasPrice(e){S(this,Dl,e==null?null:$(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=v(this,Bl);return e??(this.type===2||this.type===3?mt:null)}set maxPriorityFeePerGas(e){S(this,Bl,e==null?null:$(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=v(this,Ml);return e??(this.type===2||this.type===3?mt:null)}set maxFeePerGas(e){S(this,Ml,e==null?null:$(e,"maxFeePerGas"))}get data(){return v(this,Cl)}set data(e){S(this,Cl,Y(e))}get value(){return v(this,kl)}set value(e){S(this,kl,$(e,"value"))}get chainId(){return v(this,Pl)}set chainId(e){S(this,Pl,$(e))}get signature(){return v(this,Ul)||null}set signature(e){S(this,Ul,e==null?null:tn.from(e))}get accessList(){const e=v(this,Ll)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){S(this,Ll,e==null?null:Ao(e))}get authorizationList(){const e=v(this,zl)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){S(this,zl,e==null?null:e.map(n=>BS(n)))}get maxFeePerBlobGas(){const e=v(this,Ii);return e==null&&this.type===3?mt:e}set maxFeePerBlobGas(e){S(this,Ii,e==null?null:$(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=v(this,ir);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){M(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)M(ke(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}S(this,ir,e)}get blobs(){return v(this,or)==null?null:v(this,or).map(e=>Object.assign({},e))}set blobs(e){if(e==null){S(this,or,null);return}const n=[],s=[];for(let a=0;a<e.length;a++){const r=e[a];if(nb(r)){Q(v(this,js),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let i=fe(r);if(M(i.length<=pg,"blob is too large",`blobs[${a}]`,r),i.length!==pg){const u=new Uint8Array(pg);u.set(i),i=u}const o=v(this,js).blobToKzgCommitment(i),c=Y(v(this,js).computeBlobKzgProof(i,o));n.push({data:Y(i),commitment:Y(o),proof:c}),s.push(pw(1,o))}else{const i=Y(r.commitment);n.push({data:Y(r.data),commitment:i,proof:Y(r.proof)}),s.push(pw(1,i))}}S(this,or,n),S(this,ir,s)}get kzg(){return v(this,js)}set kzg(e){e==null?S(this,js,null):S(this,js,_5(e))}get hash(){return this.signature==null?null:it(q(this,Hl,Zf).call(this,!0,!1))}get unsignedHash(){return it(this.unsignedSerialized)}get from(){return this.signature==null?null:L5(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:$u.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return q(this,Hl,Zf).call(this,!0,!0)}get unsignedSerialized(){return q(this,Hl,Zf).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,s=this.accessList!=null,a=v(this,Ii)!=null||v(this,ir);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Q(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Q(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Q(this.type!==0||!s,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return this.type!=null?r.push(this.type):this.authorizationList&&this.authorizationList.length?r.push(4):n?r.push(2):e?(r.push(1),s||r.push(0)):s?(r.push(1),r.push(2)):(a&&this.to||(r.push(0),r.push(1),r.push(2)),r.push(3)),r.sort(),r}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return As.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new As;if(typeof e=="string"){const s=fe(e);if(s[0]>=127)return As.from(K5(s));switch(s[0]){case 1:return As.from(X5(s));case 2:return As.from(J5(s));case 3:return As.from(W5(s));case 4:return As.from(tM(s))}Q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new As;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=tn.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(M(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),M(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(M(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),M(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};os=new WeakMap,Tl=new WeakMap,Cl=new WeakMap,Rl=new WeakMap,Ol=new WeakMap,Dl=new WeakMap,Bl=new WeakMap,Ml=new WeakMap,kl=new WeakMap,Pl=new WeakMap,Ul=new WeakMap,Ll=new WeakMap,Ii=new WeakMap,ir=new WeakMap,js=new WeakMap,or=new WeakMap,zl=new WeakMap,Hl=new WeakSet,Zf=function(e,n){Q(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const s=e?this.signature:null;switch(this.inferType()){case 0:return Y5(this,s);case 1:return $5(this,s);case 2:return Z5(this,s);case 3:return eM(this,s,n?this.blobs:null);case 4:return nM(this,s)}Q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Qh=As;function uo(t){return it(Ea(t))}var sM="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const gw=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),yw=4;function aM(t){let e=0;function n(){return t[e++]<<8|t[e++]}let s=n(),a=1,r=[0,1];for(let j=1;j<s;j++)r.push(a+=n());let i=n(),o=e;e+=i;let c=0,u=0;function d(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const f=31,h=2**f,m=h>>>1,p=m>>1,y=h-1;let w=0;for(let j=0;j<f;j++)w=w<<1|d();let b=[],g=0,x=h;for(;;){let j=Math.floor(((w-g+1)*a-1)/x),k=0,D=s;for(;D-k>1;){let B=k+D>>>1;j<r[B]?D=B:k=B}if(k==0)break;b.push(k);let E=g+Math.floor(x*r[k]/a),T=g+Math.floor(x*r[k+1]/a)-1;for(;!((E^T)&m);)w=w<<1&y|d(),E=E<<1&y,T=T<<1&y|1;for(;E&~T&p;)w=w&m|w<<1&y>>>1|d(),E=E<<1^m,T=(T^m)<<1|m|1;g=E,x=1+T-E}let A=s-4;return b.map(j=>{switch(j-A){case 3:return A+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return A+256+(t[o++]<<8|t[o++]);case 1:return A+t[o++];default:return j-1}})}function rM(t){let e=0;return()=>t[e++]}function MS(t){return rM(aM(iM(t)))}function iM(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((a,r)=>e[a.charCodeAt(0)]=r);let n=t.length,s=new Uint8Array(6*n>>3);for(let a=0,r=0,i=0,o=0;a<n;a++)o=o<<6|e[t.charCodeAt(a)],i+=6,i>=8&&(s[r++]=o>>(i-=8));return s}function oM(t){return t&1?~t>>1:t>>1}function lM(t,e){let n=Array(t);for(let s=0,a=0;s<t;s++)n[s]=a+=oM(e());return n}function Wu(t,e=0){let n=[];for(;;){let s=t(),a=t();if(!a)break;e+=s;for(let r=0;r<a;r++)n.push(e+r);e+=a+1}return n}function kS(t){return ed(()=>{let e=Wu(t);if(e.length)return e})}function PS(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(cM(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(uM(n,t))}return e.flat()}function ed(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function US(t,e,n){let s=Array(t).fill().map(()=>[]);for(let a=0;a<e;a++)lM(t,n).forEach((r,i)=>s[i].push(r));return s}function cM(t,e){let n=1+e(),s=e(),a=ed(e);return US(a.length,1+t,e).flatMap((i,o)=>{let[c,...u]=i;return Array(a[o]).fill().map((d,f)=>{let h=f*s;return[c+f*n,u.map(m=>m+h)]})})}function uM(t,e){let n=1+e();return US(n,1+t,e).map(a=>[a[0],a.slice(1)])}function dM(t){let e=[],n=Wu(t);return a(s([]),[]),e;function s(r){let i=t(),o=ed(()=>{let c=Wu(t).map(u=>n[u]);if(c.length)return s(c)});return{S:i,B:o,Q:r}}function a({S:r,B:i},o,c){if(!(r&4&&c===o[o.length-1])){r&2&&(c=o[o.length-1]),r&1&&e.push(o);for(let u of i)for(let d of u.Q)a(u,[...o,d],c)}}}function fM(t){return t.toString(16).toUpperCase().padStart(2,"0")}function LS(t){return`{${fM(t)}}`}function hM(t){let e=[];for(let n=0,s=t.length;n<s;){let a=t.codePointAt(n);n+=a<65536?1:2,e.push(a)}return e}function bc(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let s=[];for(let a=0;a<n;)s.push(String.fromCodePoint(...t.slice(a,a+=4096)));return s.join("")}function mM(t,e){let n=t.length,s=n-e.length;for(let a=0;s==0&&a<n;a++)s=t[a]-e[a];return s}var pM="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const td=44032,qh=4352,Kh=4449,Yh=4519,zS=19,HS=21,vc=28,Jh=HS*vc,gM=zS*Jh,yM=td+gM,xM=qh+zS,bM=Kh+HS,vM=Yh+vc;function ou(t){return t>>24&255}function VS(t){return t&16777215}let iy,xw,oy,Xf;function wM(){let t=MS(pM);iy=new Map(kS(t).flatMap((e,n)=>e.map(s=>[s,n+1<<24]))),xw=new Set(Wu(t)),oy=new Map,Xf=new Map;for(let[e,n]of PS(t)){if(!xw.has(e)&&n.length==2){let[s,a]=n,r=Xf.get(s);r||(r=new Map,Xf.set(s,r)),r.set(a,e)}oy.set(e,n.reverse())}}function IS(t){return t>=td&&t<yM}function AM(t,e){if(t>=qh&&t<xM&&e>=Kh&&e<bM)return td+(t-qh)*Jh+(e-Kh)*vc;if(IS(t)&&e>Yh&&e<vM&&(t-td)%vc==0)return t+(e-Yh);{let n=Xf.get(t);return n&&(n=n.get(e),n)?n:-1}}function FS(t){iy||wM();let e=[],n=[],s=!1;function a(r){let i=iy.get(r);i&&(s=!0,r|=i),e.push(r)}for(let r of t)for(;;){if(r<128)e.push(r);else if(IS(r)){let i=r-td,o=i/Jh|0,c=i%Jh/vc|0,u=i%vc;a(qh+o),a(Kh+c),u>0&&a(Yh+u)}else{let i=oy.get(r);i?n.push(...i):a(r)}if(!n.length)break;r=n.pop()}if(s&&e.length>1){let r=ou(e[0]);for(let i=1;i<e.length;i++){let o=ou(e[i]);if(o==0||r<=o){r=o;continue}let c=i-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(r=ou(e[--c]),r<=o))break}r=ou(e[i])}}return e}function NM(t){let e=[],n=[],s=-1,a=0;for(let r of t){let i=ou(r),o=VS(r);if(s==-1)i==0?s=o:e.push(o);else if(a>0&&a>=i)i==0?(e.push(s,...n),n.length=0,s=o):n.push(o),a=i;else{let c=AM(s,o);c>=0?s=c:a==0&&i==0?(e.push(s),s=o):(n.push(o),a=i)}}return s>=0&&e.push(s,...n),e}function _S(t){return FS(t).map(VS)}function EM(t){return NM(FS(t))}const bw=45,GS=".",QS=65039,qS=1,Zh=t=>Array.from(t);function nd(t,e){return t.P.has(e)||t.Q.has(e)}class jM extends Array{get is_emoji(){return!0}}let ly,KS,ji,cy,YS,pl,gg,Po,hi,vw,uy;function fb(){if(ly)return;let t=MS(sM);const e=()=>Wu(t),n=()=>new Set(e()),s=(d,f)=>f.forEach(h=>d.add(h));ly=new Map(PS(t)),KS=n(),ji=e(),cy=new Set(e().map(d=>ji[d])),ji=new Set(ji),YS=n(),n();let a=kS(t),r=t();const i=()=>{let d=new Set;return e().forEach(f=>s(d,a[f])),s(d,e()),d};pl=ed(d=>{let f=ed(t).map(h=>h+96);if(f.length){let h=d>=r;f[0]-=32,f=bc(f),h&&(f=`Restricted[${f}]`);let m=i(),p=i(),y=!t();return{N:f,P:m,Q:p,M:y,R:h}}}),gg=n(),Po=new Map;let o=e().concat(Zh(gg)).sort((d,f)=>d-f);o.forEach((d,f)=>{let h=t(),m=o[f]=h?o[f-h]:{V:[],M:new Map};m.V.push(d),gg.has(d)||Po.set(d,m)});for(let{V:d,M:f}of new Set(Po.values())){let h=[];for(let p of d){let y=pl.filter(b=>nd(b,p)),w=h.find(({G:b})=>y.some(g=>b.has(g)));w||(w={G:new Set,V:[]},h.push(w)),w.V.push(p),s(w.G,y)}let m=h.flatMap(p=>Zh(p.G));for(let{G:p,V:y}of h){let w=new Set(m.filter(b=>!p.has(b)));for(let b of y)f.set(b,w)}}hi=new Set;let c=new Set;const u=d=>hi.has(d)?c.add(d):hi.add(d);for(let d of pl){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of hi)!Po.has(d)&&!c.has(d)&&Po.set(d,qS);s(hi,_S(hi)),vw=dM(t).map(d=>jM.from(d)).sort(mM),uy=new Map;for(let d of vw){let f=[uy];for(let h of d){let m=f.map(p=>{let y=p.get(h);return y||(y=new Map,p.set(h,y)),y});h===QS?f.push(...m):f=m}for(let h of f)h.V=d}}function hb(t){return(JS(t)?"":`${mb($m([t]))} `)+LS(t)}function mb(t){return`"${t}"`}function SM(t){if(t.length>=4&&t[2]==bw&&t[3]==bw)throw new Error(`invalid label extension: "${bc(t.slice(0,4))}"`)}function TM(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function CM(t){let e=t[0],n=gw.get(e);if(n)throw Tu(`leading ${n}`);let s=t.length,a=-1;for(let r=1;r<s;r++){e=t[r];let i=gw.get(e);if(i){if(a==r)throw Tu(`${n} + ${i}`);a=r+1,n=i}}if(a==s)throw Tu(`trailing ${n}`)}function $m(t,e=1/0,n=LS){let s=[];RM(t[0])&&s.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let a=0,r=t.length;for(let i=0;i<r;i++){let o=t[i];JS(o)&&(s.push(bc(t.slice(a,i))),s.push(n(o)),a=i+1)}return s.push(bc(t.slice(a,r))),s.join("")}function RM(t){return fb(),ji.has(t)}function JS(t){return fb(),YS.has(t)}function OM(t){return kM(DM(t,EM,LM))}function DM(t,e,n){if(!t)return[];fb();let s=0;return t.split(GS).map(a=>{let r=hM(a),i={input:r,offset:s};s+=r.length+1;try{let o=i.tokens=UM(r,e,n),c=o.length,u;if(!c)throw new Error("empty label");let d=i.output=o.flat();if(TM(d),!(i.emoji=c>1||o[0].is_emoji)&&d.every(h=>h<128))SM(d),u="ASCII";else{let h=o.flatMap(m=>m.is_emoji?[]:m);if(!h.length)u="Emoji";else{if(ji.has(d[0]))throw Tu("leading combining mark");for(let y=1;y<c;y++){let w=o[y];if(!w.is_emoji&&ji.has(w[0]))throw Tu(`emoji + combining mark: "${bc(o[y-1])} + ${$m([w[0]])}"`)}CM(d);let m=Zh(new Set(h)),[p]=MM(m);PM(p,h),BM(p,m),u=p.N}}i.type=u}catch(o){i.error=o}return i})}function BM(t,e){let n,s=[];for(let a of e){let r=Po.get(a);if(r===qS)return;if(r){let i=r.M.get(a);if(n=n?n.filter(o=>i.has(o)):Zh(i),!n.length)return}else s.push(a)}if(n){for(let a of n)if(s.every(r=>nd(a,r)))throw new Error(`whole-script confusable: ${t.N}/${a.N}`)}}function MM(t){let e=pl;for(let n of t){let s=e.filter(a=>nd(a,n));if(!s.length)throw pl.some(a=>nd(a,n))?XS(e[0],n):ZS(n);if(e=s,s.length==1)break}return e}function kM(t){return t.map(({input:e,error:n,output:s})=>{if(n){let a=n.message;throw new Error(t.length==1?a:`Invalid label ${mb($m(e,63))}: ${a}`)}return bc(s)}).join(GS)}function ZS(t){return new Error(`disallowed character: ${hb(t)}`)}function XS(t,e){let n=hb(e),s=pl.find(a=>a.P.has(e));return s&&(n=`${s.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Tu(t){return new Error(`illegal placement: ${t}`)}function PM(t,e){for(let n of e)if(!nd(t,n))throw XS(t,n);if(t.M){let n=_S(e);for(let s=1,a=n.length;s<a;s++)if(cy.has(n[s])){let r=s+1;for(let i;r<a&&cy.has(i=n[r]);r++)for(let o=s;o<r;o++)if(n[o]==i)throw new Error(`duplicate non-spacing marks: ${hb(i)}`);if(r-s>yw)throw new Error(`excessive non-spacing marks: ${mb($m(n.slice(s-1,r)))} (${r-s}/${yw})`);s=r}}}function UM(t,e,n){let s=[],a=[];for(t=t.slice().reverse();t.length;){let r=zM(t);if(r)a.length&&(s.push(e(a)),a=[]),s.push(n(r));else{let i=t.pop();if(hi.has(i))a.push(i);else{let o=ly.get(i);if(o)a.push(...o);else if(!KS.has(i))throw ZS(i)}}}return a.length&&s.push(e(a)),s}function LM(t){return t.filter(e=>e!=QS)}function zM(t,e){let n=uy,s,a=t.length;for(;a&&(n=n.get(t[--a]),!!n);){let{V:r}=n;r&&(s=r,t.length=a)}return s}const $S=new Uint8Array(32);$S.fill(0);function ww(t){return M(t.length!==0,"invalid ENS name; empty component","comp",t),t}function WS(t){const e=Ea(HM(t)),n=[];if(t.length===0)return n;let s=0;for(let a=0;a<e.length;a++)e[a]===46&&(n.push(ww(e.slice(s,a))),s=a+1);return M(s<e.length,"invalid ENS name; empty component","name",t),n.push(ww(e.slice(s))),n}function HM(t){try{if(t.length===0)throw new Error("empty label");return OM(t)}catch(e){M(!1,`invalid ENS name (${e.message})`,"name",t)}}function dy(t){M(typeof t=="string","invalid ENS name; not a string","name",t),M(t.length,"invalid ENS name (empty label)","name",t);let e=$S;const n=WS(t);for(;n.length;)e=it(Ye([e,it(n.pop())]));return Y(e)}function VM(t,e){const n=e;return M(n<=255,"DNS encoded label cannot exceed 255","length",n),Y(Ye(WS(t).map(s=>{M(s.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const a=new Uint8Array(s.length+1);return a.set(s,1),a[0]=a.length-1,a})))+"00"}const eT=new Uint8Array(32);eT.fill(0);const IM=BigInt(-1),tT=BigInt(0),nT=BigInt(1),FM=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function _M(t){const e=fe(t),n=e.length%32;return n?Ye([e,eT.slice(n)]):Y(e)}const GM=_r(nT,32),QM=_r(tT,32),Aw={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},yg=["name","version","chainId","verifyingContract","salt"];function Nw(t){return function(e){return M(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const qM={name:Nw("name"),version:Nw("version"),chainId:function(t){const e=$(t,"domain.chainId");return M(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):ds(e)},verifyingContract:function(t){try{return Ee(t).toLowerCase()}catch{}M(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=fe(t,"domain.salt");return M(e.length===32,'invalid domain value "salt"',"domain.salt",t),Y(e)}};function xg(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",s=parseInt(e[2]);M(s%8===0&&s!==0&&s<=256&&e[2]===String(s),"invalid numeric width","type",t);const a=Ni(FM,n?s-1:s),r=n?(a+nT)*IM:tT;return function(i){const o=$(i,"value");return M(o>=r&&o<=a,`value out-of-bounds for ${t}`,"value",o),_r(n?Fj(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return M(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(s){const a=fe(s);return M(a.length===n,`invalid length for ${t}`,"value",s),_M(s)}}}switch(t){case"address":return function(e){return Pa(Ee(e),32)};case"bool":return function(e){return e?GM:QM};case"bytes":return function(e){return it(e)};case"string":return function(e){return uo(e)}}return null}function Ew(t,e){return`${t}(${e.map(({name:n,type:s})=>s+" "+n).join(",")})`}function jf(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var yd,oa,Vl,mm,sT;const Bn=class Bn{constructor(e){z(this,mm);P(this,"primaryType");z(this,yd);z(this,oa);z(this,Vl);S(this,oa,new Map),S(this,Vl,new Map);const n=new Map,s=new Map,a=new Map,r={};Object.keys(e).forEach(c=>{r[c]=e[c].map(({name:u,type:d})=>{let{base:f,index:h}=jf(d);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(h||"")}}),n.set(c,new Set),s.set(c,[]),a.set(c,new Set)}),S(this,yd,JSON.stringify(r));for(const c in r){const u=new Set;for(const d of r[c]){M(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",e),u.add(d.name);const f=jf(d.type).base;M(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!xg(f)&&(M(s.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),s.get(f).push(c),n.get(c).add(f))}}const i=Array.from(s.keys()).filter(c=>s.get(c).length===0);M(i.length!==0,"missing primary type","types",e),M(i.length===1,`ambiguous primary types or unused types: ${i.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),ee(this,{primaryType:i[0]});function o(c,u){M(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const d of n.get(c))if(s.has(d)){o(d,u);for(const f of u)a.get(f).add(d)}u.delete(c)}o(this.primaryType,new Set);for(const[c,u]of a){const d=Array.from(u);d.sort(),v(this,oa).set(c,Ew(c,r[c])+d.map(f=>Ew(f,r[f])).join(""))}}get types(){return JSON.parse(v(this,yd))}getEncoder(e){let n=v(this,Vl).get(e);return n||(n=q(this,mm,sT).call(this,e),v(this,Vl).set(e,n)),n}encodeType(e){const n=v(this,oa).get(e);return M(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return it(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,s){if(xg(e))return s(e,n);const a=jf(e).array;if(a)return M(a.count===-1||a.count===n.length,`array length mismatch; expected length ${a.count}`,"value",n),n.map(i=>this._visit(a.prefix,i,s));const r=this.types[e];if(r)return r.reduce((i,{name:o,type:c})=>(i[o]=this._visit(c,n[o],s),i),{});M(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Bn(e)}static getPrimaryType(e){return Bn.from(e).primaryType}static hashStruct(e,n,s){return Bn.from(n).hashStruct(e,s)}static hashDomain(e){const n=[];for(const s in e){if(e[s]==null)continue;const a=Aw[s];M(a,`invalid typed-data domain key: ${JSON.stringify(s)}`,"domain",e),n.push({name:s,type:a})}return n.sort((s,a)=>yg.indexOf(s.name)-yg.indexOf(a.name)),Bn.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,s){return Ye(["0x1901",Bn.hashDomain(e),Bn.from(n).hash(s)])}static hash(e,n,s){return it(Bn.encode(e,n,s))}static async resolveNames(e,n,s,a){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const r={};e.verifyingContract&&!ke(e.verifyingContract,20)&&(r[e.verifyingContract]="0x");const i=Bn.from(n);i.visit(s,(o,c)=>(o==="address"&&!ke(c,20)&&(r[c]="0x"),c));for(const o in r)r[o]=await a(o);return e.verifyingContract&&r[e.verifyingContract]&&(e.verifyingContract=r[e.verifyingContract]),s=i.visit(s,(o,c)=>o==="address"&&r[c]?r[c]:c),{domain:e,value:s}}static getPayload(e,n,s){Bn.hashDomain(e);const a={},r=[];yg.forEach(c=>{const u=e[c];u!=null&&(a[c]=qM[c](u),r.push({name:c,type:Aw[c]}))});const i=Bn.from(n);n=i.types;const o=Object.assign({},n);return M(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),o.EIP712Domain=r,i.encode(s),{types:o,domain:a,primaryType:i.primaryType,message:i.visit(s,(c,u)=>{if(c.match(/^bytes(\d*)/))return Y(fe(u));if(c.match(/^u?int/))return $(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return M(typeof u=="string","invalid string","value",u),u}M(!1,"unsupported type","type",c)})}}};yd=new WeakMap,oa=new WeakMap,Vl=new WeakMap,mm=new WeakSet,sT=function(e){{const a=xg(e);if(a)return a}const n=jf(e).array;if(n){const a=n.prefix,r=this.getEncoder(a);return i=>{M(n.count===-1||n.count===i.length,`array length mismatch; expected length ${n.count}`,"value",i);let o=i.map(r);return v(this,oa).has(a)&&(o=o.map(it)),it(Ye(o))}}const s=this.types[e];if(s){const a=uo(v(this,oa).get(e));return r=>{const i=s.map(({name:o,type:c})=>{const u=this.getEncoder(c)(r[o]);return v(this,oa).has(c)?it(u):u});return i.unshift(a),Ye(i)}}M(!1,`unknown type: ${e}`,"type",e)};let Xh=Bn;function _t(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const KM="external public payable override",YM=_t(KM.split(" ")),aT="constant external internal payable private public pure view override",JM=_t(aT.split(" ")),rT="constructor error event fallback function receive struct",iT=_t(rT.split(" ")),oT="calldata memory storage payable indexed",ZM=_t(oT.split(" ")),XM="tuple returns",$M=[rT,oT,XM,aT].join(" "),WM=_t($M.split(" ")),ek={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},tk=new RegExp("^(\\s*)"),nk=new RegExp("^([0-9]+)"),sk=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),lT=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),cT=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var xt,ls,xd,fy;const pm=class pm{constructor(e){z(this,xd);z(this,xt);z(this,ls);S(this,xt,0),S(this,ls,e.slice())}get offset(){return v(this,xt)}get length(){return v(this,ls).length-v(this,xt)}clone(){return new pm(v(this,ls))}reset(){S(this,xt,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=q(this,xd,fy).call(this,v(this,xt)+1,e.match+1);return S(this,xt,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;v(this,xt)<e.match-1;){const s=this.peek().linkNext;n.push(q(this,xd,fy).call(this,v(this,xt)+1,s)),S(this,xt,s)}return S(this,xt,e.match+1),n}peek(){if(v(this,xt)>=v(this,ls).length)throw new Error("out-of-bounds");return v(this,ls)[v(this,xt)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return Vc(this,xt)._++,e}toString(){const e=[];for(let n=v(this,xt);n<v(this,ls).length;n++){const s=v(this,ls)[n];e.push(`${s.type}:${s.text}`)}return`<TokenString ${e.join(" ")}>`}};xt=new WeakMap,ls=new WeakMap,xd=new WeakSet,fy=function(e=0,n=0){return new pm(v(this,ls).slice(e,n).map(s=>Object.freeze(Object.assign({},s,{match:s.match-e,linkBack:s.linkBack-e,linkNext:s.linkNext-e}))))};let hs=pm;function ti(t){const e=[],n=i=>{const o=r<t.length?JSON.stringify(t[r]):"$EOI";throw new Error(`invalid token ${o} at ${r}: ${i}`)};let s=[],a=[],r=0;for(;r<t.length;){let i=t.substring(r),o=i.match(tk);o&&(r+=o[1].length,i=t.substring(r));const c={depth:s.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:r,value:-1};e.push(c);let u=ek[i[0]]||"";if(u){if(c.type=u,c.text=i[0],r++,u==="OPEN_PAREN")s.push(e.length-1),a.push(e.length-1);else if(u=="CLOSE_PAREN")s.length===0&&n("no matching open bracket"),c.match=s.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=a.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=a.pop(),e[c.linkBack].linkNext=e.length-1,a.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;d=f+d,e[e.length-1].value=ce(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(o=i.match(sk),o){if(c.text=o[1],r+=c.text.length,WM.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(cT)){c.type="TYPE";continue}c.type="ID";continue}if(o=i.match(nk),o){c.text=o[1],c.type="NUMBER",r+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(i[0])} at position ${r}`)}return new hs(e.map(i=>Object.freeze(i)))}function jw(t,e){let n=[];for(const s in e.keys())t.has(s)&&n.push(s);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Wm(t,e){if(e.peekKeyword(iT)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Ua(t,e){const n=new Set;for(;;){const s=t.peekType("KEYWORD");if(s==null||e&&!e.has(s))break;if(t.pop(),n.has(s))throw new Error(`duplicate keywords: ${JSON.stringify(s)}`);n.add(s)}return Object.freeze(n)}function uT(t){let e=Ua(t,JM);return jw(e,_t("constant payable nonpayable".split(" "))),jw(e,_t("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ja(t,e){return t.popParams().map(n=>St.from(n,e))}function dT(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return $(t.pop().text);throw new Error("invalid gas")}return null}function fo(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const ak=new RegExp(/^(.*)\[([0-9]*)\]$/);function Sw(t){const e=t.match(cT);if(M(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);M(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);M(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const _e={},rn=Symbol.for("_ethers_internal"),Tw="_ParamTypeInternal",Cw="_ErrorInternal",Rw="_EventInternal",Ow="_ConstructorInternal",Dw="_FallbackInternal",Bw="_FunctionInternal",Mw="_StructInternal";var Il,$f;const Mn=class Mn{constructor(e,n,s,a,r,i,o,c){z(this,Il);P(this,"name");P(this,"type");P(this,"baseType");P(this,"indexed");P(this,"components");P(this,"arrayLength");P(this,"arrayChildren");if(Id(e,_e,"ParamType"),Object.defineProperty(this,rn,{value:Tw}),i&&(i=Object.freeze(i.slice())),a==="array"){if(o==null||c==null)throw new Error("")}else if(o!=null||c!=null)throw new Error("");if(a==="tuple"){if(i==null)throw new Error("")}else if(i!=null)throw new Error("");ee(this,{name:n,type:s,baseType:a,indexed:r,components:i,arrayLength:o,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const s=this.name||"";if(this.isArray()){const r=JSON.parse(this.arrayChildren.format("json"));return r.name=s,r.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(r)}const a={type:this.baseType==="tuple"?"tuple":this.type,name:s};return typeof this.indexed=="boolean"&&(a.indexed=this.indexed),this.isTuple()&&(a.components=this.components.map(r=>JSON.parse(r.format(e)))),JSON.stringify(a)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(s=>s.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const s=this;return e.map(a=>s.arrayChildren.walk(a,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const s=this;return e.map((a,r)=>s.components[r].walk(a,n))}return n(this.type,e)}async walkAsync(e,n){const s=[],a=[e];return q(this,Il,$f).call(this,s,e,n,r=>{a[0]=r}),s.length&&await Promise.all(s),a[0]}static from(e,n){if(Mn.isParamType(e))return e;if(typeof e=="string")try{return Mn.from(ti(e),n)}catch{M(!1,"invalid param type","obj",e)}else if(e instanceof hs){let o="",c="",u=null;Ua(e,_t(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(y=>Mn.from(y)),o=`tuple(${u.map(y=>y.format()).join(",")})`):(o=Sw(e.popType("TYPE")),c=o);let d=null,f=null;for(;e.length&&e.peekType("BRACKET");){const y=e.pop();d=new Mn(_e,"",o,c,null,u,f,d),f=y.value,o+=y.text,c="array",u=null}let h=null;if(Ua(e,ZM).has("indexed")){if(!n)throw new Error("");h=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Mn(_e,p,o,c,h,u,f,d)}const s=e.name;M(!s||typeof s=="string"&&s.match(lT),"invalid name","obj.name",s);let a=e.indexed;a!=null&&(M(n,"parameter cannot be indexed","obj.indexed",e.indexed),a=!!a);let r=e.type,i=r.match(ak);if(i){const o=parseInt(i[2]||"-1"),c=Mn.from({type:i[1],components:e.components});return new Mn(_e,s||"",r,"array",a,null,o,c)}if(r==="tuple"||r.startsWith("tuple(")||r.startsWith("(")){const o=e.components!=null?e.components.map(u=>Mn.from(u)):null;return new Mn(_e,s||"",r,"tuple",a,o,null,null)}return r=Sw(e.type),new Mn(_e,s||"",r,r,a,null,null,null)}static isParamType(e){return e&&e[rn]===Tw}};Il=new WeakSet,$f=function(e,n,s,a){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,o=n.slice();o.forEach((c,u)=>{var d;q(d=i,Il,$f).call(d,e,c,s,f=>{o[u]=f})}),a(o);return}if(this.isTuple()){const i=this.components;let o;if(Array.isArray(n))o=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");o=i.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((c,u)=>{var d;q(d=i[u],Il,$f).call(d,e,c,s,f=>{o[u]=f})}),a(o);return}const r=s(this.type,n);r.then?e.push(async function(){a(await r)}()):a(r)};let St=Mn;class ho{constructor(e,n,s){P(this,"type");P(this,"inputs");Id(e,_e,"Fragment"),s=Object.freeze(s.slice()),ee(this,{type:n,inputs:s})}static from(e){if(typeof e=="string"){try{ho.from(JSON.parse(e))}catch{}return ho.from(ti(e))}if(e instanceof hs)switch(e.peekKeyword(iT)){case"constructor":return ba.from(e);case"error":return $t.from(e);case"event":return Bs.from(e);case"fallback":case"receive":return na.from(e);case"function":return Ms.from(e);case"struct":return no.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return ba.from(e);case"error":return $t.from(e);case"event":return Bs.from(e);case"fallback":case"receive":return na.from(e);case"function":return Ms.from(e);case"struct":return no.from(e)}Q(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}M(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ba.isFragment(e)}static isError(e){return $t.isFragment(e)}static isEvent(e){return Bs.isFragment(e)}static isFunction(e){return Ms.isFragment(e)}static isStruct(e){return no.isFragment(e)}}class ep extends ho{constructor(n,s,a,r){super(n,s,r);P(this,"name");M(typeof a=="string"&&a.match(lT),"invalid identifier","name",a),r=Object.freeze(r.slice()),ee(this,{name:a})}}function sd(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class $t extends ep{constructor(e,n,s){super(e,"error",n,s),Object.defineProperty(this,rn,{value:Cw})}get selector(){return uo(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+sd(e,this.inputs)),n.join(" ")}static from(e){if($t.isFragment(e))return e;if(typeof e=="string")return $t.from(ti(e));if(e instanceof hs){const n=Wm("error",e),s=ja(e);return fo(e),new $t(_e,n,s)}return new $t(_e,e.name,e.inputs?e.inputs.map(St.from):[])}static isFragment(e){return e&&e[rn]===Cw}}class Bs extends ep{constructor(n,s,a,r){super(n,"event",s,a);P(this,"anonymous");Object.defineProperty(this,rn,{value:Rw}),ee(this,{anonymous:r})}get topicHash(){return uo(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(n)))});const s=[];return n!=="sighash"&&s.push("event"),s.push(this.name+sd(n,this.inputs)),n!=="sighash"&&this.anonymous&&s.push("anonymous"),s.join(" ")}static getTopicHash(n,s){return s=(s||[]).map(r=>St.from(r)),new Bs(_e,n,s,!1).topicHash}static from(n){if(Bs.isFragment(n))return n;if(typeof n=="string")try{return Bs.from(ti(n))}catch{M(!1,"invalid event fragment","obj",n)}else if(n instanceof hs){const s=Wm("event",n),a=ja(n,!0),r=!!Ua(n,_t(["anonymous"])).has("anonymous");return fo(n),new Bs(_e,s,a,r)}return new Bs(_e,n.name,n.inputs?n.inputs.map(s=>St.from(s,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[rn]===Rw}}class ba extends ho{constructor(n,s,a,r,i){super(n,s,a);P(this,"payable");P(this,"gas");Object.defineProperty(this,rn,{value:Ow}),ee(this,{payable:r,gas:i})}format(n){if(Q(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(n)))});const s=[`constructor${sd(n,this.inputs)}`];return this.payable&&s.push("payable"),this.gas!=null&&s.push(`@${this.gas.toString()}`),s.join(" ")}static from(n){if(ba.isFragment(n))return n;if(typeof n=="string")try{return ba.from(ti(n))}catch{M(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof hs){Ua(n,_t(["constructor"]));const s=ja(n),a=!!Ua(n,YM).has("payable"),r=dT(n);return fo(n),new ba(_e,"constructor",s,a,r)}return new ba(_e,"constructor",n.inputs?n.inputs.map(St.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[rn]===Ow}}class na extends ho{constructor(n,s,a){super(n,"fallback",s);P(this,"payable");Object.defineProperty(this,rn,{value:Dw}),ee(this,{payable:a})}format(n){const s=this.inputs.length===0?"receive":"fallback";if(n==="json"){const a=this.payable?"payable":"nonpayable";return JSON.stringify({type:s,stateMutability:a})}return`${s}()${this.payable?" payable":""}`}static from(n){if(na.isFragment(n))return n;if(typeof n=="string")try{return na.from(ti(n))}catch{M(!1,"invalid fallback fragment","obj",n)}else if(n instanceof hs){const s=n.toString(),a=n.peekKeyword(_t(["fallback","receive"]));if(M(a,"type must be fallback or receive","obj",s),n.popKeyword(_t(["fallback","receive"]))==="receive"){const c=ja(n);return M(c.length===0,"receive cannot have arguments","obj.inputs",c),Ua(n,_t(["payable"])),fo(n),new na(_e,[],!0)}let i=ja(n);i.length?M(i.length===1&&i[0].type==="bytes","invalid fallback inputs","obj.inputs",i.map(c=>c.format("minimal")).join(", ")):i=[St.from("bytes")];const o=uT(n);if(M(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Ua(n,_t(["returns"])).has("returns")){const c=ja(n);M(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return fo(n),new na(_e,i,o==="payable")}if(n.type==="receive")return new na(_e,[],!0);if(n.type==="fallback"){const s=[St.from("bytes")],a=n.stateMutability==="payable";return new na(_e,s,a)}M(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[rn]===Dw}}class Ms extends ep{constructor(n,s,a,r,i,o){super(n,"function",s,r);P(this,"constant");P(this,"outputs");P(this,"stateMutability");P(this,"payable");P(this,"gas");Object.defineProperty(this,rn,{value:Bw}),i=Object.freeze(i.slice()),ee(this,{constant:a==="view"||a==="pure",gas:o,outputs:i,payable:a==="payable",stateMutability:a})}get selector(){return uo(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(n))),outputs:this.outputs.map(a=>JSON.parse(a.format(n)))});const s=[];return n!=="sighash"&&s.push("function"),s.push(this.name+sd(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&s.push(this.stateMutability),this.outputs&&this.outputs.length&&(s.push("returns"),s.push(sd(n,this.outputs))),this.gas!=null&&s.push(`@${this.gas.toString()}`)),s.join(" ")}static getSelector(n,s){return s=(s||[]).map(r=>St.from(r)),new Ms(_e,n,"view",s,[],null).selector}static from(n){if(Ms.isFragment(n))return n;if(typeof n=="string")try{return Ms.from(ti(n))}catch{M(!1,"invalid function fragment","obj",n)}else if(n instanceof hs){const a=Wm("function",n),r=ja(n),i=uT(n);let o=[];Ua(n,_t(["returns"])).has("returns")&&(o=ja(n));const c=dT(n);return fo(n),new Ms(_e,a,i,r,o,c)}let s=n.stateMutability;return s==null&&(s="payable",typeof n.constant=="boolean"?(s="view",n.constant||(s="payable",typeof n.payable=="boolean"&&!n.payable&&(s="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(s="nonpayable")),new Ms(_e,n.name,s,n.inputs?n.inputs.map(St.from):[],n.outputs?n.outputs.map(St.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[rn]===Bw}}class no extends ep{constructor(e,n,s){super(e,"struct",n,s),Object.defineProperty(this,rn,{value:Mw})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return no.from(ti(e))}catch{M(!1,"invalid struct fragment","obj",e)}else if(e instanceof hs){const n=Wm("struct",e),s=ja(e);return fo(e),new no(_e,n,s)}return new no(_e,e.name,e.inputs?e.inputs.map(St.from):[])}static isFragment(e){return e&&e[rn]===Mw}}const ps=new Map;ps.set(0,"GENERIC_PANIC");ps.set(1,"ASSERT_FALSE");ps.set(17,"OVERFLOW");ps.set(18,"DIVIDE_BY_ZERO");ps.set(33,"ENUM_RANGE_ERROR");ps.set(34,"BAD_STORAGE_DATA");ps.set(49,"STACK_UNDERFLOW");ps.set(50,"ARRAY_RANGE_ERROR");ps.set(65,"OUT_OF_MEMORY");ps.set(81,"UNINITIALIZED_FUNCTION_CALL");const rk=new RegExp(/^bytes([0-9]*)$/),ik=new RegExp(/^(u?int)([0-9]*)$/);let bg=null,kw=1024;function ok(t,e,n,s){let a="missing revert data",r=null;const i=null;let o=null;if(n){a="execution reverted";const u=fe(n);if(n=Y(n),u.length===0)a+=" (no data present; likely require(false) occurred",r="require(false)";else if(u.length%32!==4)a+=" (could not decode reason; invalid data length)";else if(Y(u.slice(0,4))==="0x08c379a0")try{r=s.decode(["string"],u.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[r]},a+=`: ${JSON.stringify(r)}`}catch{a+=" (could not decode reason; invalid string data)"}else if(Y(u.slice(0,4))==="0x4e487b71")try{const d=Number(s.decode(["uint256"],u.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[d]},r=`Panic due to ${ps.get(d)||"UNKNOWN"}(${d})`,a+=`: ${r}`}catch{a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}const c={to:e.to?Ee(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Ee(e.from)),Ie(a,"CALL_EXCEPTION",{action:t,data:n,reason:r,transaction:c,invocation:i,revert:o})}var lr,Uo;const gm=class gm{constructor(){z(this,lr)}getDefaultValue(e){const n=e.map(a=>q(this,lr,Uo).call(this,St.from(a)));return new Ef(n,"_").defaultValue()}encode(e,n){Hj(n.length,e.length,"types/values length mismatch");const s=e.map(i=>q(this,lr,Uo).call(this,St.from(i))),a=new Ef(s,"_"),r=new $0;return a.encode(r,n),r.data}decode(e,n,s){const a=e.map(i=>q(this,lr,Uo).call(this,St.from(i)));return new Ef(a,"_").decode(new W0(n,s,kw))}static _setDefaultMaxInflation(e){M(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),kw=e}static defaultAbiCoder(){return bg==null&&(bg=new gm),bg}static getBuiltinCallException(e,n,s){return ok(e,n,s,gm.defaultAbiCoder())}};lr=new WeakSet,Uo=function(e){if(e.isArray())return new j5(q(this,lr,Uo).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Ef(e.components.map(s=>q(this,lr,Uo).call(this,s)),e.name);switch(e.baseType){case"address":return new N5(e.name);case"bool":return new S5(e.name);case"string":return new P5(e.name);case"bytes":return new T5(e.name);case"":return new O5(e.name)}let n=e.type.match(ik);if(n){let s=parseInt(n[2]||"256");return M(s!==0&&s<=256&&s%8===0,"invalid "+n[1]+" bit length","param",e),new k5(s/8,n[1]==="int",e.name)}if(n=e.type.match(rk),n){let s=parseInt(n[1]);return M(s!==0&&s<=32,"invalid bytes length","param",e),new C5(s,e.name)}M(!1,"invalid type","type",e.type)};let ad=gm;class lk{constructor(e,n,s){P(this,"fragment");P(this,"name");P(this,"signature");P(this,"topic");P(this,"args");const a=e.name,r=e.format();ee(this,{fragment:e,name:a,signature:r,topic:n,args:s})}}class ck{constructor(e,n,s,a){P(this,"fragment");P(this,"name");P(this,"args");P(this,"signature");P(this,"selector");P(this,"value");const r=e.name,i=e.format();ee(this,{fragment:e,name:r,args:s,signature:i,selector:n,value:a})}}class uk{constructor(e,n,s){P(this,"fragment");P(this,"name");P(this,"args");P(this,"signature");P(this,"selector");const a=e.name,r=e.format();ee(this,{fragment:e,name:a,args:s,signature:r,selector:n})}}class Pw{constructor(e){P(this,"hash");P(this,"_isIndexed");ee(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Uw={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Lw={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Uw[t.toString()]&&(e=Uw[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Ss,Ts,Cs,Tt,Fs,Wf,eh;const wi=class wi{constructor(e){z(this,Fs);P(this,"fragments");P(this,"deploy");P(this,"fallback");P(this,"receive");z(this,Ss);z(this,Ts);z(this,Cs);z(this,Tt);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,S(this,Cs,new Map),S(this,Ss,new Map),S(this,Ts,new Map);const s=[];for(const i of n)try{s.push(ho.from(i))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(i)}:`,o.message)}ee(this,{fragments:Object.freeze(s)});let a=null,r=!1;S(this,Tt,this.getAbiCoder()),this.fragments.forEach((i,o)=>{let c;switch(i.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ee(this,{deploy:i});return;case"fallback":i.inputs.length===0?r=!0:(M(!a||i.payable!==a.payable,"conflicting fallback fragments",`fragments[${o}]`,i),a=i,r=a.payable);return;case"function":c=v(this,Cs);break;case"event":c=v(this,Ts);break;case"error":c=v(this,Ss);break;default:return}const u=i.format();c.has(u)||c.set(u,i)}),this.deploy||ee(this,{deploy:ba.from("constructor()")}),ee(this,{fallback:a,receive:r})}format(e){const n=e?"minimal":"full";return this.fragments.map(a=>a.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return ad.defaultAbiCoder()}getFunctionName(e){const n=q(this,Fs,Wf).call(this,e,null,!1);return M(n,"no matching function","key",e),n.name}hasFunction(e){return!!q(this,Fs,Wf).call(this,e,null,!1)}getFunction(e,n){return q(this,Fs,Wf).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(v(this,Cs).keys());n.sort((s,a)=>s.localeCompare(a));for(let s=0;s<n.length;s++){const a=n[s];e(v(this,Cs).get(a),s)}}getEventName(e){const n=q(this,Fs,eh).call(this,e,null,!1);return M(n,"no matching event","key",e),n.name}hasEvent(e){return!!q(this,Fs,eh).call(this,e,null,!1)}getEvent(e,n){return q(this,Fs,eh).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(v(this,Ts).keys());n.sort((s,a)=>s.localeCompare(a));for(let s=0;s<n.length;s++){const a=n[s];e(v(this,Ts).get(a),s)}}getError(e,n){if(ke(e)){const a=e.toLowerCase();if(Lw[a])return $t.from(Lw[a].signature);for(const r of v(this,Ss).values())if(a===r.selector)return r;return null}if(e.indexOf("(")===-1){const a=[];for(const[r,i]of v(this,Ss))r.split("(")[0]===e&&a.push(i);if(a.length===0)return e==="Error"?$t.from("error Error(string)"):e==="Panic"?$t.from("error Panic(uint256)"):null;if(a.length>1){const r=a.map(i=>JSON.stringify(i.format())).join(", ");M(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return a[0]}if(e=$t.from(e).format(),e==="Error(string)")return $t.from("error Error(string)");if(e==="Panic(uint256)")return $t.from("error Panic(uint256)");const s=v(this,Ss).get(e);return s||null}forEachError(e){const n=Array.from(v(this,Ss).keys());n.sort((s,a)=>s.localeCompare(a));for(let s=0;s<n.length;s++){const a=n[s];e(v(this,Ss).get(a),s)}}_decodeParams(e,n){return v(this,Tt).decode(e,n)}_encodeParams(e,n){return v(this,Tt).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const s=this.getError(e);M(s,"unknown error","fragment",e),e=s}return M(qe(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,qe(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const s=this.getError(e);M(s,"unknown error","fragment",e),e=s}return Ye([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const s=this.getFunction(e);M(s,"unknown function","fragment",e),e=s}return M(qe(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,qe(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const s=this.getFunction(e);M(s,"unknown function","fragment",e),e=s}return Ye([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);M(r,"unknown function","fragment",e),e=r}let s="invalid length for result data";const a=Ht(n);if(a.length%32===0)try{return v(this,Tt).decode(e.outputs,a)}catch{s="could not decode result data"}Q(!1,s,"BAD_DATA",{value:Y(a),info:{method:e.name,signature:e.format()}})}makeError(e,n){const s=fe(e,"data"),a=ad.getBuiltinCallException("call",n,s);if(a.message.startsWith("execution reverted (unknown custom error)")){const o=Y(s.slice(0,4)),c=this.getError(o);if(c)try{const u=v(this,Tt).decode(c.inputs,s.slice(4));a.revert={name:c.name,signature:c.format(),args:u},a.reason=a.revert.signature,a.message=`execution reverted: ${a.reason}`}catch{a.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(n);return i&&(a.invocation={method:i.name,signature:i.signature,args:i.args}),a}encodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);M(s,"unknown function","fragment",e),e=s}return Y(v(this,Tt).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const r=this.getEvent(e);M(r,"unknown event","eventFragment",e),e=r}Q(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const s=[];e.anonymous||s.push(e.topicHash);const a=(r,i)=>r.type==="string"?uo(i):r.type==="bytes"?it(Y(i)):(r.type==="bool"&&typeof i=="boolean"?i=i?"0x01":"0x00":r.type.match(/^u?int/)?i=_r(i):r.type.match(/^bytes/)?i=ED(i,32):r.type==="address"&&v(this,Tt).encode(["address"],[i]),Pa(Y(i),32));for(n.forEach((r,i)=>{const o=e.inputs[i];if(!o.indexed){M(r==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,r);return}r==null?s.push(null):o.baseType==="array"||o.baseType==="tuple"?M(!1,"filtering with tuples or arrays not supported","contract."+o.name,r):Array.isArray(r)?s.push(r.map(c=>a(o,c))):s.push(a(o,r))});s.length&&s[s.length-1]===null;)s.pop();return s}encodeEventLog(e,n){if(typeof e=="string"){const i=this.getEvent(e);M(i,"unknown event","eventFragment",e),e=i}const s=[],a=[],r=[];return e.anonymous||s.push(e.topicHash),M(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((i,o)=>{const c=n[o];if(i.indexed)if(i.type==="string")s.push(uo(c));else if(i.type==="bytes")s.push(it(c));else{if(i.baseType==="tuple"||i.baseType==="array")throw new Error("not implemented");s.push(v(this,Tt).encode([i.type],[c]))}else a.push(i),r.push(c)}),{data:v(this,Tt).encode(a,r),topics:s}}decodeEventLog(e,n,s){if(typeof e=="string"){const m=this.getEvent(e);M(m,"unknown event","eventFragment",e),e=m}if(s!=null&&!e.anonymous){const m=e.topicHash;M(ke(s[0],32)&&s[0].toLowerCase()===m,"fragment/topic mismatch","topics[0]",s[0]),s=s.slice(1)}const a=[],r=[],i=[];e.inputs.forEach((m,p)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(a.push(St.from({type:"bytes32",name:m.name})),i.push(!0)):(a.push(m),i.push(!1)):(r.push(m),i.push(!1))});const o=s!=null?v(this,Tt).decode(a,Ye(s)):null,c=v(this,Tt).decode(r,n,!0),u=[],d=[];let f=0,h=0;return e.inputs.forEach((m,p)=>{let y=null;if(m.indexed)if(o==null)y=new Pw(null);else if(i[p])y=new Pw(o[h++]);else try{y=o[h++]}catch(w){y=w}else try{y=c[f++]}catch(w){y=w}u.push(y),d.push(m.name||null)}),mc.fromItems(u,d)}parseTransaction(e){const n=fe(e.data,"tx.data"),s=$(e.value!=null?e.value:0,"tx.value"),a=this.getFunction(Y(n.slice(0,4)));if(!a)return null;const r=v(this,Tt).decode(a.inputs,n.slice(4));return new ck(a,a.selector,r,s)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new lk(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=Y(e),s=this.getError(qe(n,0,4));if(!s)return null;const a=v(this,Tt).decode(s.inputs,qe(n,4));return new uk(s,s.selector,a)}static from(e){return e instanceof wi?e:typeof e=="string"?new wi(JSON.parse(e)):typeof e.formatJson=="function"?new wi(e.formatJson()):typeof e.format=="function"?new wi(e.format("json")):new wi(e)}};Ss=new WeakMap,Ts=new WeakMap,Cs=new WeakMap,Tt=new WeakMap,Fs=new WeakSet,Wf=function(e,n,s){if(ke(e)){const r=e.toLowerCase();for(const i of v(this,Cs).values())if(r===i.selector)return i;return null}if(e.indexOf("(")===-1){const r=[];for(const[i,o]of v(this,Cs))i.split("(")[0]===e&&r.push(o);if(n){const i=n.length>0?n[n.length-1]:null;let o=n.length,c=!0;Bt.isTyped(i)&&i.type==="overrides"&&(c=!1,o--);for(let u=r.length-1;u>=0;u--){const d=r[u].inputs.length;d!==o&&(!c||d!==o-1)&&r.splice(u,1)}for(let u=r.length-1;u>=0;u--){const d=r[u].inputs;for(let f=0;f<n.length;f++)if(Bt.isTyped(n[f])){if(f>=d.length){if(n[f].type==="overrides")continue;r.splice(u,1);break}if(n[f].type!==d[f].baseType){r.splice(u,1);break}}}}if(r.length===1&&n&&n.length!==r[0].inputs.length){const i=n[n.length-1];(i==null||Array.isArray(i)||typeof i!="object")&&r.splice(0,1)}if(r.length===0)return null;if(r.length>1&&s){const i=r.map(o=>JSON.stringify(o.format())).join(", ");M(!1,`ambiguous function description (i.e. matches ${i})`,"key",e)}return r[0]}const a=v(this,Cs).get(Ms.from(e).format());return a||null},eh=function(e,n,s){if(ke(e)){const r=e.toLowerCase();for(const i of v(this,Ts).values())if(r===i.topicHash)return i;return null}if(e.indexOf("(")===-1){const r=[];for(const[i,o]of v(this,Ts))i.split("(")[0]===e&&r.push(o);if(n){for(let i=r.length-1;i>=0;i--)r[i].inputs.length<n.length&&r.splice(i,1);for(let i=r.length-1;i>=0;i--){const o=r[i].inputs;for(let c=0;c<n.length;c++)if(Bt.isTyped(n[c])&&n[c].type!==o[c].baseType){r.splice(i,1);break}}}if(r.length===0)return null;if(r.length>1&&s){const i=r.map(o=>JSON.stringify(o.format())).join(", ");M(!1,`ambiguous event description (i.e. matches ${i})`,"key",e)}return r[0]}const a=v(this,Ts).get(Bs.from(e).format());return a||null};let hy=wi;const fT=BigInt(0);function gl(t){return t??null}function Je(t){return t==null?null:t.toString()}class zw{constructor(e,n,s){P(this,"gasPrice");P(this,"maxFeePerGas");P(this,"maxPriorityFeePerGas");ee(this,{gasPrice:gl(e),maxFeePerGas:gl(n),maxPriorityFeePerGas:gl(s)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:s}=this;return{_type:"FeeData",gasPrice:Je(e),maxFeePerGas:Je(n),maxPriorityFeePerGas:Je(s)}}}function $h(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Y(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const a of n)!(a in t)||t[a]==null||(e[a]=$(t[a],`request.${a}`));const s="type,nonce".split(/,/);for(const a of s)!(a in t)||t[a]==null||(e[a]=ce(t[a],`request.${a}`));return t.accessList&&(e.accessList=Ao(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(a=>nb(a)?Y(a):Object.assign({},a))),e}var la;class dk{constructor(e,n){P(this,"provider");P(this,"number");P(this,"hash");P(this,"timestamp");P(this,"parentHash");P(this,"parentBeaconBlockRoot");P(this,"nonce");P(this,"difficulty");P(this,"gasLimit");P(this,"gasUsed");P(this,"stateRoot");P(this,"receiptsRoot");P(this,"blobGasUsed");P(this,"excessBlobGas");P(this,"miner");P(this,"prevRandao");P(this,"extraData");P(this,"baseFeePerGas");z(this,la);S(this,la,e.transactions.map(s=>typeof s!="string"?new rd(s,n):s)),ee(this,{provider:n,hash:gl(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:gl(e.prevRandao),extraData:e.extraData,baseFeePerGas:gl(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return v(this,la).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=v(this,la).slice();return e.length===0?[]:(Q(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:s,gasLimit:a,gasUsed:r,hash:i,miner:o,prevRandao:c,nonce:u,number:d,parentHash:f,parentBeaconBlockRoot:h,stateRoot:m,receiptsRoot:p,timestamp:y,transactions:w}=this;return{_type:"Block",baseFeePerGas:Je(e),difficulty:Je(n),extraData:s,gasLimit:Je(a),gasUsed:Je(r),blobGasUsed:Je(this.blobGasUsed),excessBlobGas:Je(this.excessBlobGas),hash:i,miner:o,prevRandao:c,nonce:u,number:d,parentHash:f,timestamp:y,parentBeaconBlockRoot:h,stateRoot:m,receiptsRoot:p,transactions:w}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return v(this,la).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=v(this,la)[e];else{const s=e.toLowerCase();for(const a of v(this,la))if(typeof a=="string"){if(a!==s)continue;n=a;break}else{if(a.hash!==s)continue;n=a;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const s of n)if(s.hash===e)return s;M(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return fk(this)}}la=new WeakMap;class Gd{constructor(e,n){P(this,"provider");P(this,"transactionHash");P(this,"blockHash");P(this,"blockNumber");P(this,"removed");P(this,"address");P(this,"data");P(this,"topics");P(this,"index");P(this,"transactionIndex");this.provider=n;const s=Object.freeze(e.topics.slice());ee(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:s,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:s,data:a,index:r,removed:i,topics:o,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:s,data:a,index:r,removed:i,topics:o,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Q(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Q(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Q(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return hk(this)}}var bd;class hT{constructor(e,n){P(this,"provider");P(this,"to");P(this,"from");P(this,"contractAddress");P(this,"hash");P(this,"index");P(this,"blockHash");P(this,"blockNumber");P(this,"logsBloom");P(this,"gasUsed");P(this,"blobGasUsed");P(this,"cumulativeGasUsed");P(this,"gasPrice");P(this,"blobGasPrice");P(this,"type");P(this,"status");P(this,"root");z(this,bd);S(this,bd,Object.freeze(e.logs.map(a=>new Gd(a,n))));let s=fT;e.effectiveGasPrice!=null?s=e.effectiveGasPrice:e.gasPrice!=null&&(s=e.gasPrice),ee(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:s,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return v(this,bd)}toJSON(){const{to:e,from:n,contractAddress:s,hash:a,index:r,blockHash:i,blockNumber:o,logsBloom:c,logs:u,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:o,contractAddress:s,cumulativeGasUsed:Je(this.cumulativeGasUsed),from:n,gasPrice:Je(this.gasPrice),blobGasUsed:Je(this.blobGasUsed),blobGasPrice:Je(this.blobGasPrice),gasUsed:Je(this.gasUsed),hash:a,index:r,logs:u,logsBloom:c,root:f,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return pT(this)}reorderedEvent(e){return Q(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),mT(this,e)}}bd=new WeakMap;var cr;const Xb=class Xb{constructor(e,n){P(this,"provider");P(this,"blockNumber");P(this,"blockHash");P(this,"index");P(this,"hash");P(this,"type");P(this,"to");P(this,"from");P(this,"nonce");P(this,"gasLimit");P(this,"gasPrice");P(this,"maxPriorityFeePerGas");P(this,"maxFeePerGas");P(this,"maxFeePerBlobGas");P(this,"data");P(this,"value");P(this,"chainId");P(this,"signature");P(this,"accessList");P(this,"blobVersionedHashes");P(this,"authorizationList");z(this,cr);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,S(this,cr,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:s,hash:a,type:r,to:i,from:o,nonce:c,data:u,signature:d,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:h,chainId:Je(this.chainId),data:u,from:o,gasLimit:Je(this.gasLimit),gasPrice:Je(this.gasPrice),hash:a,maxFeePerGas:Je(this.maxFeePerGas),maxPriorityFeePerGas:Je(this.maxPriorityFeePerGas),maxFeePerBlobGas:Je(this.maxFeePerBlobGas),nonce:c,signature:d,to:i,index:s,type:r,value:Je(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const s=await this.getTransaction();s&&(e=s.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:s}=await zt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:s-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const s=e??1,a=n??0;let r=v(this,cr),i=-1,o=r===-1;const c=async()=>{if(o)return null;const{blockNumber:h,nonce:m}=await zt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(m<this.nonce){r=h;return}if(o)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(i===-1&&(i=r-3,i<v(this,cr)&&(i=v(this,cr)));i<=h;){if(o)return null;const y=await this.provider.getBlock(i,!0);if(y==null)return;for(const w of y)if(w===this.hash)return;for(let w=0;w<y.length;w++){const b=await y.getTransaction(w);if(b.from===this.from&&b.nonce===this.nonce){if(o)return null;const g=await this.provider.getTransactionReceipt(b.hash);if(g==null||h-g.blockNumber+1<s)return;let x="replaced";b.data===this.data&&b.to===this.to&&b.value===this.value?x="repriced":b.data==="0x"&&b.from===b.to&&b.value===fT&&(x="cancelled"),Q(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:x==="replaced"||x==="cancelled",reason:x,replacement:b.replaceableTransaction(r),hash:b.hash,receipt:g})}}i++}},u=h=>{if(h==null||h.status!==0)return h;Q(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},d=await this.provider.getTransactionReceipt(this.hash);if(s===0)return u(d);if(d){if(s===1||await d.confirmations()>=s)return u(d)}else if(await c(),s===0)return null;return await new Promise((h,m)=>{const p=[],y=()=>{p.forEach(b=>b())};if(p.push(()=>{o=!0}),a>0){const b=setTimeout(()=>{y(),m(Ie("wait for transaction timeout","TIMEOUT"))},a);p.push(()=>{clearTimeout(b)})}const w=async b=>{if(await b.confirmations()>=s){y();try{h(u(b))}catch(g){m(g)}}};if(p.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),r>=0){const b=async()=>{try{await c()}catch(g){if(Nt(g,"TRANSACTION_REPLACED")){y(),m(g);return}}o||this.provider.once("block",b)};p.push(()=>{this.provider.off("block",b)}),this.provider.once("block",b)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),pT(this)}reorderedEvent(e){return Q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Q(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),mT(this,e)}replaceableTransaction(e){M(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new Xb(this,this.provider);return S(n,cr,e),n}};cr=new WeakMap;let rd=Xb;function fk(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function mT(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function pT(t){return{orphan:"drop-transaction",tx:t}}function hk(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class pb extends Gd{constructor(n,s,a){super(n,n.provider);P(this,"interface");P(this,"fragment");P(this,"args");const r=s.decodeEventLog(a,n.data,n.topics);ee(this,{args:r,fragment:a,interface:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class gT extends Gd{constructor(n,s){super(n,n.provider);P(this,"error");ee(this,{error:s})}}var Fl;class mk extends hT{constructor(n,s,a){super(a,s);z(this,Fl);S(this,Fl,n)}get logs(){return super.logs.map(n=>{const s=n.topics.length?v(this,Fl).getEvent(n.topics[0]):null;if(s)try{return new pb(n,v(this,Fl),s)}catch(a){return new gT(n,a)}return n})}}Fl=new WeakMap;var vd;class gb extends rd{constructor(n,s,a){super(a,s);z(this,vd);S(this,vd,n)}async wait(n,s){const a=await super.wait(n,s);return a==null?null:new mk(v(this,vd),this.provider,a)}}vd=new WeakMap;class yT extends _j{constructor(n,s,a,r){super(n,s,a);P(this,"log");ee(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class pk extends yT{constructor(e,n,s,a,r){super(e,n,s,new pb(r,e.interface,a));const i=e.interface.decodeEventLog(a,this.log.data,this.log.topics);ee(this,{args:i,fragment:a})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Hw=BigInt(0);function xT(t){return t&&typeof t.call=="function"}function bT(t){return t&&typeof t.estimateGas=="function"}function tp(t){return t&&typeof t.resolveName=="function"}function vT(t){return t&&typeof t.sendTransaction=="function"}function wT(t){if(t!=null){if(tp(t))return t;if(t.provider)return t.provider}}var wd;class gk{constructor(e,n,s){z(this,wd);P(this,"fragment");if(ee(this,{fragment:n}),n.inputs.length<s.length)throw new Error("too many arguments");const a=mo(e.runner,"resolveName"),r=tp(a)?a:null;S(this,wd,async function(){const i=await Promise.all(n.inputs.map((o,c)=>s[c]==null?null:o.walkAsync(s[c],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(h=>Ft(h,r))):Ft(f,r):f)));return e.interface.encodeFilterTopics(n,i)}())}getTopicFilter(){return v(this,wd)}}wd=new WeakMap;function mo(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Si(t){return t==null?null:t.provider||null}async function AT(t,e){const n=Bt.dereference(t,"overrides");M(typeof n=="object","invalid overrides parameter","overrides",t);const s=$h(n);return M(s.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",s.to),M(s.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",s.data),s.from&&(s.from=s.from),s}async function yk(t,e,n){const s=mo(t,"resolveName"),a=tp(s)?s:null;return await Promise.all(e.map((r,i)=>r.walkAsync(n[i],(o,c)=>(c=Bt.dereference(c,o),o==="address"?Ft(c,a):c))))}function xk(t){const e=async function(i){const o=await AT(i,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await Ft(o.from,wT(t.runner)));const c=t.interface,u=$(o.value||Hw,"overrides.value")===Hw,d=(o.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!d&&!u&&M(!1,"cannot send data to receive or send value to non-payable fallback","overrides",i),M(c.fallback||d,"cannot send data to receive-only contract","overrides.data",o.data);const f=c.receive||c.fallback&&c.fallback.payable;return M(f||u,"cannot send value to non-payable fallback","overrides.value",o.value),M(c.fallback||d,"cannot send data to receive-only contract","overrides.data",o.data),o},n=async function(i){const o=mo(t.runner,"call");Q(xT(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(i);try{return await o.call(c)}catch(u){throw tb(u)&&u.data?t.interface.makeError(u.data,c):u}},s=async function(i){const o=t.runner;Q(vT(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await o.sendTransaction(await e(i)),u=Si(t.runner);return new gb(t.interface,u,c)},a=async function(i){const o=mo(t.runner,"estimateGas");return Q(bT(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(i))},r=async i=>await s(i);return ee(r,{_contract:t,estimateGas:a,populateTransaction:e,send:s,staticCall:n}),r}function bk(t,e){const n=function(...u){const d=t.interface.getFunction(e,u);return Q(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),d},s=async function(...u){const d=n(...u);let f={};if(d.inputs.length+1===u.length&&(f=await AT(u.pop()),f.from&&(f.from=await Ft(f.from,wT(t.runner)))),d.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await yk(t.runner,d.inputs,u);return Object.assign({},f,await zt({to:t.getAddress(),data:t.interface.encodeFunctionData(d,h)}))},a=async function(...u){const d=await o(...u);return d.length===1?d[0]:d},r=async function(...u){const d=t.runner;Q(vT(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await s(...u)),h=Si(t.runner);return new gb(t.interface,h,f)},i=async function(...u){const d=mo(t.runner,"estimateGas");return Q(bT(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await s(...u))},o=async function(...u){const d=mo(t.runner,"call");Q(xT(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await s(...u);let h="0x";try{h=await d.call(f)}catch(p){throw tb(p)&&p.data?t.interface.makeError(p.data,f):p}const m=n(...u);return t.interface.decodeFunctionResult(m,h)},c=async(...u)=>n(...u).constant?await a(...u):await r(...u);return ee(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:i,populateTransaction:s,send:r,staticCall:a,staticCallResult:o}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return Q(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function vk(t,e){const n=function(...a){const r=t.interface.getEvent(e,a);return Q(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:a}}),r},s=function(...a){return new gk(t,n(...a),a)};return ee(s,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=>{const a=t.interface.getEvent(e);return Q(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),a}}),s}const Wh=Symbol.for("_ethersInternal_contract"),NT=new WeakMap;function wk(t,e){NT.set(t[Wh],e)}function un(t){return NT.get(t[Wh])}function Ak(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function yb(t,e){let n,s=null;if(Array.isArray(e)){const r=function(i){if(ke(i,32))return i;const o=t.interface.getEvent(i);return M(o,"unknown fragment","name",i),o.topicHash};n=e.map(i=>i==null?null:Array.isArray(i)?i.map(r):r(i))}else e==="*"?n=[null]:typeof e=="string"?ke(e,32)?n=[e]:(s=t.interface.getEvent(e),M(s,"unknown fragment","event",e),n=[s.topicHash]):Ak(e)?n=await e.getTopicFilter():"fragment"in e?(s=e.fragment,n=[s.topicHash]):M(!1,"unknown event name","event",e);n=n.map(r=>{if(r==null)return null;if(Array.isArray(r)){const i=Array.from(new Set(r.map(o=>o.toLowerCase())).values());return i.length===1?i[0]:(i.sort(),i)}return r.toLowerCase()});const a=n.map(r=>r==null?"null":Array.isArray(r)?r.join("|"):r).join("&");return{fragment:s,tag:a,topics:n}}async function lu(t,e){const{subs:n}=un(t);return n.get((await yb(t,e)).tag)||null}async function Vw(t,e,n){const s=Si(t.runner);Q(s,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:a,tag:r,topics:i}=await yb(t,n),{addr:o,subs:c}=un(t);let u=c.get(r);if(!u){const f={address:o||t,topics:i},h=w=>{let b=a;if(b==null)try{b=t.interface.getEvent(w.topics[0])}catch{}if(b){const g=b,x=a?t.interface.decodeEventLog(a,w.data,w.topics):[];py(t,n,x,A=>new pk(t,A,n,g,w))}else py(t,n,[],g=>new yT(t,g,n,w))};let m=[];u={tag:r,listeners:[],start:()=>{m.length||m.push(s.on(f,h))},stop:async()=>{if(m.length==0)return;let w=m;m=[],await Promise.all(w),s.off(f,h)}},c.set(r,u)}return u}let my=Promise.resolve();async function Nk(t,e,n,s){await my;const a=await lu(t,e);if(!a)return!1;const r=a.listeners.length;return a.listeners=a.listeners.filter(({listener:i,once:o})=>{const c=Array.from(n);s&&c.push(s(o?null:i));try{i.call(t,...c)}catch{}return!o}),a.listeners.length===0&&(a.stop(),un(t).subs.delete(a.tag)),r>0}async function py(t,e,n,s){try{await my}catch{}const a=Nk(t,e,n,s);return my=a,await a}const Sf=["then"];var xA;xA=Wh;const Mu=class Mu{constructor(e,n,s,a){P(this,"target");P(this,"interface");P(this,"runner");P(this,"filters");P(this,xA);P(this,"fallback");M(typeof e=="string"||CS(e),"invalid value for Contract target","target",e),s==null&&(s=null);const r=hy.from(n);ee(this,{target:e,runner:s,interface:r}),Object.defineProperty(this,Wh,{value:{}});let i,o=null,c=null;if(a){const f=Si(s);c=new gb(this.interface,f,a)}let u=new Map;if(typeof e=="string")if(ke(e))o=e,i=Promise.resolve(e);else{const f=mo(s,"resolveName");if(!tp(f))throw Ie("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=f.resolveName(e).then(h=>{if(h==null)throw Ie("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return un(this).addr=h,h})}else i=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return un(this).addr=f,f});wk(this,{addrPromise:i,addr:o,deployTx:c,subs:u});const d=new Proxy({},{get:(f,h,m)=>{if(typeof h=="symbol"||Sf.indexOf(h)>=0)return Reflect.get(f,h,m);try{return this.getEvent(h)}catch(p){if(!Nt(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(f,h)=>Sf.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return ee(this,{filters:d}),ee(this,{fallback:r.receive||r.fallback?xk(this):null}),new Proxy(this,{get:(f,h,m)=>{if(typeof h=="symbol"||h in f||Sf.indexOf(h)>=0)return Reflect.get(f,h,m);try{return f.getFunction(h)}catch(p){if(!Nt(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(f,h)=>typeof h=="symbol"||h in f||Sf.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new Mu(this.target,this.interface,e)}attach(e){return new Mu(e,this.interface,this.runner)}async getAddress(){return await un(this).addrPromise}async getDeployedCode(){const e=Si(this.runner);Q(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const s=Si(this.runner);return Q(s!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((a,r)=>{const i=async()=>{try{if(await this.getDeployedCode()!=null)return a(this);s.once("block",i)}catch(o){r(o)}};i()})}deploymentTransaction(){return un(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),bk(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),vk(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,s){n==null&&(n=0),s==null&&(s="latest");const{addr:a,addrPromise:r}=un(this),i=a||await r,{fragment:o,topics:c}=await yb(this,e),u={address:i,topics:c,fromBlock:n,toBlock:s},d=Si(this.runner);return Q(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(u)).map(f=>{let h=o;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new pb(f,this.interface,h)}catch(m){return new gT(f,m)}return new Gd(f,d)})}async on(e,n){const s=await Vw(this,"on",e);return s.listeners.push({listener:n,once:!1}),s.start(),this}async once(e,n){const s=await Vw(this,"once",e);return s.listeners.push({listener:n,once:!0}),s.start(),this}async emit(e,...n){return await py(this,e,n,null)}async listenerCount(e){if(e){const a=await lu(this,e);return a?a.listeners.length:0}const{subs:n}=un(this);let s=0;for(const{listeners:a}of n.values())s+=a.length;return s}async listeners(e){if(e){const a=await lu(this,e);return a?a.listeners.map(({listener:r})=>r):[]}const{subs:n}=un(this);let s=[];for(const{listeners:a}of n.values())s=s.concat(a.map(({listener:r})=>r));return s}async off(e,n){const s=await lu(this,e);if(!s)return this;if(n){const a=s.listeners.map(({listener:r})=>r).indexOf(n);a>=0&&s.listeners.splice(a,1)}return(n==null||s.listeners.length===0)&&(s.stop(),un(this).subs.delete(s.tag)),this}async removeAllListeners(e){if(e){const n=await lu(this,e);if(!n)return this;n.stop(),un(this).subs.delete(n.tag)}else{const{subs:n}=un(this);for(const{tag:s,stop:a}of n.values())a(),n.delete(s)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Mu{constructor(a,r=null){super(a,e,r)}}return n}static from(e,n,s){return s==null&&(s=null),new this(e,n,s)}};let gy=Mu;function Ek(){return gy}class Cu extends Ek(){}function vg(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):M(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class jk{constructor(e){P(this,"name");ee(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const ET=new RegExp("^(ipfs)://(.*)$","i"),Iw=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ET,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var ur,Fi,dr,Lo,ym,jT;const al=class al{constructor(e,n,s){z(this,dr);P(this,"provider");P(this,"address");P(this,"name");z(this,ur);z(this,Fi);ee(this,{provider:e,address:n,name:s}),S(this,ur,null),S(this,Fi,new Cu(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return v(this,ur)==null&&S(this,ur,(async()=>{try{return await v(this,Fi).supportsInterface("0x9061b923")}catch(e){if(Nt(e,"CALL_EXCEPTION"))return!1;throw S(this,ur,null),e}})()),await v(this,ur)}async getAddress(e){if(e==null&&(e=60),e===60)try{const r=await q(this,dr,Lo).call(this,"addr(bytes32)");return r==null||r===Xu?null:r}catch(r){if(Nt(r,"CALL_EXCEPTION"))return null;throw r}if(e>=0&&e<2147483648){let r=e+2147483648;const i=await q(this,dr,Lo).call(this,"addr(bytes32,uint)",[r]);if(ke(i,20))return Ee(i)}let n=null;for(const r of this.provider.plugins)if(r instanceof jk&&r.supportsCoinType(e)){n=r;break}if(n==null)return null;const s=await q(this,dr,Lo).call(this,"addr(bytes32,uint)",[e]);if(s==null||s==="0x")return null;const a=await n.decodeAddress(e,s);if(a!=null)return a;Q(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:s}})}async getText(e){const n=await q(this,dr,Lo).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await q(this,dr,Lo).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const a=n[1]==="e3010170"?"ipfs":"ipns",r=parseInt(n[4],16);if(n[5].length===r*2)return`${a}://${SD("0x"+n[2])}`}const s=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(s&&s[1].length===64)return`bzz://${s[1]}`;Q(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let s=0;s<Iw.length;s++){const a=n.match(Iw[s]);if(a==null)continue;const r=a[1].toLowerCase();switch(r){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const i=vg(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:i}),{linkage:e,url:i}}case"erc721":case"erc1155":{const i=r==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:r,value:n});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(a[2]||"").split("/");if(c.length!==2)return e.push({type:`!${r}caip`,value:a[2]||""}),{url:null,linkage:e};const u=c[1],d=new Cu(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(r==="erc721"){const y=await d.ownerOf(u);if(o!==y)return e.push({type:"!owner",value:y}),{url:null,linkage:e};e.push({type:"owner",value:y})}else if(r==="erc1155"){const y=await d.balanceOf(o,u);if(!y)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:y.toString()})}let f=await d[i](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),r==="erc1155"&&(f=f.replace("{id}",_r(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=vg(f)),e.push({type:"metadata-url",value:f});let h={};const m=await new Gr(f).send();m.assertOk();try{h=m.bodyJson}catch{try{e.push({type:"!metadata",value:m.bodyText})}catch{const b=m.body;return b&&e.push({type:"!metadata",value:Y(b)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let p=h.image;if(typeof p!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(ET)==null)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=vg(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),s=n.getPlugin("org.ethers.plugins.network.Ens");return Q(s,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),s.address}static async fromName(e,n){var a;let s=n;for(;;){if(s===""||s==="."||n!=="eth"&&s==="eth")return null;const r=await q(a=al,ym,jT).call(a,e,s);if(r!=null){const i=new al(e,r,n);return s!==n&&!await i.supportsWildcard()?null:i}s=s.split(".").slice(1).join(".")}}};ur=new WeakMap,Fi=new WeakMap,dr=new WeakSet,Lo=async function(e,n){n=(n||[]).slice();const s=v(this,Fi).interface;n.unshift(dy(this.name));let a=null;await this.supportsWildcard()&&(a=s.getFunction(e),Q(a,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[VM(this.name,255),s.encodeFunctionData(a,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const r=await v(this,Fi)[e](...n);return a?s.decodeFunctionResult(a,r)[0]:r}catch(r){if(!Nt(r,"CALL_EXCEPTION"))throw r}return null},ym=new WeakSet,jT=async function(e,n){const s=await al.getEnsAddress(e);try{const r=await new Cu(s,["function resolver(bytes32) view returns (address)"],e).resolver(dy(n),{enableCcipRead:!0});return r===Xu?null:r}catch(a){throw a}return null},z(al,ym);let em=al;const Fw=BigInt(0);function ye(t,e){return function(n){return n==null?e:t(n)}}function id(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(s=>t(s))}}function Qd(t,e){return n=>{const s={};for(const a in t){let r=a;if(e&&a in e&&!(r in n)){for(const i of e[a])if(i in n){r=i;break}}try{const i=t[a](n[r]);i!==void 0&&(s[a]=i)}catch(i){const o=i instanceof Error?i.message:"not-an-error";Q(!1,`invalid value for value.${a} (${o})`,"BAD_DATA",{value:n})}}return s}}function Sk(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}M(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function wc(t){return M(ke(t,!0),"invalid data","value",t),t}function vt(t){return M(ke(t,32),"invalid hash","value",t),t}const Tk=Qd({address:Ee,blockHash:vt,blockNumber:ce,data:wc,index:ce,removed:ye(Sk,!1),topics:id(vt),transactionHash:vt,transactionIndex:ce},{index:["logIndex"]});function Ck(t){return Tk(t)}const Rk=Qd({hash:ye(vt),parentHash:vt,parentBeaconBlockRoot:ye(vt,null),number:ce,timestamp:ce,nonce:ye(wc),difficulty:$,gasLimit:$,gasUsed:$,stateRoot:ye(vt,null),receiptsRoot:ye(vt,null),blobGasUsed:ye($,null),excessBlobGas:ye($,null),miner:ye(Ee),prevRandao:ye(vt,null),extraData:wc,baseFeePerGas:ye($)},{prevRandao:["mixHash"]});function Ok(t){const e=Rk(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:ST(n)),e}const Dk=Qd({transactionIndex:ce,blockNumber:ce,transactionHash:vt,address:Ee,topics:id(vt),data:wc,index:ce,blockHash:vt},{index:["logIndex"]});function Bk(t){return Dk(t)}const Mk=Qd({to:ye(Ee,null),from:ye(Ee,null),contractAddress:ye(Ee,null),index:ce,root:ye(Y),gasUsed:$,blobGasUsed:ye($,null),logsBloom:ye(wc),blockHash:vt,hash:vt,logs:id(Bk),blockNumber:ce,cumulativeGasUsed:$,effectiveGasPrice:ye($),blobGasPrice:ye($,null),status:ye(ce),type:ye(ce,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function kk(t){return Mk(t)}function ST(t){t.to&&$(t.to)===Fw&&(t.to="0x0000000000000000000000000000000000000000");const e=Qd({hash:vt,index:ye(ce,void 0),type:n=>n==="0x"||n==null?0:ce(n),accessList:ye(Ao,null),blobVersionedHashes:ye(id(vt,!0),null),authorizationList:ye(id(n=>{let s;if(n.signature)s=n.signature;else{let a=n.yParity;a==="0x1b"?a=0:a==="0x1c"&&(a=1),s=Object.assign({},n,{yParity:a})}return{address:Ee(n.address),chainId:$(n.chainId),nonce:$(n.nonce),signature:tn.from(s)}},!1),null),blockHash:ye(vt,null),blockNumber:ye(ce,null),transactionIndex:ye(ce,null),from:Ee,gasPrice:ye($),maxPriorityFeePerGas:ye($),maxFeePerGas:ye($),maxFeePerBlobGas:ye($,null),gasLimit:$,to:ye(Ee,null),value:$,nonce:ce,data:wc,creates:ye(Ee,null),chainId:ye($,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=A5(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=tn.from(t.signature):e.signature=tn.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&$(e.blockHash)===Fw&&(e.blockHash=null),e}const Pk="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class qd{constructor(e){P(this,"name");ee(this,{name:e})}clone(){return new qd(this.name)}}class np extends qd{constructor(n,s){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);P(this,"effectiveBlock");P(this,"txBase");P(this,"txCreate");P(this,"txDataZero");P(this,"txDataNonzero");P(this,"txAccessListStorageKey");P(this,"txAccessListAddress");const a={effectiveBlock:n};function r(i,o){let c=(s||{})[i];c==null&&(c=o),M(typeof c=="number",`invalud value for ${i}`,"costs",s),a[i]=c}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),ee(this,a)}clone(){return new np(this.effectiveBlock,this)}}class sp extends qd{constructor(n,s){super("org.ethers.plugins.network.Ens");P(this,"address");P(this,"targetNetwork");ee(this,{address:n||Pk,targetNetwork:s??1})}clone(){return new sp(this.address,this.targetNetwork)}}var Ad,Nd;class Uk extends qd{constructor(n,s){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");z(this,Ad);z(this,Nd);S(this,Ad,n),S(this,Nd,s)}get url(){return v(this,Ad)}get processFunc(){return v(this,Nd)}clone(){return this}}Ad=new WeakMap,Nd=new WeakMap;const wg=new Map;var _l,Gl,fr;const rl=class rl{constructor(e,n){z(this,_l);z(this,Gl);z(this,fr);S(this,_l,e),S(this,Gl,$(n)),S(this,fr,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return v(this,_l)}set name(e){S(this,_l,e)}get chainId(){return v(this,Gl)}set chainId(e){S(this,Gl,$(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===$(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===$(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===$(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(v(this,fr).values())}attachPlugin(e){if(v(this,fr).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return v(this,fr).set(e.name,e.clone()),this}getPlugin(e){return v(this,fr).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new rl(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new np;let s=n.txBase;if(e.to==null&&(s+=n.txCreate),e.data)for(let a=2;a<e.data.length;a+=2)e.data.substring(a,a+2)==="00"?s+=n.txDataZero:s+=n.txDataNonzero;if(e.accessList){const a=Ao(e.accessList);for(const r in a)s+=n.txAccessListAddress+n.txAccessListStorageKey*a[r].storageKeys.length}return s}static from(e){if(Lk(),e==null)return rl.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=wg.get(e);if(n)return n();if(typeof e=="bigint")return new rl("unknown",e);M(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){M(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new rl(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new sp(e.ensAddress,e.ensNetwork)),n}M(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const s=wg.get(e);s&&M(!1,`conflicting network for ${JSON.stringify(s.name)}`,"nameOrChainId",e),wg.set(e,n)}};_l=new WeakMap,Gl=new WeakMap,fr=new WeakMap;let Hs=rl;function _w(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const s=n.split(".");if(s.length===1&&s.push(""),s.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;s[1].length<e;)s[1]+="0";if(s[1].length>9){let a=BigInt(s[1].substring(0,9));s[1].substring(9).match(/^0+$/)||a++,s[1]=a.toString()}return BigInt(s[0]+s[1])}function Gw(t){return new Uk(t,async(e,n,s)=>{s.setHeader("User-Agent","ethers");let a;try{const[r,i]=await Promise.all([s.send(),e()]);a=r;const o=a.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:_w(o.maxFee,9),maxPriorityFeePerGas:_w(o.maxPriorityFee,9)}}catch(r){Q(!1,`error encountered with polygon gas station (${JSON.stringify(s.url)})`,"SERVER_ERROR",{request:s,response:a,error:r})}})}let Qw=!1;function Lk(){if(Qw)return;Qw=!0;function t(e,n,s){const a=function(){const r=new Hs(e,n);return s.ensNetwork!=null&&r.attachPlugin(new sp(null,s.ensNetwork)),r.attachPlugin(new np),(s.plugins||[]).forEach(i=>{r.attachPlugin(i)}),r};Hs.register(e,a),Hs.register(n,a),s.altNames&&s.altNames.forEach(r=>{Hs.register(r,a)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[Gw("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Gw("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function yy(t){return JSON.parse(JSON.stringify(t))}var ca,kn,hr,Rs,Ql,th;class zk{constructor(e){z(this,Ql);z(this,ca);z(this,kn);z(this,hr);z(this,Rs);S(this,ca,e),S(this,kn,null),S(this,hr,4e3),S(this,Rs,-2)}get pollingInterval(){return v(this,hr)}set pollingInterval(e){S(this,hr,e)}start(){v(this,kn)||(S(this,kn,v(this,ca)._setTimeout(q(this,Ql,th).bind(this),v(this,hr))),q(this,Ql,th).call(this))}stop(){v(this,kn)&&(v(this,ca)._clearTimeout(v(this,kn)),S(this,kn,null))}pause(e){this.stop(),e&&S(this,Rs,-2)}resume(){this.start()}}ca=new WeakMap,kn=new WeakMap,hr=new WeakMap,Rs=new WeakMap,Ql=new WeakSet,th=async function(){try{const e=await v(this,ca).getBlockNumber();if(v(this,Rs)===-2){S(this,Rs,e);return}if(e!==v(this,Rs)){for(let n=v(this,Rs)+1;n<=e;n++){if(v(this,kn)==null)return;await v(this,ca).emit("block",n)}S(this,Rs,e)}}catch{}v(this,kn)!=null&&S(this,kn,v(this,ca)._setTimeout(q(this,Ql,th).bind(this),v(this,hr)))};var _i,Gi,mr;class xb{constructor(e){z(this,_i);z(this,Gi);z(this,mr);S(this,_i,e),S(this,mr,!1),S(this,Gi,n=>{this._poll(n,v(this,_i))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){v(this,mr)||(S(this,mr,!0),v(this,Gi).call(this,-2),v(this,_i).on("block",v(this,Gi)))}stop(){v(this,mr)&&(S(this,mr,!1),v(this,_i).off("block",v(this,Gi)))}pause(e){this.stop()}resume(){this.start()}}_i=new WeakMap,Gi=new WeakMap,mr=new WeakMap;var ql,ua;class Hk extends xb{constructor(n,s){super(n);z(this,ql);z(this,ua);S(this,ql,s),S(this,ua,-2)}pause(n){n&&S(this,ua,-2),super.pause(n)}async _poll(n,s){const a=await s.getBlock(v(this,ql));a!=null&&(v(this,ua)===-2?S(this,ua,a.number):a.number>v(this,ua)&&(s.emit(v(this,ql),a.number),S(this,ua,a.number)))}}ql=new WeakMap,ua=new WeakMap;var xm;class Vk extends xb{constructor(n,s){super(n);z(this,xm);S(this,xm,yy(s))}async _poll(n,s){throw new Error("@TODO")}}xm=new WeakMap;var Kl;class Ik extends xb{constructor(n,s){super(n);z(this,Kl);S(this,Kl,s)}async _poll(n,s){const a=await s.getTransactionReceipt(v(this,Kl));a&&s.emit(v(this,Kl),a)}}Kl=new WeakMap;var da,Yl,Jl,pr,Pn,bm,TT;class bb{constructor(e,n){z(this,bm);z(this,da);z(this,Yl);z(this,Jl);z(this,pr);z(this,Pn);S(this,da,e),S(this,Yl,yy(n)),S(this,Jl,q(this,bm,TT).bind(this)),S(this,pr,!1),S(this,Pn,-2)}start(){v(this,pr)||(S(this,pr,!0),v(this,Pn)===-2&&v(this,da).getBlockNumber().then(e=>{S(this,Pn,e)}),v(this,da).on("block",v(this,Jl)))}stop(){v(this,pr)&&(S(this,pr,!1),v(this,da).off("block",v(this,Jl)))}pause(e){this.stop(),e&&S(this,Pn,-2)}resume(){this.start()}}da=new WeakMap,Yl=new WeakMap,Jl=new WeakMap,pr=new WeakMap,Pn=new WeakMap,bm=new WeakSet,TT=async function(e){if(v(this,Pn)===-2)return;const n=yy(v(this,Yl));n.fromBlock=v(this,Pn)+1,n.toBlock=e;const s=await v(this,da).getLogs(n);if(s.length===0){v(this,Pn)<e-60&&S(this,Pn,e-60);return}for(const a of s)v(this,da).emit(v(this,Yl),a),S(this,Pn,a.blockNumber)};const Fk=BigInt(2),_k=10;function Tf(t){return t&&typeof t.then=="function"}function nh(t,e){return t+":"+JSON.stringify(e,(n,s)=>{if(s==null)return"null";if(typeof s=="bigint")return`bigint:${s.toString()}`;if(typeof s=="string")return s.toLowerCase();if(typeof s=="object"&&!Array.isArray(s)){const a=Object.keys(s);return a.sort(),a.reduce((r,i)=>(r[i]=s[i],r),{})}return s})}class CT{constructor(e){P(this,"name");ee(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Gk(t){return JSON.parse(JSON.stringify(t))}function xy(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Ag(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(ke(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:nh("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:nh("orphan",n),filter:Gk(n)}}if(t.address||t.topics){const n=t,s={topics:(n.topics||[]).map(a=>a==null?null:Array.isArray(a)?xy(a.map(r=>r.toLowerCase())):a.toLowerCase())};if(n.address){const a=[],r=[],i=o=>{ke(o)?a.push(o):r.push((async()=>{a.push(await Ft(o,e))})())};Array.isArray(n.address)?n.address.forEach(i):i(n.address),r.length&&await Promise.all(r),s.address=xy(a.map(o=>o.toLowerCase()))}return{filter:s,tag:nh("event",s),type:"event"}}M(!1,"unknown ProviderEvent","event",t)}function Ng(){return new Date().getTime()}const Qk={cacheTimeout:250,pollingInterval:4e3};var Ct,gr,Rt,Zl,mn,Qi,yr,fa,Ed,Un,Xl,$l,he,cn,by,vy,cu,wy,uu,sh;class qk{constructor(e,n){z(this,he);z(this,Ct);z(this,gr);z(this,Rt);z(this,Zl);z(this,mn);z(this,Qi);z(this,yr);z(this,fa);z(this,Ed);z(this,Un);z(this,Xl);z(this,$l);if(S(this,$l,Object.assign({},Qk,n||{})),e==="any")S(this,Qi,!0),S(this,mn,null);else if(e){const s=Hs.from(e);S(this,Qi,!1),S(this,mn,Promise.resolve(s)),setTimeout(()=>{this.emit("network",s,null)},0)}else S(this,Qi,!1),S(this,mn,null);S(this,fa,-1),S(this,yr,new Map),S(this,Ct,new Map),S(this,gr,new Map),S(this,Rt,null),S(this,Zl,!1),S(this,Ed,1),S(this,Un,new Map),S(this,Xl,!1)}get pollingInterval(){return v(this,$l).pollingInterval}get provider(){return this}get plugins(){return Array.from(v(this,gr).values())}attachPlugin(e){if(v(this,gr).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return v(this,gr).set(e.name,e.connect(this)),this}getPlugin(e){return v(this,gr).get(e)||null}get disableCcipRead(){return v(this,Xl)}set disableCcipRead(e){S(this,Xl,!!e)}async ccipReadFetch(e,n,s){if(this.disableCcipRead||s.length===0||e.to==null)return null;const a=e.to.toLowerCase(),r=n.toLowerCase(),i=[];for(let o=0;o<s.length;o++){const c=s[o],u=c.replace("{sender}",a).replace("{data}",r),d=new Gr(u);c.indexOf("{data}")===-1&&(d.body={data:r,sender:a}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:o,urls:s});let f="unknown error",h;try{h=await d.send()}catch(m){i.push(m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:m}});continue}try{const m=h.bodyJson;if(m.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:m}),m.data;m.message&&(f=m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:m})}catch{}Q(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),i.push(f)}Q(!1,`error encountered during CCIP fetch: ${i.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:s,errorMessages:i}})}_wrapBlock(e,n){return new dk(Ok(e),this)}_wrapLog(e,n){return new Gd(Ck(e),this)}_wrapTransactionReceipt(e,n){return new hT(kk(e),this)}_wrapTransactionResponse(e,n){return new rd(ST(e),this)}_detectNetwork(){Q(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Q(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=ce(await q(this,he,cn).call(this,{method:"getBlockNumber"}),"%response");return v(this,fa)>=0&&S(this,fa,e),e}_getAddress(e){return Ft(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(ke(e))return ke(e,32)?e:ds(e);if(typeof e=="bigint"&&(e=ce(e,"blockTag")),typeof e=="number")return e>=0?ds(e):v(this,fa)>=0?ds(v(this,fa)+e):this.getBlockNumber().then(n=>ds(n+e));M(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?xy(c.map(u=>u.toLowerCase())):c.toLowerCase()),s="blockHash"in e?e.blockHash:void 0,a=(c,u,d)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(s&&(u!=null||d!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),n.length&&(h.topics=n),u&&(h.fromBlock=u),d&&(h.toBlock=d),s&&(h.blockHash=s),h};let r=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)r.push(this._getAddress(c));else r.push(this._getAddress(e.address));let i;"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),r.filter(c=>typeof c!="string").length||i!=null&&typeof i!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(r),i,o]).then(c=>a(c[0],c[1],c[2])):a(r,i,o)}_getTransactionRequest(e){const n=$h(e),s=[];if(["to","from"].forEach(a=>{if(n[a]==null)return;const r=Ft(n[a],this);Tf(r)?s.push(async function(){n[a]=await r}()):n[a]=r}),n.blockTag!=null){const a=this._getBlockTag(n.blockTag);Tf(a)?s.push(async function(){n.blockTag=await a}()):n.blockTag=a}return s.length?async function(){return await Promise.all(s),n}():n}async getNetwork(){if(v(this,mn)==null){const a=(async()=>{try{const r=await this._detectNetwork();return this.emit("network",r,null),r}catch(r){throw v(this,mn)===a&&S(this,mn,null),r}})();return S(this,mn,a),(await a).clone()}const e=v(this,mn),[n,s]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==s.chainId&&(v(this,Qi)?(this.emit("network",s,n),v(this,mn)===e&&S(this,mn,Promise.resolve(s))):Q(!1,`network changed: ${n.chainId} => ${s.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:a,gasPrice:r,priorityFee:i}=await zt({_block:q(this,he,wy).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await q(this,he,cn).call(this,{method:"getGasPrice"});return $(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await q(this,he,cn).call(this,{method:"getPriorityFee"});return $(d,"%response")}catch{}return null})()});let o=null,c=null;const u=this._wrapBlock(a,e);return u&&u.baseFeePerGas&&(c=i??BigInt("1000000000"),o=u.baseFeePerGas*Fk+c),new zw(r,o,c)},s=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(s){const a=new Gr(s.url),r=await s.processFunc(n,this,a);return new zw(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Tf(n)&&(n=await n),$(await q(this,he,cn).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:s}=await zt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await q(this,he,vy).call(this,q(this,he,by).call(this,n,s,e.enableCcipRead?0:-1))}async getBalance(e,n){return $(await q(this,he,cu).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return ce(await q(this,he,cu).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return Y(await q(this,he,cu).call(this,{method:"getCode"},e,n))}async getStorage(e,n,s){const a=$(n,"position");return Y(await q(this,he,cu).call(this,{method:"getStorage",position:a},e,s))}async broadcastTransaction(e){const{blockNumber:n,hash:s,network:a}=await zt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),r=Qh.from(e);if(r.hash!==s)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(r,a).replaceableTransaction(n)}async getBlock(e,n){const{network:s,params:a}=await zt({network:this.getNetwork(),params:q(this,he,wy).call(this,e,!!n)});return a==null?null:this._wrapBlock(a,s)}async getTransaction(e){const{network:n,params:s}=await zt({network:this.getNetwork(),params:q(this,he,cn).call(this,{method:"getTransaction",hash:e})});return s==null?null:this._wrapTransactionResponse(s,n)}async getTransactionReceipt(e){const{network:n,params:s}=await zt({network:this.getNetwork(),params:q(this,he,cn).call(this,{method:"getTransactionReceipt",hash:e})});if(s==null)return null;if(s.gasPrice==null&&s.effectiveGasPrice==null){const a=await q(this,he,cn).call(this,{method:"getTransaction",hash:e});if(a==null)throw new Error("report this; could not find tx or effectiveGasPrice");s.effectiveGasPrice=a.gasPrice}return this._wrapTransactionReceipt(s,n)}async getTransactionResult(e){const{result:n}=await zt({network:this.getNetwork(),result:q(this,he,cn).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:Y(n)}async getLogs(e){let n=this._getFilter(e);Tf(n)&&(n=await n);const{network:s,params:a}=await zt({network:this.getNetwork(),params:q(this,he,cn).call(this,{method:"getLogs",filter:n})});return a.map(r=>this._wrapLog(r,s))}_getProvider(e){Q(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await em.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=Ee(e);const n=dy(e.substring(2).toLowerCase()+".addr.reverse");try{const s=await em.getEnsAddress(this),r=await new Cu(s,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(r==null||r===Xu)return null;const o=await new Cu(r,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(o)!==e?null:o}catch(s){if(Nt(s,"BAD_DATA")&&s.value==="0x"||Nt(s,"CALL_EXCEPTION"))return null;throw s}return null}async waitForTransaction(e,n,s){const a=n??1;return a===0?this.getTransactionReceipt(e):new Promise(async(r,i)=>{let o=null;const c=async u=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&u-d.blockNumber+1>=a){r(d),o&&(clearTimeout(o),o=null);return}}catch(d){console.log("EEE",d)}this.once("block",c)};s!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",c),i(Ie("timeout","TIMEOUT",{reason:"timeout"})))},s)),c(await this.getBlockNumber())})}async waitForBlock(e){Q(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=v(this,Un).get(e);n&&(n.timer&&clearTimeout(n.timer),v(this,Un).delete(e))}_setTimeout(e,n){n==null&&(n=0);const s=Vc(this,Ed)._++,a=()=>{v(this,Un).delete(s),e()};if(this.paused)v(this,Un).set(s,{timer:null,func:a,time:n});else{const r=setTimeout(a,n);v(this,Un).set(s,{timer:r,func:a,time:Ng()})}return s}_forEachSubscriber(e){for(const n of v(this,Ct).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new CT(e.type);case"block":{const n=new zk(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new Hk(this,e.type);case"event":return new bb(this,e.filter);case"transaction":return new Ik(this,e.hash);case"orphan":return new Vk(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const s of v(this,Ct).values())if(s.subscriber===e){s.started&&s.subscriber.stop(),s.subscriber=n,s.started&&n.start(),v(this,Rt)!=null&&n.pause(v(this,Rt));break}}async on(e,n){const s=await q(this,he,sh).call(this,e);return s.listeners.push({listener:n,once:!1}),s.started||(s.subscriber.start(),s.started=!0,v(this,Rt)!=null&&s.subscriber.pause(v(this,Rt))),this}async once(e,n){const s=await q(this,he,sh).call(this,e);return s.listeners.push({listener:n,once:!0}),s.started||(s.subscriber.start(),s.started=!0,v(this,Rt)!=null&&s.subscriber.pause(v(this,Rt))),this}async emit(e,...n){const s=await q(this,he,uu).call(this,e,n);if(!s||s.listeners.length===0)return!1;const a=s.listeners.length;return s.listeners=s.listeners.filter(({listener:r,once:i})=>{const o=new _j(this,i?null:r,e);try{r.call(this,...n,o)}catch{}return!i}),s.listeners.length===0&&(s.started&&s.subscriber.stop(),v(this,Ct).delete(s.tag)),a>0}async listenerCount(e){if(e){const s=await q(this,he,uu).call(this,e);return s?s.listeners.length:0}let n=0;for(const{listeners:s}of v(this,Ct).values())n+=s.length;return n}async listeners(e){if(e){const s=await q(this,he,uu).call(this,e);return s?s.listeners.map(({listener:a})=>a):[]}let n=[];for(const{listeners:s}of v(this,Ct).values())n=n.concat(s.map(({listener:a})=>a));return n}async off(e,n){const s=await q(this,he,uu).call(this,e);if(!s)return this;if(n){const a=s.listeners.map(({listener:r})=>r).indexOf(n);a>=0&&s.listeners.splice(a,1)}return(!n||s.listeners.length===0)&&(s.started&&s.subscriber.stop(),v(this,Ct).delete(s.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:s,subscriber:a}=await q(this,he,sh).call(this,e);s&&a.stop(),v(this,Ct).delete(n)}else for(const[n,{started:s,subscriber:a}]of v(this,Ct))s&&a.stop(),v(this,Ct).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return v(this,Zl)}destroy(){this.removeAllListeners();for(const e of v(this,Un).keys())this._clearTimeout(e);S(this,Zl,!0)}get paused(){return v(this,Rt)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(S(this,fa,-1),v(this,Rt)!=null){if(v(this,Rt)==!!e)return;Q(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),S(this,Rt,!!e);for(const n of v(this,Un).values())n.timer&&clearTimeout(n.timer),n.time=Ng()-n.time}resume(){if(v(this,Rt)!=null){this._forEachSubscriber(e=>e.resume()),S(this,Rt,null);for(const e of v(this,Un).values()){let n=e.time;n<0&&(n=0),e.time=Ng(),setTimeout(e.func,n)}}}}Ct=new WeakMap,gr=new WeakMap,Rt=new WeakMap,Zl=new WeakMap,mn=new WeakMap,Qi=new WeakMap,yr=new WeakMap,fa=new WeakMap,Ed=new WeakMap,Un=new WeakMap,Xl=new WeakMap,$l=new WeakMap,he=new WeakSet,cn=async function(e){const n=v(this,$l).cacheTimeout;if(n<0)return await this._perform(e);const s=nh(e.method,e);let a=v(this,yr).get(s);return a||(a=this._perform(e),v(this,yr).set(s,a),setTimeout(()=>{v(this,yr).get(s)===a&&v(this,yr).delete(s)},n)),await a},by=async function(e,n,s){Q(s<_k,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const a=$h(e);try{return Y(await this._perform({method:"call",transaction:a,blockTag:n}))}catch(r){if(!this.disableCcipRead&&tb(r)&&r.data&&s>=0&&n==="latest"&&a.to!=null&&qe(r.data,0,4)==="0x556f1830"){const i=r.data,o=await Ft(a.to,this);let c;try{c=Xk(qe(r.data,4))}catch(f){Q(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:a,info:{data:i}})}Q(c.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:a,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(a,c.calldata,c.urls);Q(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:a,info:{data:r.data,errorArgs:c.errorArgs}});const d={to:o,data:Ye([c.selector,Zk([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const f=await q(this,he,by).call(this,d,n,s+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:f}),f}}throw r}},vy=async function(e){const{value:n}=await zt({network:this.getNetwork(),value:e});return n},cu=async function(e,n,s){let a=this._getAddress(n),r=this._getBlockTag(s);return(typeof a!="string"||typeof r!="string")&&([a,r]=await Promise.all([a,r])),await q(this,he,vy).call(this,q(this,he,cn).call(this,Object.assign(e,{address:a,blockTag:r})))},wy=async function(e,n){if(ke(e,32))return await q(this,he,cn).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let s=this._getBlockTag(e);return typeof s!="string"&&(s=await s),await q(this,he,cn).call(this,{method:"getBlock",blockTag:s,includeTransactions:n})},uu=async function(e,n){let s=await Ag(e,this);return s.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(s=await Ag({orphan:"drop-log",log:n[0]},this)),v(this,Ct).get(s.tag)||null},sh=async function(e){const n=await Ag(e,this),s=n.tag;let a=v(this,Ct).get(s);return a||(a={subscriber:this._getSubscriber(n),tag:s,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},v(this,Ct).set(s,a)),a};function Kk(t,e){try{const n=Ay(t,e);if(n)return Fh(n)}catch{}return null}function Ay(t,e){if(t==="0x")return null;try{const n=ce(qe(t,e,e+32)),s=ce(qe(t,n,n+32));return qe(t,n+32,n+32+s)}catch{}return null}function qw(t){const e=ut(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function Yk(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const Jk=new Uint8Array([]);function Zk(t){const e=[];let n=0;for(let s=0;s<t.length;s++)e.push(Jk),n+=32;for(let s=0;s<t.length;s++){const a=fe(t[s]);e[s]=qw(n),e.push(qw(a.length)),e.push(Yk(a)),n+=32+Math.ceil(a.length/32)*32}return Ye(e)}const Kw="0x0000000000000000000000000000000000000000000000000000000000000000";function Xk(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Q(hl(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=qe(t,0,32);Q(qe(n,0,12)===qe(Kw,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=qe(n,12);try{const s=[],a=ce(qe(t,32,64)),r=ce(qe(t,a,a+32)),i=qe(t,a+32);for(let o=0;o<r;o++){const c=Kk(i,o*32);if(c==null)throw new Error("abort");s.push(c)}e.urls=s}catch{Q(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const s=Ay(t,64);if(s==null)throw new Error("abort");e.calldata=s}catch{Q(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Q(qe(t,100,128)===qe(Kw,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=qe(t,96,100);try{const s=Ay(t,128);if(s==null)throw new Error("abort");e.extraData=s}catch{Q(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(s=>e[s]),e}function ii(t,e){if(t.provider)return t.provider;Q(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Yw(t,e){let n=$h(e);if(n.to!=null&&(n.to=Ft(n.to,t)),n.from!=null){const s=n.from;n.from=Promise.all([t.getAddress(),Ft(s,t)]).then(([a,r])=>(M(a.toLowerCase()===r.toLowerCase(),"transaction from mismatch","tx.from",r),a))}else n.from=t.getAddress();return await zt(n)}class $k{constructor(e){P(this,"provider");ee(this,{provider:e||null})}async getNonce(e){return ii(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Yw(this,e)}async populateTransaction(e){const n=ii(this,"populateTransaction"),s=await Yw(this,e);s.nonce==null&&(s.nonce=await this.getNonce("pending")),s.gasLimit==null&&(s.gasLimit=await this.estimateGas(s));const a=await this.provider.getNetwork();if(s.chainId!=null){const i=$(s.chainId);M(i===a.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else s.chainId=a.chainId;const r=s.maxFeePerGas!=null||s.maxPriorityFeePerGas!=null;if(s.gasPrice!=null&&(s.type===2||r)?M(!1,"eip-1559 transaction do not support gasPrice","tx",e):(s.type===0||s.type===1)&&r&&M(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(s.type===2||s.type==null)&&s.maxFeePerGas!=null&&s.maxPriorityFeePerGas!=null)s.type=2;else if(s.type===0||s.type===1){const i=await n.getFeeData();Q(i.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),s.gasPrice==null&&(s.gasPrice=i.gasPrice)}else{const i=await n.getFeeData();if(s.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(s.authorizationList&&s.authorizationList.length?s.type=4:s.type=2,s.gasPrice!=null){const o=s.gasPrice;delete s.gasPrice,s.maxFeePerGas=o,s.maxPriorityFeePerGas=o}else s.maxFeePerGas==null&&(s.maxFeePerGas=i.maxFeePerGas),s.maxPriorityFeePerGas==null&&(s.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(Q(!r,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),s.gasPrice==null&&(s.gasPrice=i.gasPrice),s.type=0):Q(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(s.type===2||s.type===3||s.type===4)&&(s.maxFeePerGas==null&&(s.maxFeePerGas=i.maxFeePerGas),s.maxPriorityFeePerGas==null&&(s.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return await zt(s)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await ii(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return ii(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return ii(this,"call").call(await this.populateCall(e))}async resolveName(e){return await ii(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=ii(this,"sendTransaction"),s=await this.populateTransaction(e);delete s.from;const a=Qh.from(s);return await n.broadcastTransaction(await this.signTransaction(a))}authorize(e){Q(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function Wk(t){return JSON.parse(JSON.stringify(t))}var Pt,Os,qi,xr,Ki,Wl,Jr,Ny,Ey;class RT{constructor(e){z(this,Jr);z(this,Pt);z(this,Os);z(this,qi);z(this,xr);z(this,Ki);z(this,Wl);S(this,Pt,e),S(this,Os,null),S(this,qi,q(this,Jr,Ny).bind(this)),S(this,xr,!1),S(this,Ki,null),S(this,Wl,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){v(this,xr)||(S(this,xr,!0),q(this,Jr,Ny).call(this,-2))}stop(){v(this,xr)&&(S(this,xr,!1),S(this,Wl,!0),q(this,Jr,Ey).call(this),v(this,Pt).off("block",v(this,qi)))}pause(e){e&&q(this,Jr,Ey).call(this),v(this,Pt).off("block",v(this,qi))}resume(){this.start()}}Pt=new WeakMap,Os=new WeakMap,qi=new WeakMap,xr=new WeakMap,Ki=new WeakMap,Wl=new WeakMap,Jr=new WeakSet,Ny=async function(e){try{v(this,Os)==null&&S(this,Os,this._subscribe(v(this,Pt)));let n=null;try{n=await v(this,Os)}catch(r){if(!Nt(r,"UNSUPPORTED_OPERATION")||r.operation!=="eth_newFilter")throw r}if(n==null){S(this,Os,null),v(this,Pt)._recoverSubscriber(this,this._recover(v(this,Pt)));return}const s=await v(this,Pt).getNetwork();if(v(this,Ki)||S(this,Ki,s),v(this,Ki).chainId!==s.chainId)throw new Error("chaid changed");if(v(this,Wl))return;const a=await v(this,Pt).send("eth_getFilterChanges",[n]);await this._emitResults(v(this,Pt),a)}catch(n){console.log("@TODO",n)}v(this,Pt).once("block",v(this,qi))},Ey=function(){const e=v(this,Os);e&&(S(this,Os,null),e.then(n=>{v(this,Pt).destroyed||v(this,Pt).send("eth_uninstallFilter",[n])}))};var Yi;class e8 extends RT{constructor(n,s){super(n);z(this,Yi);S(this,Yi,Wk(s))}_recover(n){return new bb(n,v(this,Yi))}async _subscribe(n){return await n.send("eth_newFilter",[v(this,Yi)])}async _emitResults(n,s){for(const a of s)n.emit(v(this,Yi),n._wrapLog(a,n._network))}}Yi=new WeakMap;class t8 extends RT{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const s of n)e.emit("pending",s)}}const n8="bigint,boolean,function,number,string,symbol".split(/,/g);function ah(t){if(t==null||n8.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(ah);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function s8(t){return new Promise(e=>{setTimeout(e,t)})}function Do(t){return t&&t.toLowerCase()}function Jw(t){return t&&typeof t.pollingInterval=="number"}const OT={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Eg extends $k{constructor(n,s){super(n);P(this,"address");s=Ee(s),ee(this,{address:s})}connect(n){Q(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const s=ah(n),a=[];if(s.from){const i=s.from;a.push((async()=>{const o=await Ft(i,this.provider);M(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),s.from=o})())}else s.from=this.address;if(s.gasLimit==null&&a.push((async()=>{s.gasLimit=await this.provider.estimateGas({...s,from:this.address})})()),s.to!=null){const i=s.to;a.push((async()=>{s.to=await Ft(i,this.provider)})())}a.length&&await Promise.all(a);const r=this.provider.getRpcTransaction(s);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(n){const s=await this.provider.getBlockNumber(),a=await this.sendUncheckedTransaction(n);return await new Promise((r,i)=>{const o=[1e3,100];let c=0;const u=async()=>{try{const d=await this.provider.getTransaction(a);if(d!=null){r(d.replaceableTransaction(s));return}}catch(d){if(Nt(d,"CANCELLED")||Nt(d,"BAD_DATA")||Nt(d,"NETWORK_ERROR")||Nt(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=a,i(d);return}if(Nt(d,"INVALID_ARGUMENT")&&(c++,d.info==null&&(d.info={}),d.info.sendTransactionHash=a,c>10)){i(d);return}this.provider.emit("error",Ie("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{u()},o.pop()||4e3)};u()})}async signTransaction(n){const s=ah(n);if(s.from){const r=await Ft(s.from,this.provider);M(r!=null&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),s.from=r}else s.from=this.address;const a=this.provider.getRpcTransaction(s);return await this.provider.send("eth_signTransaction",[a])}async signMessage(n){const s=typeof n=="string"?Ea(n):n;return await this.provider.send("personal_sign",[Y(s),this.address.toLowerCase()])}async signTypedData(n,s,a){const r=ah(a),i=await Xh.resolveNames(n,s,r,async o=>{const c=await Ft(o);return M(c!=null,"TypedData does not support null address","value",o),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Xh.getPayload(i.domain,s,i.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const s=typeof n=="string"?Ea(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Y(s)])}}var Ji,ec,ha,Ds,cs,Ln,Yt,jd,jy;class a8 extends qk{constructor(n,s){super(n,s);z(this,jd);z(this,Ji);z(this,ec);z(this,ha);z(this,Ds);z(this,cs);z(this,Ln);z(this,Yt);S(this,ec,1),S(this,Ji,Object.assign({},OT,s||{})),S(this,ha,[]),S(this,Ds,null),S(this,Ln,null),S(this,Yt,null);{let r=null;const i=new Promise(o=>{r=o});S(this,cs,{promise:i,resolve:r})}const a=this._getOption("staticNetwork");typeof a=="boolean"?(M(!a||n!=="any","staticNetwork cannot be used on special network 'any'","options",s),a&&n!=null&&S(this,Ln,Hs.from(n))):a&&(M(n==null||a.matches(n),"staticNetwork MUST match network object","options",s),S(this,Ln,a))}_getOption(n){return v(this,Ji)[n]}get _network(){return Q(v(this,Ln),"network is not available yet","NETWORK_ERROR"),v(this,Ln)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let a=n.transaction;if(a&&a.type!=null&&$(a.type)&&a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null){const r=await this.getFeeData();r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},a,{type:void 0})}))}}const s=this.getRpcRequest(n);return s!=null?await this.send(s.method,s.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(v(this,Ln))return v(this,Ln)}else return n;return v(this,Yt)?await v(this,Yt):this.ready?(S(this,Yt,(async()=>{try{const s=Hs.from($(await this.send("eth_chainId",[])));return S(this,Yt,null),s}catch(s){throw S(this,Yt,null),s}})()),await v(this,Yt)):(S(this,Yt,(async()=>{const s={id:Vc(this,ec)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:s});let a;try{a=(await this._send(s))[0],S(this,Yt,null)}catch(r){throw S(this,Yt,null),this.emit("debug",{action:"receiveRpcError",error:r}),r}if(this.emit("debug",{action:"receiveRpcResult",result:a}),"result"in a)return Hs.from($(a.result));throw this.getRpcError(s,a)})()),await v(this,Yt))}_start(){v(this,cs)==null||v(this,cs).resolve==null||(v(this,cs).resolve(),S(this,cs,null),(async()=>{for(;v(this,Ln)==null&&!this.destroyed;)try{S(this,Ln,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Ie("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await s8(1e3)}q(this,jd,jy).call(this)})())}async _waitUntilReady(){if(v(this,cs)!=null)return await v(this,cs).promise}_getSubscriber(n){return n.type==="pending"?new t8(this):n.type==="event"?this._getOption("polling")?new bb(this,n.filter):new e8(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new CT("orphan"):super._getSubscriber(n)}get ready(){return v(this,cs)==null}getRpcTransaction(n){const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(a=>{if(n[a]==null)return;let r=a;a==="gasLimit"&&(r="gas"),s[r]=ds($(n[a],`tx.${a}`))}),["from","to","data"].forEach(a=>{n[a]!=null&&(s[a]=Y(n[a]))}),n.accessList&&(s.accessList=Ao(n.accessList)),n.blobVersionedHashes&&(s.blobVersionedHashes=n.blobVersionedHashes.map(a=>a.toLowerCase())),n.authorizationList&&(s.authorizationList=n.authorizationList.map(a=>{const r=BS(a);return{address:r.address,nonce:ds(r.nonce),chainId:ds(r.chainId),yParity:ds(r.signature.yParity),r:ds(r.signature.r),s:ds(r.signature.s)}})),s}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Do(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Do(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Do(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Do(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Do):n.filter.address=Do(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,s){const{method:a}=n,{error:r}=s;if(a==="eth_estimateGas"&&r.message){const c=r.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Ie("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:r}});if(c.match(/nonce/i)&&c.match(/too low/i))return Ie("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:r}})}if(a==="eth_call"||a==="eth_estimateGas"){const c=Sy(r),u=ad.getBuiltinCallException(a==="eth_call"?"call":"estimateGas",n.params[0],c?c.data:null);return u.info={error:r,payload:n},u}const i=JSON.stringify(i8(r));if(typeof r.message=="string"&&r.message.match(/user denied|ethers-user-denied/i))return Ie("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[a]||"unknown",reason:"rejected",info:{payload:n,error:r}});if(a==="eth_sendRawTransaction"||a==="eth_sendTransaction"){const c=n.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return Ie("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return Ie("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return Ie("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:r}});if(i.match(/only replay-protected/i))return Ie("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:a,info:{transaction:c,info:{error:r}}})}let o=!!i.match(/the method .* does not exist/i);return o||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(o=!0),o?Ie("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:r,payload:n}}):Ie("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:n})}send(n,s){if(this.destroyed)return Promise.reject(Ie("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const a=Vc(this,ec)._++,r=new Promise((i,o)=>{v(this,ha).push({resolve:i,reject:o,payload:{method:n,params:s,id:a,jsonrpc:"2.0"}})});return q(this,jd,jy).call(this),r}async getSigner(n){n==null&&(n=0);const s=this.send("eth_accounts",[]);if(typeof n=="number"){const r=await s;if(n>=r.length)throw new Error("no such account");return new Eg(this,r[n])}const{accounts:a}=await zt({network:this.getNetwork(),accounts:s});n=Ee(n);for(const r of a)if(Ee(r)===n)return new Eg(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(s=>new Eg(this,s))}destroy(){v(this,Ds)&&(clearTimeout(v(this,Ds)),S(this,Ds,null));for(const{payload:n,reject:s}of v(this,ha))s(Ie("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));S(this,ha,[]),super.destroy()}}Ji=new WeakMap,ec=new WeakMap,ha=new WeakMap,Ds=new WeakMap,cs=new WeakMap,Ln=new WeakMap,Yt=new WeakMap,jd=new WeakSet,jy=function(){if(v(this,Ds))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");S(this,Ds,setTimeout(()=>{S(this,Ds,null);const s=v(this,ha);for(S(this,ha,[]);s.length;){const a=[s.shift()];for(;s.length&&a.length!==v(this,Ji).batchMaxCount;)if(a.push(s.shift()),JSON.stringify(a.map(i=>i.payload)).length>v(this,Ji).batchMaxSize){s.unshift(a.pop());break}(async()=>{const r=a.length===1?a[0].payload:a.map(i=>i.payload);this.emit("debug",{action:"sendRpcPayload",payload:r});try{const i=await this._send(r);this.emit("debug",{action:"receiveRpcResult",result:i});for(const{resolve:o,reject:c,payload:u}of a){if(this.destroyed){c(Ie("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const d=i.filter(f=>f.id===u.id)[0];if(d==null){const f=Ie("missing response for request","BAD_DATA",{value:i,info:{payload:u}});this.emit("error",f),c(f);continue}if("error"in d){c(this.getRpcError(u,d));continue}o(d.result)}}catch(i){this.emit("debug",{action:"receiveRpcError",error:i});for(const{reject:o}of a)o(i)}})()}},n))};var br;class r8 extends a8{constructor(n,s){super(n,s);z(this,br);let a=this._getOption("pollingInterval");a==null&&(a=OT.pollingInterval),S(this,br,a)}_getSubscriber(n){const s=super._getSubscriber(n);return Jw(s)&&(s.pollingInterval=v(this,br)),s}get pollingInterval(){return v(this,br)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");S(this,br,n),this._forEachSubscriber(s=>{Jw(s)&&(s.pollingInterval=v(this,br))})}}br=new WeakMap;function Sy(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&ke(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=Sy(t[e]);if(n)return n}return null}if(typeof t=="string")try{return Sy(JSON.parse(t))}catch{}return null}function Ty(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)Ty(t[n],e);if(typeof t=="string")try{return Ty(JSON.parse(t),e)}catch{}}}function i8(t){const e=[];return Ty(t,e),e}var tc,nc;const Ai=class Ai extends r8{constructor(n,s,a){const r=Object.assign({},a??{},{batchMaxCount:1});M(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(s,r);z(this,tc);z(this,nc);S(this,nc,null),a&&a.providerInfo&&S(this,nc,a.providerInfo),S(this,tc,async(i,o)=>{const c={method:i,params:o};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const u=await n.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const d=new Error(u.message);throw d.code=u.code,d.data=u.data,d.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}get providerInfo(){return v(this,nc)}async send(n,s){return await this._start(),await super.send(n,s)}async _send(n){M(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const s=await v(this,tc).call(this,n.method,n.params||[]);return[{id:n.id,result:s}]}catch(s){return[{id:n.id,error:{code:s.code,data:s.data,message:s.message}}]}}getRpcError(n,s){switch(s=JSON.parse(JSON.stringify(s)),s.error.code||-1){case 4001:s.error.message=`ethers-user-denied: ${s.error.message}`;break;case 4200:s.error.message=`ethers-unsupported: ${s.error.message}`;break}return super.getRpcError(n,s)}async hasSigner(n){n==null&&(n=0);const s=await this.send("eth_accounts",[]);return typeof n=="number"?s.length>n:(n=n.toLowerCase(),s.filter(a=>a.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await v(this,tc).call(this,"eth_requestAccounts",[])}catch(s){const a=s.payload;throw this.getRpcError(a,{id:a.id,error:s})}return await super.getSigner(n)}static async discover(n){if(n==null&&(n={}),n.provider)return new Ai(n.provider);const s=n.window?n.window:typeof window<"u"?window:null;if(s==null)return null;const a=n.anyProvider;if(a&&s.ethereum)return new Ai(s.ethereum);if(!("addEventListener"in s&&"dispatchEvent"in s&&"removeEventListener"in s))return null;const r=n.timeout?n.timeout:300;return r===0?null:await new Promise((i,o)=>{let c=[];const u=h=>{c.push(h.detail),a&&d()},d=()=>{if(clearTimeout(f),c.length)if(n&&n.filter){const h=n.filter(c.map(m=>Object.assign({},m.info)));if(h==null)i(null);else if(h instanceof Ai)i(h);else{let m=null;if(h.uuid&&(m=c.filter(y=>h.uuid===y.info.uuid)[0]),m){const{provider:p,info:y}=m;i(new Ai(p,void 0,{providerInfo:y}))}else o(Ie("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:m}=c[0];i(new Ai(h,void 0,{providerInfo:m}))}else i(null);s.removeEventListener("eip6963:announceProvider",u)},f=setTimeout(()=>{d()},r);s.addEventListener("eip6963:announceProvider",u),s.dispatchEvent(new Event("eip6963:requestProvider"))})}};tc=new WeakMap,nc=new WeakMap;let tm=Ai;const DT=N.createContext(),Zw={ethereum:{chainId:"0x1",chainName:"Ethereum Mainnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.infura.io/v3/"],blockExplorerUrls:["https://etherscan.io"]},sepolia:{chainId:"0xaa36a7",chainName:"Sepolia Testnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://sepolia.infura.io/v3/"],blockExplorerUrls:["https://sepolia.etherscan.io"]},holesky:{chainId:"0x4268",chainName:"Holesky Testnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://ethereum-holesky.publicnode.com"],blockExplorerUrls:["https://holesky.etherscan.io"]},hoodi:{chainId:"0x5afe",chainName:"Hoodi Testnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:["https://rpc.hoodi.network"],blockExplorerUrls:["https://explorer.hoodi.network"]}};function o8({children:t}){const[e,n]=N.useState(null),[s,a]=N.useState(null),[r,i]=N.useState(null),[o,c]=N.useState(null),[u,d]=N.useState(!1),[f,h]=N.useState("0"),[m,p]=N.useState(!1);N.useEffect(()=>{let B=!0;return(async()=>{B&&!m&&(p(!0),await y())})(),window.ethereum&&!m&&(window.ethereum.on("accountsChanged",x),window.ethereum.on("chainChanged",A)),()=>{B=!1,window.ethereum&&(window.ethereum.removeListener("accountsChanged",x),window.ethereum.removeListener("chainChanged",A))}},[]);const y=async()=>{if(window.ethereum)try{const B=await window.ethereum.request({method:"eth_accounts"});if(B.length>0){n(B[0]);const R=new tm(window.ethereum),L=await R.getSigner(),U=await R.getNetwork();a(R),i(L),c(U);try{await b(B[0],R)}catch{console.log("No se pudo obtener balance, usando 0 por defecto"),h("0")}}}catch{h("0")}},w=async()=>{if(!window.ethereum)return F.error("MetaMask no est instalado. Por favor instlalo para continuar."),!1;d(!0);try{const B=await window.ethereum.request({method:"eth_requestAccounts"}),R=new tm(window.ethereum),L=await R.getSigner(),U=await R.getNetwork();n(B[0]),a(R),i(L),c(U);try{await b(B[0],R)}catch{console.log("No se pudo obtener balance, usando 0 por defecto"),h("0")}return F.success("Wallet conectada exitosamente"),!0}catch(B){return console.error("Error connecting wallet:",B),F.error("Error al conectar la wallet"),!1}finally{d(!1)}},b=async(B,R)=>{try{if(console.log(" Intentando obtener balance para:",B),!R||!B){console.log(" Provider o address no vlidos"),h("0");return}const L=await R.getNetwork();console.log(" Red actual:",{name:L.name,chainId:L.chainId.toString()}),console.log(" Obteniendo balance...");const U=R.getBalance(B),V=new Promise((G,K)=>setTimeout(()=>K(new Error("Timeout de 10 segundos")),1e4)),O=await Promise.race([U,V]),C=KD(O);console.log(" Balance obtenido:",C,"ETH"),isNaN(parseFloat(C))?(console.log(" Balance no es un nmero vlido"),h("0")):h(C)}catch(L){console.log(" Error obteniendo balance:",L.message),console.log(" Tipo de error:",L.code||"Sin cdigo"),h("0")}},g=async B=>{if(!window.ethereum)return F.error("MetaMask no est disponible"),!1;const R=Zw[B];if(!R)return F.error("Red no soportada"),!1;try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:R.chainId}]}),F.success(`Cambiado a ${R.chainName}`),!0}catch(L){if(L.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[R]}),F.success(`Red ${R.chainName} agregada y seleccionada`),!0}catch(U){return console.error("Error adding network:",U),F.error("Error al agregar la red"),!1}else return console.error("Error switching network:",L),F.error("Error al cambiar de red"),!1}},x=B=>{if(B.length===0)n(null),a(null),i(null),c(null),h("0"),F.success("Wallet desconectada");else if(n(B[0]),s)try{b(B[0],s)}catch{h("0")}},A=B=>{window.location.reload()},T={account:e,provider:s,signer:r,network:o,balance:f,isConnecting:u,connectWallet:w,disconnectWallet:()=>{n(null),a(null),i(null),c(null),h("0"),F.success("Wallet desconectada")},switchNetwork:g,sendTransaction:async(B,R)=>{if(!r)return F.error("Wallet no conectada"),!1;try{const L=await r.sendTransaction({to:B,value:YD(R.toString())});return F.success("Transaccin enviada"),await L.wait(),F.success("Transaccin confirmada"),await b(e,s),L}catch(L){return console.error("Error sending transaction:",L),F.error("Error al enviar la transaccin"),!1}},refreshBalance:async()=>{e&&s&&await b(e,s)},getBalanceDirectly:async()=>{try{if(!e||!window.ethereum){console.log(" No hay cuenta o MetaMask");return}console.log(" Intentando obtener balance directamente de MetaMask...");const B=await window.ethereum.request({method:"eth_getBalance",params:[e,"latest"]});console.log(" Balance raw de MetaMask:",B);const L=parseInt(B,16)/Math.pow(10,18);console.log(" Balance convertido:",L,"ETH"),h(L.toString())}catch(B){console.log(" Error con mtodo directo:",B)}},supportedNetworks:Zw};return l.jsx(DT.Provider,{value:T,children:t})}const gs=()=>{const t=N.useContext(DT);if(!t)throw new Error("useWeb3 must be used within a Web3Provider");return t};function BT(t,e){return function(){return t.apply(e,arguments)}}const{toString:l8}=Object.prototype,{getPrototypeOf:vb}=Object,{iterator:ap,toStringTag:MT}=Symbol,rp=(t=>e=>{const n=l8.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ys=t=>(t=t.toLowerCase(),e=>rp(e)===t),ip=t=>e=>typeof e===t,{isArray:Lc}=Array,Ac=ip("undefined");function Kd(t){return t!==null&&!Ac(t)&&t.constructor!==null&&!Ac(t.constructor)&&nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const kT=ys("ArrayBuffer");function c8(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&kT(t.buffer),e}const u8=ip("string"),nn=ip("function"),PT=ip("number"),Yd=t=>t!==null&&typeof t=="object",d8=t=>t===!0||t===!1,rh=t=>{if(rp(t)!=="object")return!1;const e=vb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(MT in t)&&!(ap in t)},f8=t=>{if(!Yd(t)||Kd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},h8=ys("Date"),m8=ys("File"),p8=ys("Blob"),g8=ys("FileList"),y8=t=>Yd(t)&&nn(t.pipe),x8=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||nn(t.append)&&((e=rp(t))==="formdata"||e==="object"&&nn(t.toString)&&t.toString()==="[object FormData]"))},b8=ys("URLSearchParams"),[v8,w8,A8,N8]=["ReadableStream","Request","Response","Headers"].map(ys),E8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,a;if(typeof t!="object"&&(t=[t]),Lc(t))for(s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else{if(Kd(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),i=r.length;let o;for(s=0;s<i;s++)o=r[s],e.call(null,t[o],o,t)}}function UT(t,e){if(Kd(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,a;for(;s-- >0;)if(a=n[s],e===a.toLowerCase())return a;return null}const Ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LT=t=>!Ac(t)&&t!==Ti;function Cy(){const{caseless:t,skipUndefined:e}=LT(this)&&this||{},n={},s=(a,r)=>{const i=t&&UT(n,r)||r;rh(n[i])&&rh(a)?n[i]=Cy(n[i],a):rh(a)?n[i]=Cy({},a):Lc(a)?n[i]=a.slice():(!e||!Ac(a))&&(n[i]=a)};for(let a=0,r=arguments.length;a<r;a++)arguments[a]&&Jd(arguments[a],s);return n}const j8=(t,e,n,{allOwnKeys:s}={})=>(Jd(e,(a,r)=>{n&&nn(a)?t[r]=BT(a,n):t[r]=a},{allOwnKeys:s}),t),S8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),T8=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},C8=(t,e,n,s)=>{let a,r,i;const o={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),r=a.length;r-- >0;)i=a[r],(!s||s(i,t,e))&&!o[i]&&(e[i]=t[i],o[i]=!0);t=n!==!1&&vb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},R8=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},O8=t=>{if(!t)return null;if(Lc(t))return t;let e=t.length;if(!PT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},D8=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vb(Uint8Array)),B8=(t,e)=>{const s=(t&&t[ap]).call(t);let a;for(;(a=s.next())&&!a.done;){const r=a.value;e.call(t,r[0],r[1])}},M8=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},k8=ys("HTMLFormElement"),P8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),Xw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),U8=ys("RegExp"),zT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Jd(n,(a,r)=>{let i;(i=e(a,r,t))!==!1&&(s[r]=i||a)}),Object.defineProperties(t,s)},L8=t=>{zT(t,(e,n)=>{if(nn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(nn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},z8=(t,e)=>{const n={},s=a=>{a.forEach(r=>{n[r]=!0})};return Lc(t)?s(t):s(String(t).split(e)),n},H8=()=>{},V8=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function I8(t){return!!(t&&nn(t.append)&&t[MT]==="FormData"&&t[ap])}const F8=t=>{const e=new Array(10),n=(s,a)=>{if(Yd(s)){if(e.indexOf(s)>=0)return;if(Kd(s))return s;if(!("toJSON"in s)){e[a]=s;const r=Lc(s)?[]:{};return Jd(s,(i,o)=>{const c=n(i,a+1);!Ac(c)&&(r[o]=c)}),e[a]=void 0,r}}return s};return n(t,0)},_8=ys("AsyncFunction"),G8=t=>t&&(Yd(t)||nn(t))&&nn(t.then)&&nn(t.catch),HT=((t,e)=>t?setImmediate:e?((n,s)=>(Ti.addEventListener("message",({source:a,data:r})=>{a===Ti&&r===n&&s.length&&s.shift()()},!1),a=>{s.push(a),Ti.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",nn(Ti.postMessage)),Q8=typeof queueMicrotask<"u"?queueMicrotask.bind(Ti):typeof process<"u"&&process.nextTick||HT,q8=t=>t!=null&&nn(t[ap]),H={isArray:Lc,isArrayBuffer:kT,isBuffer:Kd,isFormData:x8,isArrayBufferView:c8,isString:u8,isNumber:PT,isBoolean:d8,isObject:Yd,isPlainObject:rh,isEmptyObject:f8,isReadableStream:v8,isRequest:w8,isResponse:A8,isHeaders:N8,isUndefined:Ac,isDate:h8,isFile:m8,isBlob:p8,isRegExp:U8,isFunction:nn,isStream:y8,isURLSearchParams:b8,isTypedArray:D8,isFileList:g8,forEach:Jd,merge:Cy,extend:j8,trim:E8,stripBOM:S8,inherits:T8,toFlatObject:C8,kindOf:rp,kindOfTest:ys,endsWith:R8,toArray:O8,forEachEntry:B8,matchAll:M8,isHTMLForm:k8,hasOwnProperty:Xw,hasOwnProp:Xw,reduceDescriptors:zT,freezeMethods:L8,toObjectSet:z8,toCamelCase:P8,noop:H8,toFiniteNumber:V8,findKey:UT,global:Ti,isContextDefined:LT,isSpecCompliantForm:I8,toJSONObject:F8,isAsyncFn:_8,isThenable:G8,setImmediate:HT,asap:Q8,isIterable:q8};function re(t,e,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}H.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const VT=re.prototype,IT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{IT[t]={value:t}});Object.defineProperties(re,IT);Object.defineProperty(VT,"isAxiosError",{value:!0});re.from=(t,e,n,s,a,r)=>{const i=Object.create(VT);H.toFlatObject(t,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return re.call(i,o,c,n,s,a),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",r&&Object.assign(i,r),i};const K8=null;function Ry(t){return H.isPlainObject(t)||H.isArray(t)}function FT(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function $w(t,e,n){return t?t.concat(e).map(function(a,r){return a=FT(a),!n&&r?"["+a+"]":a}).join(n?".":""):e}function Y8(t){return H.isArray(t)&&!t.some(Ry)}const J8=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function op(t,e,n){if(!H.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!H.isUndefined(w[y])});const s=n.metaTokens,a=n.visitor||d,r=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(H.isDate(p))return p.toISOString();if(H.isBoolean(p))return p.toString();if(!c&&H.isBlob(p))throw new re("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(p)||H.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,w){let b=p;if(p&&!w&&typeof p=="object"){if(H.endsWith(y,"{}"))y=s?y:y.slice(0,-2),p=JSON.stringify(p);else if(H.isArray(p)&&Y8(p)||(H.isFileList(p)||H.endsWith(y,"[]"))&&(b=H.toArray(p)))return y=FT(y),b.forEach(function(x,A){!(H.isUndefined(x)||x===null)&&e.append(i===!0?$w([y],A,r):i===null?y:y+"[]",u(x))}),!1}return Ry(p)?!0:(e.append($w(w,y,r),u(p)),!1)}const f=[],h=Object.assign(J8,{defaultVisitor:d,convertValue:u,isVisitable:Ry});function m(p,y){if(!H.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(p),H.forEach(p,function(b,g){(!(H.isUndefined(b)||b===null)&&a.call(e,b,H.isString(g)?g.trim():g,y,h))===!0&&m(b,y?y.concat(g):[g])}),f.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Ww(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function wb(t,e){this._pairs=[],t&&op(t,this,e)}const _T=wb.prototype;_T.append=function(e,n){this._pairs.push([e,n])};_T.toString=function(e){const n=e?function(s){return e.call(this,s,Ww)}:Ww;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Z8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function GT(t,e,n){if(!e)return t;const s=n&&n.encode||Z8;H.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let r;if(a?r=a(e,n):r=H.isURLSearchParams(e)?e.toString():new wb(e,n).toString(s),r){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class e2{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(s){s!==null&&e(s)})}}const QT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X8=typeof URLSearchParams<"u"?URLSearchParams:wb,$8=typeof FormData<"u"?FormData:null,W8=typeof Blob<"u"?Blob:null,eP={isBrowser:!0,classes:{URLSearchParams:X8,FormData:$8,Blob:W8},protocols:["http","https","file","blob","url","data"]},Ab=typeof window<"u"&&typeof document<"u",Oy=typeof navigator=="object"&&navigator||void 0,tP=Ab&&(!Oy||["ReactNative","NativeScript","NS"].indexOf(Oy.product)<0),nP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sP=Ab&&window.location.href||"http://localhost",aP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ab,hasStandardBrowserEnv:tP,hasStandardBrowserWebWorkerEnv:nP,navigator:Oy,origin:sP},Symbol.toStringTag,{value:"Module"})),Dt={...aP,...eP};function rP(t,e){return op(t,new Dt.classes.URLSearchParams,{visitor:function(n,s,a,r){return Dt.isNode&&H.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function iP(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oP(t){const e={},n=Object.keys(t);let s;const a=n.length;let r;for(s=0;s<a;s++)r=n[s],e[r]=t[r];return e}function qT(t){function e(n,s,a,r){let i=n[r++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=r>=n.length;return i=!i&&H.isArray(a)?a.length:i,c?(H.hasOwnProp(a,i)?a[i]=[a[i],s]:a[i]=s,!o):((!a[i]||!H.isObject(a[i]))&&(a[i]=[]),e(n,s,a[i],r)&&H.isArray(a[i])&&(a[i]=oP(a[i])),!o)}if(H.isFormData(t)&&H.isFunction(t.entries)){const n={};return H.forEachEntry(t,(s,a)=>{e(iP(s),a,n,0)}),n}return null}function lP(t,e,n){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Zd={transitional:QT,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,r=H.isObject(e);if(r&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return a?JSON.stringify(qT(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return rP(e,this.formSerializer).toString();if((o=H.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return op(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return r||a?(n.setContentType("application/json",!1),lP(e)):e}],transformResponse:[function(e){const n=this.transitional||Zd.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(s&&!this.responseType||a)){const i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?re.from(o,re.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dt.classes.FormData,Blob:Dt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{Zd.headers[t]={}});const cP=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uP=t=>{const e={};let n,s,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),n=i.substring(0,a).trim().toLowerCase(),s=i.substring(a+1).trim(),!(!n||e[n]&&cP[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},t2=Symbol("internals");function Xc(t){return t&&String(t).trim().toLowerCase()}function ih(t){return t===!1||t==null?t:H.isArray(t)?t.map(ih):String(t)}function dP(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const fP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jg(t,e,n,s,a){if(H.isFunction(s))return s.call(this,e,n);if(a&&(e=n),!!H.isString(e)){if(H.isString(s))return e.indexOf(s)!==-1;if(H.isRegExp(s))return s.test(e)}}function hP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function mP(t,e){const n=H.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(a,r,i){return this[s].call(this,e,a,r,i)},configurable:!0})})}let sn=class{constructor(e){e&&this.set(e)}set(e,n,s){const a=this;function r(o,c,u){const d=Xc(c);if(!d)throw new Error("header name must be a non-empty string");const f=H.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=ih(o))}const i=(o,c)=>H.forEach(o,(u,d)=>r(u,d,c));if(H.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(H.isString(e)&&(e=e.trim())&&!fP(e))i(uP(e),n);else if(H.isObject(e)&&H.isIterable(e)){let o={},c,u;for(const d of e){if(!H.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?H.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(o,n)}else e!=null&&r(n,e,s);return this}get(e,n){if(e=Xc(e),e){const s=H.findKey(this,e);if(s){const a=this[s];if(!n)return a;if(n===!0)return dP(a);if(H.isFunction(n))return n.call(this,a,s);if(H.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Xc(e),e){const s=H.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||jg(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let a=!1;function r(i){if(i=Xc(i),i){const o=H.findKey(s,i);o&&(!n||jg(s,s[o],o,n))&&(delete s[o],a=!0)}}return H.isArray(e)?e.forEach(r):r(e),a}clear(e){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const r=n[s];(!e||jg(this,this[r],r,e,!0))&&(delete this[r],a=!0)}return a}normalize(e){const n=this,s={};return H.forEach(this,(a,r)=>{const i=H.findKey(s,r);if(i){n[i]=ih(a),delete n[r];return}const o=e?hP(r):String(r).trim();o!==r&&delete n[r],n[o]=ih(a),s[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return H.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=e&&H.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[t2]=this[t2]={accessors:{}}).accessors,a=this.prototype;function r(i){const o=Xc(i);s[o]||(mP(a,i),s[o]=!0)}return H.isArray(e)?e.forEach(r):r(e),this}};sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(sn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});H.freezeMethods(sn);function Sg(t,e){const n=this||Zd,s=e||n,a=sn.from(s.headers);let r=s.data;return H.forEach(t,function(o){r=o.call(n,r,a.normalize(),e?e.status:void 0)}),a.normalize(),r}function KT(t){return!!(t&&t.__CANCEL__)}function zc(t,e,n){re.call(this,t??"canceled",re.ERR_CANCELED,e,n),this.name="CanceledError"}H.inherits(zc,re,{__CANCEL__:!0});function YT(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new re("Request failed with status code "+n.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function pP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gP(t,e){t=t||10;const n=new Array(t),s=new Array(t);let a=0,r=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=s[r];i||(i=u),n[a]=c,s[a]=u;let f=r,h=0;for(;f!==a;)h+=n[f++],f=f%t;if(a=(a+1)%t,a===r&&(r=(r+1)%t),u-i<e)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function yP(t,e){let n=0,s=1e3/e,a,r;const i=(u,d=Date.now())=>{n=d,a=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=s?i(u,d):(a=u,r||(r=setTimeout(()=>{r=null,i(a)},s-f)))},()=>a&&i(a)]}const nm=(t,e,n=3)=>{let s=0;const a=gP(50,250);return yP(r=>{const i=r.loaded,o=r.lengthComputable?r.total:void 0,c=i-s,u=a(c),d=i<=o;s=i;const f={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-i)/u:void 0,event:r,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},n)},n2=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},s2=t=>(...e)=>H.asap(()=>t(...e)),xP=Dt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Dt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Dt.origin),Dt.navigator&&/(msie|trident)/i.test(Dt.navigator.userAgent)):()=>!0,bP=Dt.hasStandardBrowserEnv?{write(t,e,n,s,a,r){const i=[t+"="+encodeURIComponent(e)];H.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),H.isString(s)&&i.push("path="+s),H.isString(a)&&i.push("domain="+a),r===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wP(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function JT(t,e,n){let s=!vP(e);return t&&(s||n==!1)?wP(t,e):e}const a2=t=>t instanceof sn?{...t}:t;function po(t,e){e=e||{};const n={};function s(u,d,f,h){return H.isPlainObject(u)&&H.isPlainObject(d)?H.merge.call({caseless:h},u,d):H.isPlainObject(d)?H.merge({},d):H.isArray(d)?d.slice():d}function a(u,d,f,h){if(H.isUndefined(d)){if(!H.isUndefined(u))return s(void 0,u,f,h)}else return s(u,d,f,h)}function r(u,d){if(!H.isUndefined(d))return s(void 0,d)}function i(u,d){if(H.isUndefined(d)){if(!H.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function o(u,d,f){if(f in e)return s(u,d);if(f in t)return s(void 0,u)}const c={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(u,d,f)=>a(a2(u),a2(d),f,!0)};return H.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||a,h=f(t[d],e[d],d);H.isUndefined(h)&&f!==o||(n[d]=h)}),n}const ZT=t=>{const e=po({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:r,headers:i,auth:o}=e;if(e.headers=i=sn.from(i),e.url=GT(JT(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),H.isFormData(n)){if(Dt.hasStandardBrowserEnv||Dt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(H.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&i.set(d,f)})}}if(Dt.hasStandardBrowserEnv&&(s&&H.isFunction(s)&&(s=s(e)),s||s!==!1&&xP(e.url))){const c=a&&r&&bP.read(r);c&&i.set(a,c)}return e},AP=typeof XMLHttpRequest<"u",NP=AP&&function(t){return new Promise(function(n,s){const a=ZT(t);let r=a.data;const i=sn.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,p;function y(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function b(){if(!w)return;const x=sn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),j={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:t,request:w};YT(function(D){n(D),y()},function(D){s(D),y()},j),w=null}"onloadend"in w?w.onloadend=b:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(b)},w.onabort=function(){w&&(s(new re("Request aborted",re.ECONNABORTED,t,w)),w=null)},w.onerror=function(A){const j=A&&A.message?A.message:"Network Error",k=new re(j,re.ERR_NETWORK,t,w);k.event=A||null,s(k),w=null},w.ontimeout=function(){let A=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||QT;a.timeoutErrorMessage&&(A=a.timeoutErrorMessage),s(new re(A,j.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,t,w)),w=null},r===void 0&&i.setContentType(null),"setRequestHeader"in w&&H.forEach(i.toJSON(),function(A,j){w.setRequestHeader(j,A)}),H.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),o&&o!=="json"&&(w.responseType=a.responseType),u&&([h,p]=nm(u,!0),w.addEventListener("progress",h)),c&&w.upload&&([f,m]=nm(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=x=>{w&&(s(!x||x.type?new zc(null,t,w):x),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const g=pP(a.url);if(g&&Dt.protocols.indexOf(g)===-1){s(new re("Unsupported protocol "+g+":",re.ERR_BAD_REQUEST,t));return}w.send(r||null)})},EP=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,a;const r=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;s.abort(d instanceof re?d:new zc(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,r(new re(`timeout ${e} of ms exceeded`,re.ETIMEDOUT))},e);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:c}=s;return c.unsubscribe=()=>H.asap(o),c}},jP=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,a;for(;s<n;)a=s+e,yield t.slice(s,a),s=a},SP=async function*(t,e){for await(const n of TP(t))yield*jP(n,e)},TP=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},r2=(t,e,n,s)=>{const a=SP(t,e);let r=0,i,o=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){o(),c.close();return}let f=d.byteLength;if(n){let h=r+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},i2=64*1024,{isFunction:Cf}=H,CP=(({Request:t,Response:e})=>({Request:t,Response:e}))(H.global),{ReadableStream:o2,TextEncoder:l2}=H.global,c2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},RP=t=>{t=H.merge.call({skipUndefined:!0},CP,t);const{fetch:e,Request:n,Response:s}=t,a=e?Cf(e):typeof fetch=="function",r=Cf(n),i=Cf(s);if(!a)return!1;const o=a&&Cf(o2),c=a&&(typeof l2=="function"?(p=>y=>p.encode(y))(new l2):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=r&&o&&c2(()=>{let p=!1;const y=new n(Dt.origin,{body:new o2,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!y}),d=i&&o&&c2(()=>H.isReadableStream(new s("").body)),f={stream:d&&(p=>p.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!f[p]&&(f[p]=(y,w)=>{let b=y&&y[p];if(b)return b.call(y);throw new re(`Response type '${p}' is not supported`,re.ERR_NOT_SUPPORT,w)})});const h=async p=>{if(p==null)return 0;if(H.isBlob(p))return p.size;if(H.isSpecCompliantForm(p))return(await new n(Dt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(H.isArrayBufferView(p)||H.isArrayBuffer(p))return p.byteLength;if(H.isURLSearchParams(p)&&(p=p+""),H.isString(p))return(await c(p)).byteLength},m=async(p,y)=>{const w=H.toFiniteNumber(p.getContentLength());return w??h(y)};return async p=>{let{url:y,method:w,data:b,signal:g,cancelToken:x,timeout:A,onDownloadProgress:j,onUploadProgress:k,responseType:D,headers:E,withCredentials:T="same-origin",fetchOptions:B}=ZT(p),R=e||fetch;D=D?(D+"").toLowerCase():"text";let L=EP([g,x&&x.toAbortSignal()],A),U=null;const V=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let O;try{if(k&&u&&w!=="get"&&w!=="head"&&(O=await m(E,b))!==0){let I=new n(y,{method:"POST",body:b,duplex:"half"}),Z;if(H.isFormData(b)&&(Z=I.headers.get("content-type"))&&E.setContentType(Z),I.body){const[le,ue]=n2(O,nm(s2(k)));b=r2(I.body,i2,le,ue)}}H.isString(T)||(T=T?"include":"omit");const C=r&&"credentials"in n.prototype,G={...B,signal:L,method:w.toUpperCase(),headers:E.normalize().toJSON(),body:b,duplex:"half",credentials:C?T:void 0};U=r&&new n(y,G);let K=await(r?R(U,B):R(y,G));const J=d&&(D==="stream"||D==="response");if(d&&(j||J&&V)){const I={};["status","statusText","headers"].forEach(je=>{I[je]=K[je]});const Z=H.toFiniteNumber(K.headers.get("content-length")),[le,ue]=j&&n2(Z,nm(s2(j),!0))||[];K=new s(r2(K.body,i2,le,()=>{ue&&ue(),V&&V()}),I)}D=D||"text";let te=await f[H.findKey(f,D)||"text"](K,p);return!J&&V&&V(),await new Promise((I,Z)=>{YT(I,Z,{data:te,headers:sn.from(K.headers),status:K.status,statusText:K.statusText,config:p,request:U})})}catch(C){throw V&&V(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,p,U),{cause:C.cause||C}):re.from(C,C&&C.code,p,U)}}},OP=new Map,XT=t=>{let e=t?t.env:{};const{fetch:n,Request:s,Response:a}=e,r=[s,a,n];let i=r.length,o=i,c,u,d=OP;for(;o--;)c=r[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:RP(e)),d=u;return u};XT();const Dy={http:K8,xhr:NP,fetch:{get:XT}};H.forEach(Dy,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const u2=t=>`- ${t}`,DP=t=>H.isFunction(t)||t===null||t===!1,$T={getAdapter:(t,e)=>{t=H.isArray(t)?t:[t];const{length:n}=t;let s,a;const r={};for(let i=0;i<n;i++){s=t[i];let o;if(a=s,!DP(s)&&(a=Dy[(o=String(s)).toLowerCase()],a===void 0))throw new re(`Unknown adapter '${o}'`);if(a&&(H.isFunction(a)||(a=a.get(e))))break;r[o||"#"+i]=a}if(!a){const i=Object.entries(r).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?i.length>1?`since :
`+i.map(u2).join(`
`):" "+u2(i[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Dy};function Tg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zc(null,t)}function d2(t){return Tg(t),t.headers=sn.from(t.headers),t.data=Sg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$T.getAdapter(t.adapter||Zd.adapter,t)(t).then(function(s){return Tg(t),s.data=Sg.call(t,t.transformResponse,s),s.headers=sn.from(s.headers),s},function(s){return KT(s)||(Tg(t),s&&s.response&&(s.response.data=Sg.call(t,t.transformResponse,s.response),s.response.headers=sn.from(s.response.headers))),Promise.reject(s)})}const WT="1.12.2",lp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{lp[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const f2={};lp.transitional=function(e,n,s){function a(r,i){return"[Axios v"+WT+"] Transitional option '"+r+"'"+i+(s?". "+s:"")}return(r,i,o)=>{if(e===!1)throw new re(a(i," has been removed"+(n?" in "+n:"")),re.ERR_DEPRECATED);return n&&!f2[i]&&(f2[i]=!0,console.warn(a(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,i,o):!0}};lp.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function BP(t,e,n){if(typeof t!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let a=s.length;for(;a-- >0;){const r=s[a],i=e[r];if(i){const o=t[r],c=o===void 0||i(o,r,t);if(c!==!0)throw new re("option "+r+" must be "+c,re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new re("Unknown option "+r,re.ERR_BAD_OPTION)}}const oh={assertOptions:BP,validators:lp},ws=oh.validators;let so=class{constructor(e){this.defaults=e||{},this.interceptors={request:new e2,response:new e2}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const r=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=po(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:r}=n;s!==void 0&&oh.assertOptions(s,{silentJSONParsing:ws.transitional(ws.boolean),forcedJSONParsing:ws.transitional(ws.boolean),clarifyTimeoutError:ws.transitional(ws.boolean)},!1),a!=null&&(H.isFunction(a)?n.paramsSerializer={serialize:a}:oh.assertOptions(a,{encode:ws.function,serialize:ws.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),oh.assertOptions(n,{baseUrl:ws.spelling("baseURL"),withXsrfToken:ws.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=r&&H.merge(r.common,r[n.method]);r&&H.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=sn.concat(i,r);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,h;if(!c){const p=[d2.bind(this),void 0];for(p.unshift(...o),p.push(...u),h=p.length,d=Promise.resolve(n);f<h;)d=d.then(p[f++],p[f++]);return d}h=o.length;let m=n;for(;f<h;){const p=o[f++],y=o[f++];try{m=p(m)}catch(w){y.call(this,w);break}}try{d=d2.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=po(this.defaults,e);const n=JT(e.baseURL,e.url,e.allowAbsoluteUrls);return GT(n,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){so.prototype[e]=function(n,s){return this.request(po(s||{},{method:e,url:n,data:(s||{}).data}))}});H.forEach(["post","put","patch"],function(e){function n(s){return function(r,i,o){return this.request(po(o||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}so.prototype[e]=n(),so.prototype[e+"Form"]=n(!0)});let MP=class eC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(a=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](a);s._listeners=null}),this.promise.then=a=>{let r;const i=new Promise(o=>{s.subscribe(o),r=o}).then(a);return i.cancel=function(){s.unsubscribe(r)},i},e(function(r,i,o){s.reason||(s.reason=new zc(r,i,o),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new eC(function(a){e=a}),cancel:e}}};function kP(t){return function(n){return t.apply(null,n)}}function PP(t){return H.isObject(t)&&t.isAxiosError===!0}const By={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(By).forEach(([t,e])=>{By[e]=t});function tC(t){const e=new so(t),n=BT(so.prototype.request,e);return H.extend(n,so.prototype,e,{allOwnKeys:!0}),H.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return tC(po(t,a))},n}const tt=tC(Zd);tt.Axios=so;tt.CanceledError=zc;tt.CancelToken=MP;tt.isCancel=KT;tt.VERSION=WT;tt.toFormData=op;tt.AxiosError=re;tt.Cancel=tt.CanceledError;tt.all=function(e){return Promise.all(e)};tt.spread=kP;tt.isAxiosError=PP;tt.mergeConfig=po;tt.AxiosHeaders=sn;tt.formToJSON=t=>qT(H.isHTMLForm(t)?new FormData(t):t);tt.getAdapter=$T.getAdapter;tt.HttpStatusCode=By;tt.default=tt;const{Axios:K7,AxiosError:Y7,CanceledError:J7,isCancel:Z7,CancelToken:X7,VERSION:$7,all:W7,Cancel:eH,isAxiosError:tH,spread:nH,toFormData:sH,AxiosHeaders:aH,HttpStatusCode:rH,formToJSON:iH,getAdapter:oH,mergeConfig:lH}=tt,UP="http://localhost:5000/api",Fe=tt.create({baseURL:UP,timeout:3e4,headers:{"Content-Type":"application/json"}});Fe.interceptors.request.use(t=>{const e=localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Fe.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(t)});const LP={checkUser:t=>Fe.get(`/auth/check/${t}`),registerPadre:t=>Fe.post("/auth/register/padre",t,{timeout:6e4}),registerHijo:t=>Fe.post("/auth/register/hijo",t),registerComercio:t=>Fe.post("/auth/register/comercio",t),loginHijo:t=>Fe.post("/auth/login/hijo",t),updateProfile:t=>Fe.put("/auth/profile",t)},nC={uploadImage:t=>Fe.post("/upload/image",t,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4}),uploadImageForRegister:t=>Fe.post("/upload/register-image",t,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4}),deleteImage:t=>Fe.delete(`/upload/image/${t}`)},sC=N.createContext();function zP({children:t}){const[e,n]=N.useState(null),[s,a]=N.useState(null),[r,i]=N.useState(!0),[o,c]=N.useState([]),{account:u}=gs(),d=N.useRef(!1),f=N.useRef(null),h=N.useRef(!1),m=async(R=!1)=>{var L;if(!u||d.current){console.log("Skipping auth check: no account or already checking");return}if(!R&&f.current===u&&h.current){console.log("Skipping auth check: already checked for this account");return}if(!R&&e&&s){console.log("Skipping auth check: user already authenticated");return}console.log("Starting auth check for account:",u),d.current=!0,h.current=!0,f.current=u,i(!0);try{const U=await Fe.get(`/auth/check/${u}`);if(console.log("Auth check response:",U.data),U.data.exists){const V=U.data.user;n(V),a(V.role),U.data.token&&(localStorage.setItem("authToken",U.data.token),console.log("Token guardado para autenticacin")),V.role==="padre"&&c([])}else console.log("User not found in database for wallet:",u),n(null),a(null),c([]),F.error("No se encontr una cuenta registrada para esta wallet. Por favor regstrate primero.")}catch(U){if(console.error("Auth check error:",U),((L=U.response)==null?void 0:L.status)===429){console.log("Rate limit hit - this should not happen in development now"),F.error("Servidor sobrecargado. El backend necesita ser reiniciado."),setTimeout(()=>{d.current=!1,h.current=!1},5e3);return}n(null),a(null),c([])}finally{i(!1),d.current=!1}};N.useEffect(()=>{u?f.current!==u&&(f.current=u,h.current=!1,i(!1)):(n(null),a(null),c([]),i(!1),h.current=!1,f.current=null)},[u]);const p=async R=>{var L,U;try{const V={nombre:R.nombre,apellido:R.apellido,email:R.email,telefono:R.telefono,password:R.password,fotoPerfil:R.fotoPerfil,walletAddress:u,role:"padre"},O=await LP.registerPadre(V);if(O.data.success)return O.data.token&&localStorage.setItem("authToken",O.data.token),n(O.data.user),a("padre"),F.success("Registro exitoso como Padre/Tutor"),{success:!0,user:O.data.user}}catch(V){console.error("Error registering padre:",V);const O=((U=(L=V.response)==null?void 0:L.data)==null?void 0:U.message)||"Error en el registro";return F.error(O),{success:!1,error:O}}},y=async R=>{var L,U;try{const V={...R,padreAddress:(e==null?void 0:e.walletAddress)||u},O=await Fe.post("/auth/register/hijo",V);if(O.data.success)return await k(),F.success("Hijo registrado exitosamente"),{success:!0,hijo:O.data.hijo}}catch(V){const O=((U=(L=V.response)==null?void 0:L.data)==null?void 0:U.message)||"Error al registrar hijo";return F.error(O),{success:!1,error:O}}},w=async R=>{var L,U;try{const V={...R,walletAddress:u,role:"comercio"},O=await Fe.post("/auth/register/comercio",V);if(O.data.success)return O.data.token&&localStorage.setItem("authToken",O.data.token),n(O.data.user),a("comercio"),F.success("Registro exitoso como Comercio"),{success:!0,user:O.data.user}}catch(V){console.error("Error registering comercio:",V);const O=((U=(L=V.response)==null?void 0:L.data)==null?void 0:U.message)||"Error en el registro";return F.error(O),{success:!1,error:O}}},b=async(R,L,U)=>{var V,O;try{const C=await Fe.post("/auth/login/padre",{email:R,password:L,walletAddress:U});if(C.data.success)return C.data.token&&localStorage.setItem("authToken",C.data.token),n(C.data.user),a("padre"),await k(),F.success("Login exitoso"),{success:!0,user:C.data.user}}catch(C){console.error("Error logging in padre:",C);const G=((O=(V=C.response)==null?void 0:V.data)==null?void 0:O.message)||"Error en el login";return F.error(G),{success:!1,error:G}}},g=async(R,L,U)=>{var V,O;try{const C=await Fe.post("/auth/login/comercio",{email:R,password:L,walletAddress:U});if(C.data.success)return C.data.token&&localStorage.setItem("authToken",C.data.token),n(C.data.user),a("comercio"),F.success("Login exitoso"),{success:!0,user:C.data.user}}catch(C){console.error("Error logging in comercio:",C);const G=((O=(V=C.response)==null?void 0:V.data)==null?void 0:O.message)||"Error en el login";return F.error(G),{success:!1,error:G}}},x=async(R,L)=>{var U,V;try{const O=await Fe.post("/auth/login/hijo",{hijoId:R,password:L});if(O.data.success)return n(O.data.hijo),a("hijo"),F.success("Login exitoso"),{success:!0,user:O.data.hijo}}catch(O){console.error("Error logging in hijo:",O);const C=((V=(U=O.response)==null?void 0:U.data)==null?void 0:V.message)||"Error en el login";return F.error(C),{success:!1,error:C}}},A=async R=>{var L,U;try{const V=await Fe.put("/auth/profile",{...R,walletAddress:u});if(V.data.success)return n(V.data.user),F.success("Perfil actualizado exitosamente"),{success:!0,user:V.data.user}}catch(V){console.error("Error updating profile:",V);const O=((U=(L=V.response)==null?void 0:L.data)==null?void 0:U.message)||"Error al actualizar perfil";return F.error(O),{success:!1,error:O}}},j=async(R,L)=>{var U,V;try{if((await Fe.post("/auth/set-limits",{hijoId:R,limits:L,padreAddress:u})).data.success)return F.success("Lmites establecidos exitosamente"),{success:!0}}catch(O){console.error("Error setting limits:",O);const C=((V=(U=O.response)==null?void 0:U.data)==null?void 0:V.message)||"Error al establecer lmites";return F.error(C),{success:!1,error:C}}},k=async()=>{var R;try{const L=await Fe.get("/users/children");L.data.success?(console.log(" Datos completos de hijos:",L.data.children),L.data.children.forEach(U=>{console.log(` ${U.name} - spendingLimits:`,U.spendingLimits)}),c(L.data.children),console.log(` ${L.data.children.length} hijos cargados`)):c([])}catch(L){console.error(" Error loading children:",((R=L.response)==null?void 0:R.data)||L.message),c([])}},B={user:e,userRole:s,isLoading:r,userChildren:o,children:o,registerPadre:p,registerHijo:y,registerComercio:w,loginPadre:b,loginComercio:g,loginHijo:x,updateProfile:A,updateUser:R=>{n(R)},setSpendingLimits:j,logout:()=>{localStorage.removeItem("authToken"),n(null),a(null),c([]),F.success("Sesin cerrada")},checkUserAuthentication:m,loadChildren:k,getLimits:async R=>{var L;try{const U=await Fe.get(`/auth/get-limits/${R}`);return U.data.success?{success:!0,limits:U.data.limits}:{success:!1,limits:{}}}catch(U){return console.error(" Error loading limits:",((L=U.response)==null?void 0:L.data)||U.message),{success:!1,limits:{}}}}};return l.jsx(sC.Provider,{value:B,children:t})}const xs=()=>{const t=N.useContext(sC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),W=(t,e)=>{const n=N.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:i,className:o="",children:c,...u},d)=>N.createElement("svg",{ref:d,...HP,width:a,height:a,stroke:s,strokeWidth:i?Number(r)*24/Number(a):r,className:["lucide",`lucide-${VP(t)}`,o].join(" "),...u},[...e.map(([f,h])=>N.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=W("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=W("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=W("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=W("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=W("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=W("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=W("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=W("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=W("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=W("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=W("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=W("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=W("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=W("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=W("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=W("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=W("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=W("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=W("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=W("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=W("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=W("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=W("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=W("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=W("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=W("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=W("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=W("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=W("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=W("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=W("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=W("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=W("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=W("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function oU(){const{account:t,connectWallet:e,disconnectWallet:n,isConnecting:s}=gs(),{user:a,userRole:r,logout:i}=xs(),o=()=>{i(),n()},c=u=>u?`${u.slice(0,6)}...${u.slice(-4)}`:"";return l.jsx("nav",{className:"bg-white shadow-lg border-b border-gray-200",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs(Ls,{to:"/",className:"flex items-center space-x-2",children:[l.jsx(qr,{className:"h-8 w-8 text-primary-600"}),l.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Monedero Digital"})]}),l.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[l.jsxs(Ls,{to:"/",className:"flex items-center space-x-1 text-gray-600 hover:text-primary-600 transition-colors",children:[l.jsx(WP,{className:"h-4 w-4"}),l.jsx("span",{children:"Inicio"})]}),a&&l.jsxs(Ls,{to:`/${r}/dashboard`,className:"flex items-center space-x-1 text-gray-600 hover:text-primary-600 transition-colors",children:[l.jsx(En,{className:"h-4 w-4"}),l.jsx("span",{children:"Dashboard"})]})]}),l.jsx("div",{className:"flex items-center space-x-4",children:t?l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-gray-600",children:"Wallet:"}),l.jsx("div",{className:"font-mono text-gray-900",children:c(t)})]}),a&&l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-gray-600",children:"Usuario:"}),l.jsxs("div",{className:"font-medium text-gray-900 capitalize",children:[a.nombre," (",r,")"]})]}),l.jsxs("button",{onClick:o,className:"flex items-center space-x-1 text-gray-600 hover:text-red-600 transition-colors",children:[l.jsx(tU,{className:"h-4 w-4"}),l.jsx("span",{children:"Salir"})]})]}):l.jsx("button",{onClick:e,disabled:s,className:"btn-primary",children:s?"Conectando...":"Conectar Wallet"})})]})})})}function lU(){const{account:t}=gs(),{user:e,userRole:n}=xs();return l.jsxs("div",{className:"min-h-screen",children:[l.jsx("section",{className:"text-center py-16",children:l.jsxs("div",{className:"animate-fade-in",children:[l.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Monedero Digital DApp"}),l.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Una aplicacin descentralizada que permite a los padres gestionar el dinero de sus hijos de manera segura y controlada, mientras los comercios pueden recibir pagos fcilmente."}),t?e?l.jsxs(Ls,{to:`/${n}/dashboard`,className:"btn-primary inline-flex items-center space-x-2",children:[l.jsx("span",{children:"Ir al Dashboard"}),l.jsx(GP,{className:"h-4 w-4"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Qu tipo de usuario eres?"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(Ls,{to:"/register/padre",className:"btn-primary",onClick:()=>console.log("Click en botn Padre"),children:"Soy Padre/Tutor"}),l.jsx(Ls,{to:"/register/comercio",className:"btn-secondary",onClick:()=>console.log("Click en botn Comercio"),children:"Soy Comercio"}),l.jsx(Ls,{to:"/login",className:"btn-outline",onClick:()=>console.log("Click en botn Login"),children:"Soy Hijo (Login)"})]})]}):l.jsx("div",{className:"space-y-4",children:l.jsx("p",{className:"text-lg text-gray-700",children:"Conecta tu wallet MetaMask para comenzar"})})]})}),l.jsx("section",{className:"py-16 bg-white",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Caractersticas Principales"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"card text-center animate-slide-up",children:[l.jsx(Wt,{className:"h-12 w-12 text-primary-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Para Padres/Tutores"}),l.jsxs("ul",{className:"text-gray-600 space-y-2",children:[l.jsx("li",{children:" Registrar y gestionar hijos"}),l.jsx("li",{children:" Establecer lmites de gasto"}),l.jsx("li",{children:" Transferir fondos"}),l.jsx("li",{children:" Ver historial completo"})]})]}),l.jsxs("div",{className:"card text-center animate-slide-up",children:[l.jsx(qr,{className:"h-12 w-12 text-secondary-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Para Hijos"}),l.jsxs("ul",{className:"text-gray-600 space-y-2",children:[l.jsx("li",{children:" Ver saldo disponible"}),l.jsx("li",{children:" Realizar pagos seguros"}),l.jsx("li",{children:" Respetar lmites establecidos"}),l.jsx("li",{children:" Historial de transacciones"})]})]}),l.jsxs("div",{className:"card text-center animate-slide-up",children:[l.jsx(Sa,{className:"h-12 w-12 text-accent-600 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Para Comercios"}),l.jsxs("ul",{className:"text-gray-600 space-y-2",children:[l.jsx("li",{children:" Recibir pagos digitales"}),l.jsx("li",{children:" Gestionar productos"}),l.jsx("li",{children:" Ver historial de ventas"}),l.jsx("li",{children:" Categorizacin automtica"})]})]})]})]})}),l.jsx("section",{className:"py-16 bg-gray-50",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Tecnologas Utilizadas"}),l.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx(My,{className:"h-8 w-8 text-blue-600 mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold",children:"Blockchain"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Ethereum, Sepolia, Holesky"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx(bn,{className:"h-8 w-8 text-green-600 mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold",children:"Smart Contracts"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Solidity"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx(cp,{className:"h-8 w-8 text-purple-600 mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold",children:"Frontend"}),l.jsx("p",{className:"text-sm text-gray-600",children:"React 19, Vite, TailwindCSS"})]}),l.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[l.jsx($P,{className:"h-8 w-8 text-orange-600 mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold",children:"Backend"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Node.js, MongoDB, Express"})]})]})]})}),l.jsx("section",{className:"py-16 bg-primary-600 text-white",children:l.jsxs("div",{className:"container mx-auto px-4 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Comienza a usar el Monedero Digital!"}),l.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"nete a la revolucin de los pagos digitales seguros y controlados"}),!t&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-lg",children:"Instala MetaMask y conecta tu wallet para empezar"}),l.jsx("a",{href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer",className:"bg-white text-primary-600 px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors inline-block",children:"Instalar MetaMask"})]})]})})]})}const cC=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),hp=N.createContext({}),mp=N.createContext(null),pp=typeof document<"u",jb=pp?N.useLayoutEffect:N.useEffect,uC=N.createContext({strict:!1}),Sb=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),cU="framerAppearId",dC="data-"+Sb(cU);function uU(t,e,n,s){const{visualElement:a}=N.useContext(hp),r=N.useContext(uC),i=N.useContext(mp),o=N.useContext(cC).reducedMotion,c=N.useRef();s=s||r.renderer,!c.current&&s&&(c.current=s(t,{visualState:e,parent:a,props:n,presenceContext:i,blockInitialAnimation:i?i.initial===!1:!1,reducedMotionConfig:o}));const u=c.current;N.useInsertionEffect(()=>{u&&u.update(n,i)});const d=N.useRef(!!(n[dC]&&!window.HandoffComplete));return jb(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),N.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function dU(t,e,n){return N.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Wo(n)&&(n.current=s))},[e])}function dd(t){return typeof t=="string"||Array.isArray(t)}function gp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Tb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cb=["initial",...Tb];function yp(t){return gp(t.animate)||Cb.some(e=>dd(t[e]))}function fC(t){return!!(yp(t)||t.variants)}function fU(t,e){if(yp(t)){const{initial:n,animate:s}=t;return{initial:n===!1||dd(n)?n:void 0,animate:dd(s)?s:void 0}}return t.inherit!==!1?e:{}}function hU(t){const{initial:e,animate:n}=fU(t,N.useContext(hp));return N.useMemo(()=>({initial:e,animate:n}),[p2(e),p2(n)])}function p2(t){return Array.isArray(t)?t.join(" "):t}const g2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fd={};for(const t in g2)fd[t]={isEnabled:e=>g2[t].some(n=>!!e[n])};function mU(t){for(const e in t)fd[e]={...fd[e],...t[e]}}const Rb=N.createContext({}),hC=N.createContext({}),pU=Symbol.for("motionComponentSymbol");function gU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){t&&mU(t);function r(o,c){let u;const d={...N.useContext(cC),...o,layoutId:yU(o)},{isStatic:f}=d,h=hU(o),m=s(o,f);if(!f&&pp){h.visualElement=uU(a,m,d,e);const p=N.useContext(hC),y=N.useContext(uC).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,y,t,p))}return N.createElement(hp.Provider,{value:h},u&&h.visualElement?N.createElement(u,{visualElement:h.visualElement,...d}):null,n(a,o,dU(m,h.visualElement,c),m,f,h.visualElement))}const i=N.forwardRef(r);return i[pU]=a,i}function yU({layoutId:t}){const e=N.useContext(Rb).id;return e&&t!==void 0?e+"-"+t:t}function xU(t){function e(s,a={}){return gU(t(s,a))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,a)=>(n.has(a)||n.set(a,e(a)),n.get(a))})}const bU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ob(t){return typeof t!="string"||t.includes("-")?!1:!!(bU.indexOf(t)>-1||/[A-Z]/.test(t))}const rm={};function vU(t){Object.assign(rm,t)}const Xd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eo=new Set(Xd);function mC(t,{layout:e,layoutId:n}){return Eo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rm[t]||t==="opacity")}const on=t=>!!(t&&t.getVelocity),wU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AU=Xd.length;function NU(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,a){let r="";for(let i=0;i<AU;i++){const o=Xd[i];if(t[o]!==void 0){const c=wU[o]||o;r+=`${c}(${t[o]}) `}}return e&&!t.z&&(r+="translateZ(0)"),r=r.trim(),a?r=a(t,s?"":r):n&&s&&(r="none"),r}const pC=t=>e=>typeof e=="string"&&e.startsWith(t),gC=pC("--"),Uy=pC("var(--"),EU=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,jU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Kr=(t,e,n)=>Math.min(Math.max(n,t),e),jo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ru={...jo,transform:t=>Kr(0,1,t)},Rf={...jo,default:1},Ou=t=>Math.round(t*1e5)/1e5,xp=/(-)?([\d]*\.?[\d])+/g,yC=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,SU=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $d(t){return typeof t=="string"}const Wd=t=>({test:e=>$d(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ka=Wd("deg"),Is=Wd("%"),ne=Wd("px"),TU=Wd("vh"),CU=Wd("vw"),y2={...Is,parse:t=>Is.parse(t)/100,transform:t=>Is.transform(t*100)},x2={...jo,transform:Math.round},xC={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,size:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,rotate:Ka,rotateX:Ka,rotateY:Ka,rotateZ:Ka,scale:Rf,scaleX:Rf,scaleY:Rf,scaleZ:Rf,skew:Ka,skewX:Ka,skewY:Ka,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:Ru,originX:y2,originY:y2,originZ:ne,zIndex:x2,fillOpacity:Ru,strokeOpacity:Ru,numOctaves:x2};function Db(t,e,n,s){const{style:a,vars:r,transform:i,transformOrigin:o}=t;let c=!1,u=!1,d=!0;for(const f in e){const h=e[f];if(gC(f)){r[f]=h;continue}const m=xC[f],p=jU(h,m);if(Eo.has(f)){if(c=!0,i[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,o[f]=p):a[f]=p}if(e.transform||(c||s?a.transform=NU(t.transform,n,d,s):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;a.transformOrigin=`${f} ${h} ${m}`}}const Bb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bC(t,e,n){for(const s in e)!on(e[s])&&!mC(s,n)&&(t[s]=e[s])}function RU({transformTemplate:t},e,n){return N.useMemo(()=>{const s=Bb();return Db(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function OU(t,e,n){const s=t.style||{},a={};return bC(a,s,t),Object.assign(a,RU(t,e,n)),t.transformValues?t.transformValues(a):a}function DU(t,e,n){const s={},a=OU(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=a,s}const BU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function im(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BU.has(t)}let vC=t=>!im(t);function MU(t){t&&(vC=e=>e.startsWith("on")?!im(e):t(e))}try{MU(require("@emotion/is-prop-valid").default)}catch{}function kU(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(vC(a)||n===!0&&im(a)||!e&&!im(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function b2(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function PU(t,e,n){const s=b2(e,t.x,t.width),a=b2(n,t.y,t.height);return`${s} ${a}`}const UU={offset:"stroke-dashoffset",array:"stroke-dasharray"},LU={offset:"strokeDashoffset",array:"strokeDasharray"};function zU(t,e,n=1,s=0,a=!0){t.pathLength=1;const r=a?UU:LU;t[r.offset]=ne.transform(-s);const i=ne.transform(e),o=ne.transform(n);t[r.array]=`${i} ${o}`}function Mb(t,{attrX:e,attrY:n,attrScale:s,originX:a,originY:r,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...u},d,f,h){if(Db(t,u,d,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:y}=t;m.transform&&(y&&(p.transform=m.transform),delete m.transform),y&&(a!==void 0||r!==void 0||p.transform)&&(p.transformOrigin=PU(y,a!==void 0?a:.5,r!==void 0?r:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),i!==void 0&&zU(m,i,o,c,!1)}const wC=()=>({...Bb(),attrs:{}}),kb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function HU(t,e,n,s){const a=N.useMemo(()=>{const r=wC();return Mb(r,e,{enableHardwareAcceleration:!1},kb(s),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};bC(r,t.style,t),a.style={...r,...a.style}}return a}function VU(t=!1){return(n,s,a,{latestValues:r},i)=>{const c=(Ob(n)?HU:DU)(s,r,i,n),d={...kU(s,typeof n=="string",t),...c,ref:a},{children:f}=s,h=N.useMemo(()=>on(f)?f.get():f,[f]);return N.createElement(n,{...d,children:h})}}function AC(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const r in n)t.style.setProperty(r,n[r])}const NC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EC(t,e,n,s){AC(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(NC.has(a)?a:Sb(a),e.attrs[a])}function Pb(t,e){const{style:n}=t,s={};for(const a in n)(on(n[a])||e.style&&on(e.style[a])||mC(a,t))&&(s[a]=n[a]);return s}function jC(t,e){const n=Pb(t,e);for(const s in t)if(on(t[s])||on(e[s])){const a=Xd.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=t[s]}return n}function Ub(t,e,n,s={},a={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,a)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,a)),e}function SC(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const om=t=>Array.isArray(t),IU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),FU=t=>om(t)?t[t.length-1]||0:t;function lh(t){const e=on(t)?t.get():t;return IU(e)?e.toValue():e}function _U({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,a,r){const i={latestValues:GU(s,a,r,t),renderState:e()};return n&&(i.mount=o=>n(s,o,i)),i}const TC=t=>(e,n)=>{const s=N.useContext(hp),a=N.useContext(mp),r=()=>_U(t,e,s,a);return n?r():SC(r)};function GU(t,e,n,s){const a={},r=s(t,{});for(const h in r)a[h]=lh(r[h]);let{initial:i,animate:o}=t;const c=yp(t),u=fC(t);e&&u&&!c&&t.inherit!==!1&&(i===void 0&&(i=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const f=d?o:i;return f&&typeof f!="boolean"&&!gp(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=Ub(t,m);if(!p)return;const{transitionEnd:y,transition:w,...b}=p;for(const g in b){let x=b[g];if(Array.isArray(x)){const A=d?x.length-1:0;x=x[A]}x!==null&&(a[g]=x)}for(const g in y)a[g]=y[g]}),a}const $e=t=>t;class v2{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function QU(t){let e=new v2,n=new v2,s=0,a=!1,r=!1;const i=new WeakSet,o={schedule:(c,u=!1,d=!1)=>{const f=d&&a,h=f?e:n;return u&&i.add(c),h.add(c)&&f&&a&&(s=e.order.length),c},cancel:c=>{n.remove(c),i.delete(c)},process:c=>{if(a){r=!0;return}if(a=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let u=0;u<s;u++){const d=e.order[u];d(c),i.has(d)&&(o.schedule(d),t())}a=!1,r&&(r=!1,o.process(c))}};return o}const Of=["prepare","read","update","preRender","render","postRender"],qU=40;function KU(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},r=Of.reduce((f,h)=>(f[h]=QU(()=>n=!0),f),{}),i=f=>r[f].process(a),o=()=>{const f=performance.now();n=!1,a.delta=s?1e3/60:Math.max(Math.min(f-a.timestamp,qU),1),a.timestamp=f,a.isProcessing=!0,Of.forEach(i),a.isProcessing=!1,n&&e&&(s=!1,t(o))},c=()=>{n=!0,s=!0,a.isProcessing||t(o)};return{schedule:Of.reduce((f,h)=>{const m=r[h];return f[h]=(p,y=!1,w=!1)=>(n||c(),m.schedule(p,y,w)),f},{}),cancel:f=>Of.forEach(h=>r[h].cancel(f)),state:a,steps:r}}const{schedule:Pe,cancel:La,state:Ot,steps:Og}=KU(typeof requestAnimationFrame<"u"?requestAnimationFrame:$e,!0),YU={useVisualState:TC({scrapeMotionValuesFromProps:jC,createRenderState:wC,onMount:(t,e,{renderState:n,latestValues:s})=>{Pe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Pe.render(()=>{Mb(n,s,{enableHardwareAcceleration:!1},kb(e.tagName),t.transformTemplate),EC(e,n)})}})},JU={useVisualState:TC({scrapeMotionValuesFromProps:Pb,createRenderState:Bb})};function ZU(t,{forwardMotionProps:e=!1},n,s){return{...Ob(t)?YU:JU,preloadedFeatures:n,useRender:VU(e),createVisualElement:s,Component:t}}function va(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const CC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function bp(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const XU=t=>e=>CC(e)&&t(e,bp(e));function Ta(t,e,n,s){return va(t,e,XU(n),s)}const $U=(t,e)=>n=>e(t(n)),zr=(...t)=>t.reduce($U);function RC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const w2=RC("dragHorizontal"),A2=RC("dragVertical");function OC(t){let e=!1;if(t==="y")e=A2();else if(t==="x")e=w2();else{const n=w2(),s=A2();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function DC(){const t=OC(!0);return t?(t(),!1):!0}class ni{constructor(e){this.isMounted=!1,this.node=e}update(){}}function N2(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),a=(r,i)=>{if(r.pointerType==="touch"||DC())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[s]&&Pe.update(()=>o[s](r,i))};return Ta(t.current,n,a,{passive:!t.getProps()[s]})}class WU extends ni{mount(){this.unmount=zr(N2(this.node,!0),N2(this.node,!1))}unmount(){}}class eL extends ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zr(va(this.node.current,"focus",()=>this.onFocus()),va(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const BC=(t,e)=>e?t===e?!0:BC(t,e.parentElement):!1;function Dg(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,bp(n))}class tL extends ni{constructor(){super(...arguments),this.removeStartListeners=$e,this.removeEndListeners=$e,this.removeAccessibleListeners=$e,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),r=Ta(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Pe.update(()=>{!f&&!BC(this.node.current,o.target)?d&&d(o,c):u&&u(o,c)})},{passive:!(s.onTap||s.onPointerUp)}),i=Ta(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=zr(r,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=r=>{if(r.key!=="Enter"||this.isPressing)return;const i=o=>{o.key!=="Enter"||!this.checkPressEnd()||Dg("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Pe.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=va(this.node.current,"keyup",i),Dg("down",(o,c)=>{this.startPress(o,c)})},n=va(this.node.current,"keydown",e),s=()=>{this.isPressing&&Dg("cancel",(r,i)=>this.cancelPress(r,i))},a=va(this.node.current,"blur",s);this.removeAccessibleListeners=zr(n,a)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Pe.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!DC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Pe.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=Ta(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=va(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zr(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ly=new WeakMap,Bg=new WeakMap,nL=t=>{const e=Ly.get(t.target);e&&e(t)},sL=t=>{t.forEach(nL)};function aL({root:t,...e}){const n=t||document;Bg.has(n)||Bg.set(n,{});const s=Bg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(sL,{root:t,...e})),s[a]}function rL(t,e,n){const s=aL(e);return Ly.set(t,n),s.observe(t),()=>{Ly.delete(t),s.unobserve(t)}}const iL={some:0,all:1};class oL extends ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:r}=e,i={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:iL[a]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return rL(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lL(e,n))&&this.startObserver()}unmount(){}}function lL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const cL={inView:{Feature:oL},tap:{Feature:tL},focus:{Feature:eL},hover:{Feature:WU}};function MC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function uL(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function dL(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function vp(t,e,n){const s=t.getProps();return Ub(s,e,n!==void 0?n:s.custom,uL(t),dL(t))}let Lb=$e;const ao=t=>t*1e3,Ca=t=>t/1e3,fL={current:!1},kC=t=>Array.isArray(t)&&typeof t[0]=="number";function PC(t){return!!(!t||typeof t=="string"&&UC[t]||kC(t)||Array.isArray(t)&&t.every(PC))}const du=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,UC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:du([0,.65,.55,1]),circOut:du([.55,0,1,.45]),backIn:du([.31,.01,.66,-.59]),backOut:du([.33,1.53,.69,.99])};function LC(t){if(t)return kC(t)?du(t):Array.isArray(t)?t.map(LC):UC[t]}function hL(t,e,n,{delay:s=0,duration:a,repeat:r=0,repeatType:i="loop",ease:o,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=LC(o);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:s,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:i==="reverse"?"alternate":"normal"})}function mL(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const zC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pL=1e-7,gL=12;function yL(t,e,n,s,a){let r,i,o=0;do i=e+(n-e)/2,r=zC(i,s,a)-t,r>0?n=i:e=i;while(Math.abs(r)>pL&&++o<gL);return i}function ef(t,e,n,s){if(t===e&&n===s)return $e;const a=r=>yL(r,0,1,t,n);return r=>r===0||r===1?r:zC(a(r),e,s)}const xL=ef(.42,0,1,1),bL=ef(0,0,.58,1),HC=ef(.42,0,.58,1),vL=t=>Array.isArray(t)&&typeof t[0]!="number",VC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IC=t=>e=>1-t(1-e),zb=t=>1-Math.sin(Math.acos(t)),FC=IC(zb),wL=VC(zb),_C=ef(.33,1.53,.69,.99),Hb=IC(_C),AL=VC(Hb),NL=t=>(t*=2)<1?.5*Hb(t):.5*(2-Math.pow(2,-10*(t-1))),EL={linear:$e,easeIn:xL,easeInOut:HC,easeOut:bL,circIn:zb,circInOut:wL,circOut:FC,backIn:Hb,backInOut:AL,backOut:_C,anticipate:NL},E2=t=>{if(Array.isArray(t)){Lb(t.length===4);const[e,n,s,a]=t;return ef(e,n,s,a)}else if(typeof t=="string")return EL[t];return t},Vb=(t,e)=>n=>!!($d(n)&&SU.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),GC=(t,e,n)=>s=>{if(!$d(s))return s;const[a,r,i,o]=s.match(xp);return{[t]:parseFloat(a),[e]:parseFloat(r),[n]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},jL=t=>Kr(0,255,t),Mg={...jo,transform:t=>Math.round(jL(t))},Ri={test:Vb("rgb","red"),parse:GC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Mg.transform(t)+", "+Mg.transform(e)+", "+Mg.transform(n)+", "+Ou(Ru.transform(s))+")"};function SL(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const zy={test:Vb("#"),parse:SL,transform:Ri.transform},el={test:Vb("hsl","hue"),parse:GC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Is.transform(Ou(e))+", "+Is.transform(Ou(n))+", "+Ou(Ru.transform(s))+")"},Lt={test:t=>Ri.test(t)||zy.test(t)||el.test(t),parse:t=>Ri.test(t)?Ri.parse(t):el.test(t)?el.parse(t):zy.parse(t),transform:t=>$d(t)?t:t.hasOwnProperty("red")?Ri.transform(t):el.transform(t)},Ge=(t,e,n)=>-n*t+n*e+t;function kg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TL({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,r=0,i=0;if(!e)a=r=i=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;a=kg(c,o,t+1/3),r=kg(c,o,t),i=kg(c,o,t-1/3)}return{red:Math.round(a*255),green:Math.round(r*255),blue:Math.round(i*255),alpha:s}}const Pg=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},CL=[zy,Ri,el],RL=t=>CL.find(e=>e.test(t));function j2(t){const e=RL(t);let n=e.parse(t);return e===el&&(n=TL(n)),n}const QC=(t,e)=>{const n=j2(t),s=j2(e),a={...n};return r=>(a.red=Pg(n.red,s.red,r),a.green=Pg(n.green,s.green,r),a.blue=Pg(n.blue,s.blue,r),a.alpha=Ge(n.alpha,s.alpha,r),Ri.transform(a))};function OL(t){var e,n;return isNaN(t)&&$d(t)&&(((e=t.match(xp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(yC))===null||n===void 0?void 0:n.length)||0)>0}const qC={regex:EU,countKey:"Vars",token:"${v}",parse:$e},KC={regex:yC,countKey:"Colors",token:"${c}",parse:Lt.parse},YC={regex:xp,countKey:"Numbers",token:"${n}",parse:jo.parse};function Ug(t,{regex:e,countKey:n,token:s,parse:a}){const r=t.tokenised.match(e);r&&(t["num"+n]=r.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...r.map(a)))}function lm(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ug(n,qC),Ug(n,KC),Ug(n,YC),n}function JC(t){return lm(t).values}function ZC(t){const{values:e,numColors:n,numVars:s,tokenised:a}=lm(t),r=e.length;return i=>{let o=a;for(let c=0;c<r;c++)c<s?o=o.replace(qC.token,i[c]):c<s+n?o=o.replace(KC.token,Lt.transform(i[c])):o=o.replace(YC.token,Ou(i[c]));return o}}const DL=t=>typeof t=="number"?0:t;function BL(t){const e=JC(t);return ZC(t)(e.map(DL))}const Yr={test:OL,parse:JC,createTransformer:ZC,getAnimatableNone:BL},XC=(t,e)=>n=>`${n>0?e:t}`;function $C(t,e){return typeof t=="number"?n=>Ge(t,e,n):Lt.test(t)?QC(t,e):t.startsWith("var(")?XC(t,e):e4(t,e)}const WC=(t,e)=>{const n=[...t],s=n.length,a=t.map((r,i)=>$C(r,e[i]));return r=>{for(let i=0;i<s;i++)n[i]=a[i](r);return n}},ML=(t,e)=>{const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=$C(t[a],e[a]));return a=>{for(const r in s)n[r]=s[r](a);return n}},e4=(t,e)=>{const n=Yr.createTransformer(e),s=lm(t),a=lm(e);return s.numVars===a.numVars&&s.numColors===a.numColors&&s.numNumbers>=a.numNumbers?zr(WC(s.values,a.values),n):XC(t,e)},hd=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},S2=(t,e)=>n=>Ge(t,e,n);function kL(t){return typeof t=="number"?S2:typeof t=="string"?Lt.test(t)?QC:e4:Array.isArray(t)?WC:typeof t=="object"?ML:S2}function PL(t,e,n){const s=[],a=n||kL(t[0]),r=t.length-1;for(let i=0;i<r;i++){let o=a(t[i],t[i+1]);if(e){const c=Array.isArray(e)?e[i]||$e:e;o=zr(c,o)}s.push(o)}return s}function t4(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const r=t.length;if(Lb(r===e.length),r===1)return()=>e[0];t[0]>t[r-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=PL(e,s,a),o=i.length,c=u=>{let d=0;if(o>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=hd(t[d],t[d+1],u);return i[d](f)};return n?u=>c(Kr(t[0],t[r-1],u)):c}function UL(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=hd(0,e,s);t.push(Ge(n,1,a))}}function LL(t){const e=[0];return UL(e,t.length-1),e}function zL(t,e){return t.map(n=>n*e)}function HL(t,e){return t.map(()=>e||HC).splice(0,t.length-1)}function cm({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=vL(s)?s.map(E2):E2(s),r={done:!1,value:e[0]},i=zL(n&&n.length===e.length?n:LL(e),t),o=t4(i,e,{ease:Array.isArray(a)?a:HL(e,a)});return{calculatedDuration:t,next:c=>(r.value=o(c),r.done=c>=t,r)}}function n4(t,e){return e?t*(1e3/e):0}const VL=5;function s4(t,e,n){const s=Math.max(e-VL,0);return n4(n-t(s),e-s)}const Lg=.001,IL=.01,FL=10,_L=.05,GL=1;function QL({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let a,r,i=1-e;i=Kr(_L,GL,i),t=Kr(IL,FL,Ca(t)),i<1?(a=u=>{const d=u*i,f=d*t,h=d-n,m=Hy(u,i),p=Math.exp(-f);return Lg-h/m*p},r=u=>{const f=u*i*t,h=f*n+n,m=Math.pow(i,2)*Math.pow(u,2)*t,p=Math.exp(-f),y=Hy(Math.pow(u,2),i);return(-a(u)+Lg>0?-1:1)*((h-m)*p)/y}):(a=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-Lg+d*f},r=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const o=5/t,c=KL(a,r,o);if(t=ao(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:i*2*Math.sqrt(s*u),duration:t}}}const qL=12;function KL(t,e,n){let s=n;for(let a=1;a<qL;a++)s=s-t(s)/e(s);return s}function Hy(t,e){return t*Math.sqrt(1-e*e)}const YL=["duration","bounce"],JL=["stiffness","damping","mass"];function T2(t,e){return e.some(n=>t[n]!==void 0)}function ZL(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!T2(t,JL)&&T2(t,YL)){const n=QL(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function a4({keyframes:t,restDelta:e,restSpeed:n,...s}){const a=t[0],r=t[t.length-1],i={done:!1,value:a},{stiffness:o,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=ZL({...s,velocity:-Ca(s.velocity||0)}),m=f||0,p=c/(2*Math.sqrt(o*u)),y=r-a,w=Ca(Math.sqrt(o/u)),b=Math.abs(y)<5;n||(n=b?.01:2),e||(e=b?.005:.5);let g;if(p<1){const x=Hy(w,p);g=A=>{const j=Math.exp(-p*w*A);return r-j*((m+p*w*y)/x*Math.sin(x*A)+y*Math.cos(x*A))}}else if(p===1)g=x=>r-Math.exp(-w*x)*(y+(m+w*y)*x);else{const x=w*Math.sqrt(p*p-1);g=A=>{const j=Math.exp(-p*w*A),k=Math.min(x*A,300);return r-j*((m+p*w*y)*Math.sinh(k)+x*y*Math.cosh(k))/x}}return{calculatedDuration:h&&d||null,next:x=>{const A=g(x);if(h)i.done=x>=d;else{let j=m;x!==0&&(p<1?j=s4(g,x,A):j=0);const k=Math.abs(j)<=n,D=Math.abs(r-A)<=e;i.done=k&&D}return i.value=i.done?r:A,i}}}function C2({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:r=500,modifyTarget:i,min:o,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},m=E=>o!==void 0&&E<o||c!==void 0&&E>c,p=E=>o===void 0?c:c===void 0||Math.abs(o-E)<Math.abs(c-E)?o:c;let y=n*e;const w=f+y,b=i===void 0?w:i(w);b!==w&&(y=b-f);const g=E=>-y*Math.exp(-E/s),x=E=>b+g(E),A=E=>{const T=g(E),B=x(E);h.done=Math.abs(T)<=u,h.value=h.done?b:B};let j,k;const D=E=>{m(h.value)&&(j=E,k=a4({keyframes:[h.value,p(h.value)],velocity:s4(x,E,h.value),damping:a,stiffness:r,restDelta:u,restSpeed:d}))};return D(0),{calculatedDuration:null,next:E=>{let T=!1;return!k&&j===void 0&&(T=!0,A(E),D(E)),j!==void 0&&E>j?k.next(E-j):(!T&&A(E),h)}}}const XL=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Pe.update(e,!0),stop:()=>La(e),now:()=>Ot.isProcessing?Ot.timestamp:performance.now()}},R2=2e4;function O2(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<R2;)e+=n,s=t.next(e);return e>=R2?1/0:e}const $L={decay:C2,inertia:C2,tween:cm,keyframes:cm,spring:a4};function um({autoplay:t=!0,delay:e=0,driver:n=XL,keyframes:s,type:a="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,y,w;const b=()=>{w=new Promise(I=>{y=I})};b();let g;const x=$L[a]||cm;let A;x!==cm&&typeof s[0]!="number"&&(A=t4([0,100],s,{clamp:!1}),s=[0,100]);const j=x({...h,keyframes:s});let k;o==="mirror"&&(k=x({...h,keyframes:[...s].reverse(),velocity:-(h.velocity||0)}));let D="idle",E=null,T=null,B=null;j.calculatedDuration===null&&r&&(j.calculatedDuration=O2(j));const{calculatedDuration:R}=j;let L=1/0,U=1/0;R!==null&&(L=R+i,U=L*(r+1)-i);let V=0;const O=I=>{if(T===null)return;m>0&&(T=Math.min(T,I)),m<0&&(T=Math.min(I-U/m,T)),E!==null?V=E:V=Math.round(I-T)*m;const Z=V-e*(m>=0?1:-1),le=m>=0?Z<0:Z>U;V=Math.max(Z,0),D==="finished"&&E===null&&(V=U);let ue=V,je=j;if(r){const Zn=Math.min(V,U)/L;let Xn=Math.floor(Zn),bs=Zn%1;!bs&&Zn>=1&&(bs=1),bs===1&&Xn--,Xn=Math.min(Xn,r+1),!!(Xn%2)&&(o==="reverse"?(bs=1-bs,i&&(bs-=i/L)):o==="mirror"&&(je=k)),ue=Kr(0,1,bs)*L}const Mt=le?{done:!1,value:s[0]}:je.next(ue);A&&(Mt.value=A(Mt.value));let{done:Cn}=Mt;!le&&R!==null&&(Cn=m>=0?V>=U:V<=0);const Jn=E===null&&(D==="finished"||D==="running"&&Cn);return f&&f(Mt.value),Jn&&K(),Mt},C=()=>{g&&g.stop(),g=void 0},G=()=>{D="idle",C(),y(),b(),T=B=null},K=()=>{D="finished",d&&d(),C(),y()},J=()=>{if(p)return;g||(g=n(O));const I=g.now();c&&c(),E!==null?T=I-E:(!T||D==="finished")&&(T=I),D==="finished"&&b(),B=T,E=null,D="running",g.start()};t&&J();const te={then(I,Z){return w.then(I,Z)},get time(){return Ca(V)},set time(I){I=ao(I),V=I,E!==null||!g||m===0?E=I:T=g.now()-I/m},get duration(){const I=j.calculatedDuration===null?O2(j):j.calculatedDuration;return Ca(I)},get speed(){return m},set speed(I){I===m||!g||(m=I,te.time=Ca(V))},get state(){return D},play:J,pause:()=>{D="paused",E=V},stop:()=>{p=!0,D!=="idle"&&(D="idle",u&&u(),G())},cancel:()=>{B!==null&&O(B),G()},complete:()=>{D="finished"},sample:I=>(T=0,O(I))};return te}function WL(t){let e;return()=>(e===void 0&&(e=t()),e)}const ez=WL(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tz=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Df=10,nz=2e4,sz=(t,e)=>e.type==="spring"||t==="backgroundColor"||!PC(e.ease);function az(t,e,{onUpdate:n,onComplete:s,...a}){if(!(ez()&&tz.has(e)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,c,u=!1;const d=()=>{c=new Promise(x=>{o=x})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=a;if(sz(e,a)){const x=um({...a,repeat:0,delay:0});let A={done:!1,value:f[0]};const j=[];let k=0;for(;!A.done&&k<nz;)A=x.sample(k),j.push(A.value),k+=Df;p=void 0,f=j,h=k-Df,m="linear"}const y=hL(t.owner.current,e,f,{...a,duration:h,ease:m,times:p}),w=()=>{u=!1,y.cancel()},b=()=>{u=!0,Pe.update(w),o(),d()};return y.onfinish=()=>{u||(t.set(mL(f,a)),s&&s(),b())},{then(x,A){return c.then(x,A)},attachTimeline(x){return y.timeline=x,y.onfinish=null,$e},get time(){return Ca(y.currentTime||0)},set time(x){y.currentTime=ao(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return Ca(h)},play:()=>{i||(y.play(),La(w))},pause:()=>y.pause(),stop:()=>{if(i=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const A=um({...a,autoplay:!1});t.setWithVelocity(A.sample(x-Df).value,A.sample(x).value,Df)}b()},complete:()=>{u||y.finish()},cancel:b}}function rz({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const a=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:$e,pause:$e,stop:$e,then:r=>(r(),Promise.resolve()),cancel:$e,complete:$e});return e?um({keyframes:[0,1],duration:0,delay:e,onComplete:a}):a()}const iz={type:"spring",stiffness:500,damping:25,restSpeed:10},oz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lz={type:"keyframes",duration:.8},cz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uz=(t,{keyframes:e})=>e.length>2?lz:Eo.has(t)?t.startsWith("scale")?oz(e[1]):iz:cz,Vy=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yr.test(e)||e==="0")&&!e.startsWith("url(")),dz=new Set(["brightness","contrast","saturate","opacity"]);function fz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(xp)||[];if(!s)return t;const a=n.replace(s,"");let r=dz.has(e)?1:0;return s!==n&&(r*=100),e+"("+r+a+")"}const hz=/([a-z-]*)\(.*?\)/g,Iy={...Yr,getAnimatableNone:t=>{const e=t.match(hz);return e?e.map(fz).join(" "):t}},mz={...xC,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:Iy,WebkitFilter:Iy},Ib=t=>mz[t];function r4(t,e){let n=Ib(t);return n!==Iy&&(n=Yr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const i4=t=>/^0[^.\s]+$/.test(t);function pz(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||i4(t)}function gz(t,e,n,s){const a=Vy(e,n);let r;Array.isArray(n)?r=[...n]:r=[null,n];const i=s.from!==void 0?s.from:t.get();let o;const c=[];for(let u=0;u<r.length;u++)r[u]===null&&(r[u]=u===0?i:r[u-1]),pz(r[u])&&c.push(u),typeof r[u]=="string"&&r[u]!=="none"&&r[u]!=="0"&&(o=r[u]);if(a&&c.length&&o)for(let u=0;u<c.length;u++){const d=c[u];r[d]=r4(e,o)}return r}function yz({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:r,repeatType:i,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Fb(t,e){return t[e]||t.default||t}const xz={skipAnimations:!1},_b=(t,e,n,s={})=>a=>{const r=Fb(s,t)||{},i=r.delay||s.delay||0;let{elapsed:o=0}=s;o=o-ao(i);const c=gz(e,t,n,r),u=c[0],d=c[c.length-1],f=Vy(t,u),h=Vy(t,d);let m={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...r,delay:-o,onUpdate:p=>{e.set(p),r.onUpdate&&r.onUpdate(p)},onComplete:()=>{a(),r.onComplete&&r.onComplete()}};if(yz(r)||(m={...m,...uz(t,m)}),m.duration&&(m.duration=ao(m.duration)),m.repeatDelay&&(m.repeatDelay=ao(m.repeatDelay)),!f||!h||fL.current||r.type===!1||xz.skipAnimations)return rz(m);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=az(e,t,m);if(p)return p}return um(m)};function dm(t){return!!(on(t)&&t.add)}const o4=t=>/^\-?\d*\.?\d+$/.test(t);function Gb(t,e){t.indexOf(e)===-1&&t.push(e)}function Qb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class qb{constructor(){this.subscriptions=[]}add(e){return Gb(this.subscriptions,e),()=>Qb(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let r=0;r<a;r++){const i=this.subscriptions[r];i&&i(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bz=t=>!isNaN(parseFloat(t));class vz{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,a=!0)=>{this.prev=this.current,this.current=s;const{delta:r,timestamp:i}=Ot;this.lastUpdated!==i&&(this.timeDelta=r,this.lastUpdated=i,Pe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Pe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=bz(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qb);const s=this.events[e].add(n);return e==="change"?()=>{s(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?n4(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nc(t,e){return new vz(t,e)}const l4=t=>e=>e.test(t),wz={test:t=>t==="auto",parse:t=>t},c4=[jo,ne,Is,Ka,CU,TU,wz],$c=t=>c4.find(l4(t)),Az=[...c4,Lt,Yr],Nz=t=>Az.find(l4(t));function Ez(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Nc(n))}function jz(t,e){const n=vp(t,e);let{transitionEnd:s={},transition:a={},...r}=n?t.makeTargetAnimatable(n,!1):{};r={...r,...s};for(const i in r){const o=FU(r[i]);Ez(t,i,o)}}function Sz(t,e,n){var s,a;const r=Object.keys(e).filter(o=>!t.hasValue(o)),i=r.length;if(i)for(let o=0;o<i;o++){const c=r[o],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(s=n[c])!==null&&s!==void 0?s:t.readValue(c))!==null&&a!==void 0?a:e[c]),d!=null&&(typeof d=="string"&&(o4(d)||i4(d))?d=parseFloat(d):!Nz(d)&&Yr.test(u)&&(d=r4(c,u)),t.addValue(c,Nc(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function Tz(t,e){return e?(e[t]||e.default||e).from:void 0}function Cz(t,e,n){const s={};for(const a in t){const r=Tz(a,e);if(r!==void 0)s[a]=r;else{const i=n.getValue(a);i&&(s[a]=i.get())}}return s}function Rz({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Oz(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function u4(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:r=t.getDefaultTransition(),transitionEnd:i,...o}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");s&&(r=s);const u=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const f in o){const h=t.getValue(f),m=o[f];if(!h||m===void 0||d&&Rz(d,f))continue;const p={delay:n,elapsed:0,...Fb(r||{},f)};if(window.HandoffAppearAnimations){const b=t.getProps()[dC];if(b){const g=window.HandoffAppearAnimations(b,f,h,Pe);g!==null&&(p.elapsed=g,p.isHandoff=!0)}}let y=!p.isHandoff&&!Oz(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(y=!1),h.animation&&(y=!1),y)continue;h.start(_b(f,h,m,t.shouldReduceMotion&&Eo.has(f)?{type:!1}:p));const w=h.animation;dm(c)&&(c.add(f),w.then(()=>c.remove(f))),u.push(w)}return i&&Promise.all(u).then(()=>{i&&jz(t,i)}),u}function Fy(t,e,n={}){const s=vp(t,e,n.custom);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const r=s?()=>Promise.all(u4(t,s,n)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return Dz(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[r,i]:[i,r];return c().then(()=>u())}else return Promise.all([r(),i(n.delay)])}function Dz(t,e,n=0,s=0,a=1,r){const i=[],o=(t.variantChildren.size-1)*s,c=a===1?(u=0)=>u*s:(u=0)=>o-u*s;return Array.from(t.variantChildren).sort(Bz).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(Fy(u,e,{...r,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function Bz(t,e){return t.sortNodePosition(e)}function Mz(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(r=>Fy(t,r,n));s=Promise.all(a)}else if(typeof e=="string")s=Fy(t,e,n);else{const a=typeof e=="function"?vp(t,e,n.custom):e;s=Promise.all(u4(t,a,n))}return s.then(()=>t.notify("AnimationComplete",e))}const kz=[...Tb].reverse(),Pz=Tb.length;function Uz(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Mz(t,n,s)))}function Lz(t){let e=Uz(t);const n=Hz();let s=!0;const a=(c,u)=>{const d=vp(t,u);if(d){const{transition:f,transitionEnd:h,...m}=d;c={...c,...m,...h}}return c};function r(c){e=c(t)}function i(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},h=[],m=new Set;let p={},y=1/0;for(let b=0;b<Pz;b++){const g=kz[b],x=n[g],A=d[g]!==void 0?d[g]:f[g],j=dd(A),k=g===u?x.isActive:null;k===!1&&(y=b);let D=A===f[g]&&A!==d[g]&&j;if(D&&s&&t.manuallyAnimateOnMount&&(D=!1),x.protectedKeys={...p},!x.isActive&&k===null||!A&&!x.prevProp||gp(A)||typeof A=="boolean")continue;let T=zz(x.prevProp,A)||g===u&&x.isActive&&!D&&j||b>y&&j,B=!1;const R=Array.isArray(A)?A:[A];let L=R.reduce(a,{});k===!1&&(L={});const{prevResolvedValues:U={}}=x,V={...U,...L},O=C=>{T=!0,m.has(C)&&(B=!0,m.delete(C)),x.needsAnimating[C]=!0};for(const C in V){const G=L[C],K=U[C];if(p.hasOwnProperty(C))continue;let J=!1;om(G)&&om(K)?J=!MC(G,K):J=G!==K,J?G!==void 0?O(C):m.add(C):G!==void 0&&m.has(C)?O(C):x.protectedKeys[C]=!0}x.prevProp=A,x.prevResolvedValues=L,x.isActive&&(p={...p,...L}),s&&t.blockInitialAnimation&&(T=!1),T&&(!D||B)&&h.push(...R.map(C=>({animation:C,options:{type:g,...c}})))}if(m.size){const b={};m.forEach(g=>{const x=t.getBaseTarget(g);x!==void 0&&(b[g]=x)}),h.push({animation:b})}let w=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),s=!1,w?e(h):Promise.resolve()}function o(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=i(d,c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:i,setActive:o,setAnimateFunction:r,getState:()=>n}}function zz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MC(e,t):!1}function oi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hz(){return{animate:oi(!0),whileInView:oi(),whileHover:oi(),whileTap:oi(),whileDrag:oi(),whileFocus:oi(),exit:oi()}}class Vz extends ni{constructor(e){super(e),e.animationState||(e.animationState=Lz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),gp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Iz=0;class Fz extends ni{constructor(){super(...arguments),this.id=Iz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const r=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _z={animation:{Feature:Vz},exit:{Feature:Fz}},D2=(t,e)=>Math.abs(t-e);function Gz(t,e){const n=D2(t.x,e.x),s=D2(t.y,e.y);return Math.sqrt(n**2+s**2)}class d4{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Hg(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Gz(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:y}=Ot;this.history.push({...p,timestamp:y});const{onStart:w,onMove:b}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=zg(h,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Hg(f.type==="pointercancel"?this.lastMoveEventInfo:zg(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,w),p&&p(f,w)},!CC(e))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const i=bp(e),o=zg(i,this.transformPagePoint),{point:c}=o,{timestamp:u}=Ot;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Hg(o,this.history)),this.removeListeners=zr(Ta(this.contextWindow,"pointermove",this.handlePointerMove),Ta(this.contextWindow,"pointerup",this.handlePointerUp),Ta(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),La(this.updatePoint)}}function zg(t,e){return e?{point:e(t.point)}:t}function B2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hg({point:t},e){return{point:t,delta:B2(t,f4(e)),offset:B2(t,Qz(e)),velocity:qz(e,.1)}}function Qz(t){return t[0]}function f4(t){return t[t.length-1]}function qz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=f4(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ao(e)));)n--;if(!s)return{x:0,y:0};const r=Ca(a.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const i={x:(a.x-s.x)/r,y:(a.y-s.y)/r};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Tn(t){return t.max-t.min}function _y(t,e=0,n=.01){return Math.abs(t-e)<=n}function M2(t,e,n,s=.5){t.origin=s,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),(_y(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(_y(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Du(t,e,n,s){M2(t.x,e.x,n.x,s?s.originX:void 0),M2(t.y,e.y,n.y,s?s.originY:void 0)}function k2(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function Kz(t,e,n){k2(t.x,e.x,n.x),k2(t.y,e.y,n.y)}function P2(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function Bu(t,e,n){P2(t.x,e.x,n.x),P2(t.y,e.y,n.y)}function Yz(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ge(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ge(n,t,s.max):Math.min(t,n)),t}function U2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Jz(t,{top:e,left:n,bottom:s,right:a}){return{x:U2(t.x,n,a),y:U2(t.y,e,s)}}function L2(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Zz(t,e){return{x:L2(t.x,e.x),y:L2(t.y,e.y)}}function Xz(t,e){let n=.5;const s=Tn(t),a=Tn(e);return a>s?n=hd(e.min,e.max-s,t.min):s>a&&(n=hd(t.min,t.max-a,e.min)),Kr(0,1,n)}function $z(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gy=.35;function Wz(t=Gy){return t===!1?t=0:t===!0&&(t=Gy),{x:z2(t,"left","right"),y:z2(t,"top","bottom")}}function z2(t,e,n){return{min:H2(t,e),max:H2(t,n)}}function H2(t,e){return typeof t=="number"?t:t[e]||0}const V2=()=>({translate:0,scale:1,origin:0,originPoint:0}),tl=()=>({x:V2(),y:V2()}),I2=()=>({min:0,max:0}),nt=()=>({x:I2(),y:I2()});function Dn(t){return[t("x"),t("y")]}function h4({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function e9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function t9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Vg(t){return t===void 0||t===1}function Qy({scale:t,scaleX:e,scaleY:n}){return!Vg(t)||!Vg(e)||!Vg(n)}function mi(t){return Qy(t)||m4(t)||t.z||t.rotate||t.rotateX||t.rotateY}function m4(t){return F2(t.x)||F2(t.y)}function F2(t){return t&&t!=="0%"}function fm(t,e,n){const s=t-n,a=e*s;return n+a}function _2(t,e,n,s,a){return a!==void 0&&(t=fm(t,a,s)),fm(t,n,s)+e}function qy(t,e=0,n=1,s,a){t.min=_2(t.min,e,n,s,a),t.max=_2(t.max,e,n,s,a)}function p4(t,{x:e,y:n}){qy(t.x,e.translate,e.scale,e.originPoint),qy(t.y,n.translate,n.scale,n.originPoint)}function n9(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let r,i;for(let o=0;o<a;o++){r=n[o],i=r.projectionDelta;const c=r.instance;c&&c.style&&c.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&nl(t,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,p4(t,i)),s&&mi(r.latestValues)&&nl(t,r.latestValues))}e.x=G2(e.x),e.y=G2(e.y)}function G2(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Za(t,e){t.min=t.min+e,t.max=t.max+e}function Q2(t,e,[n,s,a]){const r=e[a]!==void 0?e[a]:.5,i=Ge(t.min,t.max,r);qy(t,e[n],e[s],i,e.scale)}const s9=["x","scaleX","originX"],a9=["y","scaleY","originY"];function nl(t,e){Q2(t.x,e,s9),Q2(t.y,e,a9)}function g4(t,e){return h4(t9(t.getBoundingClientRect(),e))}function r9(t,e,n){const s=g4(t,n),{scroll:a}=e;return a&&(Za(s.x,a.offset.x),Za(s.y,a.offset.y)),s}const y4=({current:t})=>t?t.ownerDocument.defaultView:null,i9=new WeakMap;class o9{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bp(d,"page").point)},r=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=OC(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(w=>{let b=this.getAxisMotionValue(w).get()||0;if(Is.test(b)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[w];x&&(b=Tn(x)*(parseFloat(b)/100))}}this.originPoint[w]=b}),p&&Pe.update(()=>p(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:w}=f;if(m&&this.currentDirection===null){this.currentDirection=l9(w),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),y&&y(d,f)},o=(d,f)=>this.stop(d,f),c=()=>Dn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new d4(e,{onSessionStart:a,onStart:r,onMove:i,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:y4(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:r}=this.getProps();r&&Pe.update(()=>r(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Bf(e,a,this.currentDirection))return;const r=this.getAxisMotionValue(e);let i=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(i=Yz(i,this.constraints[e],this.elastic[e])),r.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;n&&Wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Jz(a.layoutBox,n):this.constraints=!1,this.elastic=Wz(s),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Dn(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=$z(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const r=r9(s,a.root,this.visualElement.getTransformPagePoint());let i=Zz(a.layout.layoutBox,r);if(n){const o=n(e9(i));this.hasMutatedConstraints=!!o,o&&(i=h4(o))}return i}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:r,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Dn(d=>{if(!Bf(d,n,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,p={type:"inertia",velocity:s?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(_b(e,s,0,n))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Dn(n=>{const{drag:s}=this.getProps();if(!Bf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,r=this.getAxisMotionValue(n);if(a&&a.layout){const{min:i,max:o}=a.layout.layoutBox[n];r.set(e[n]-Ge(i,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Wo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Dn(i=>{const o=this.getAxisMotionValue(i);if(o){const c=o.get();a[i]=Xz({min:c,max:c},this.constraints[i])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Dn(i=>{if(!Bf(i,e,null))return;const o=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];o.set(Ge(c,u,a[i]))})}addListeners(){if(!this.visualElement.current)return;i9.set(this.visualElement,this);const e=this.visualElement.current,n=Ta(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Wo(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,r=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),s();const i=va(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Dn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:r=!1,dragElastic:i=Gy,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:r,dragElastic:i,dragMomentum:o}}}function Bf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function l9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class c9 extends ni{constructor(e){super(e),this.removeGroupControls=$e,this.removeListeners=$e,this.controls=new o9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$e}unmount(){this.removeGroupControls(),this.removeListeners()}}const q2=t=>(e,n)=>{t&&Pe.update(()=>t(e,n))};class u9 extends ni{constructor(){super(...arguments),this.removePointerDownListener=$e}onPointerDown(e){this.session=new d4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:y4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:q2(e),onStart:q2(n),onMove:s,onEnd:(r,i)=>{delete this.session,a&&Pe.update(()=>a(r,i))}}}mount(){this.removePointerDownListener=Ta(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function d9(){const t=N.useContext(mp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,a=N.useId();return N.useEffect(()=>s(a),[]),!e&&n?[!1,()=>n&&n(a)]:[!0]}const ch={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=K2(t,e.target.x),s=K2(t,e.target.y);return`${n}% ${s}%`}},f9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Yr.parse(t);if(a.length>5)return s;const r=Yr.createTransformer(t),i=typeof a[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;a[0+i]/=o,a[1+i]/=c;const u=Ge(o,c,.5);return typeof a[2+i]=="number"&&(a[2+i]/=u),typeof a[3+i]=="number"&&(a[3+i]/=u),r(a)}};class h9 extends wm.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:r}=e;vU(m9),r&&(n.group&&n.group.add(r),s&&s.register&&a&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),ch.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:r}=this.props,i=s.projection;return i&&(i.isPresent=r,a||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?i.promote():i.relegate()||Pe.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function x4(t){const[e,n]=d9(),s=N.useContext(Rb);return wm.createElement(h9,{...t,layoutGroup:s,switchLayoutGroup:N.useContext(hC),isPresent:e,safeToRemove:n})}const m9={borderRadius:{...Wc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wc,borderTopRightRadius:Wc,borderBottomLeftRadius:Wc,borderBottomRightRadius:Wc,boxShadow:f9},b4=["TopLeft","TopRight","BottomLeft","BottomRight"],p9=b4.length,Y2=t=>typeof t=="string"?parseFloat(t):t,J2=t=>typeof t=="number"||ne.test(t);function g9(t,e,n,s,a,r){a?(t.opacity=Ge(0,n.opacity!==void 0?n.opacity:1,y9(s)),t.opacityExit=Ge(e.opacity!==void 0?e.opacity:1,0,x9(s))):r&&(t.opacity=Ge(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let i=0;i<p9;i++){const o=`border${b4[i]}Radius`;let c=Z2(e,o),u=Z2(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||J2(c)===J2(u)?(t[o]=Math.max(Ge(Y2(c),Y2(u),s),0),(Is.test(u)||Is.test(c))&&(t[o]+="%")):t[o]=u}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,s))}function Z2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const y9=v4(0,.5,FC),x9=v4(.5,.95,$e);function v4(t,e,n){return s=>s<t?0:s>e?1:n(hd(t,e,s))}function X2(t,e){t.min=e.min,t.max=e.max}function On(t,e){X2(t.x,e.x),X2(t.y,e.y)}function $2(t,e,n,s,a){return t-=e,t=fm(t,1/n,s),a!==void 0&&(t=fm(t,1/a,s)),t}function b9(t,e=0,n=1,s=.5,a,r=t,i=t){if(Is.test(e)&&(e=parseFloat(e),e=Ge(i.min,i.max,e/100)-i.min),typeof e!="number")return;let o=Ge(r.min,r.max,s);t===r&&(o-=e),t.min=$2(t.min,e,n,o,a),t.max=$2(t.max,e,n,o,a)}function W2(t,e,[n,s,a],r,i){b9(t,e[n],e[s],e[a],e.scale,r,i)}const v9=["x","scaleX","originX"],w9=["y","scaleY","originY"];function eA(t,e,n,s){W2(t.x,e,v9,n?n.x:void 0,s?s.x:void 0),W2(t.y,e,w9,n?n.y:void 0,s?s.y:void 0)}function tA(t){return t.translate===0&&t.scale===1}function w4(t){return tA(t.x)&&tA(t.y)}function A9(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function A4(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function nA(t){return Tn(t.x)/Tn(t.y)}class N9{constructor(){this.members=[]}add(e){Gb(this.members,e),e.scheduleRender()}remove(e){if(Qb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const r=this.members[a];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sA(t,e,n){let s="";const a=t.x.translate/e.x,r=t.y.translate/e.y;if((a||r)&&(s=`translate3d(${a}px, ${r}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(s+=`rotate(${c}deg) `),u&&(s+=`rotateX(${u}deg) `),d&&(s+=`rotateY(${d}deg) `)}const i=t.x.scale*e.x,o=t.y.scale*e.y;return(i!==1||o!==1)&&(s+=`scale(${i}, ${o})`),s||"none"}const E9=(t,e)=>t.depth-e.depth;class j9{constructor(){this.children=[],this.isDirty=!1}add(e){Gb(this.children,e),this.isDirty=!0}remove(e){Qb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(E9),this.isDirty=!1,this.children.forEach(e)}}function S9(t,e){const n=performance.now(),s=({timestamp:a})=>{const r=a-n;r>=e&&(La(s),t(r-e))};return Pe.read(s,!0),()=>La(s)}function T9(t){window.MotionDebug&&window.MotionDebug.record(t)}function C9(t){return t instanceof SVGElement&&t.tagName!=="svg"}function R9(t,e,n){const s=on(t)?t:Nc(t);return s.start(_b("",s,e,n)),s.animation}const aA=["","X","Y","Z"],O9={visibility:"hidden"},rA=1e3;let D9=0;const pi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function N4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(i={},o=e==null?void 0:e()){this.id=D9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,pi.totalNodes=pi.resolvedTargetDeltas=pi.recalculatedProjection=0,this.nodes.forEach(k9),this.nodes.forEach(H9),this.nodes.forEach(V9),this.nodes.forEach(P9),T9(pi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new j9)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new qb),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const c=this.eventHandlers.get(i);c&&c.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=C9(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=S9(h,250),ch.hasAnimatedSinceResize&&(ch.hasAnimatedSinceResize=!1,this.nodes.forEach(oA))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||Q9,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=d.getProps(),g=!this.targetLayout||!A4(this.targetLayout,p)||m,x=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const A={...Fb(y,"layout"),onPlay:w,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else h||oA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,La(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I9),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iA);return}this.isUpdating||this.nodes.forEach(L9),this.isUpdating=!1,this.nodes.forEach(z9),this.nodes.forEach(B9),this.nodes.forEach(M9),this.clearAllSnapshots();const o=performance.now();Ot.delta=Kr(0,1e3/60,o-Ot.timestamp),Ot.timestamp=o,Ot.isProcessing=!0,Og.update.process(Ot),Og.preRender.process(Ot),Og.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(U9),this.sharedNodes.forEach(F9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!w4(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(o||mi(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return i&&(c=this.removeTransform(c)),q9(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return nt();const o=i.measureViewportBox(),{scroll:c}=this.root;return c&&(Za(o.x,c.offset.x),Za(o.y,c.offset.y)),o}removeElementScroll(i){const o=nt();On(o,i);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){On(o,i);const{scroll:h}=this.root;h&&(Za(o.x,-h.offset.x),Za(o.y,-h.offset.y))}Za(o.x,d.offset.x),Za(o.y,d.offset.y)}}return o}applyTransform(i,o=!1){const c=nt();On(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&nl(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),mi(d.latestValues)&&nl(c,d.latestValues)}return mi(this.latestValues)&&nl(c,this.latestValues),c}removeTransform(i){const o=nt();On(o,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!mi(u.latestValues))continue;Qy(u.latestValues)&&u.updateSnapshot();const d=nt(),f=u.measurePageBox();On(d,f),eA(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return mi(this.latestValues)&&eA(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Bu(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),p4(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Bu(this.relativeTargetOrigin,this.target,m.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}pi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qy(this.parent.latestValues)||m4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;On(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;n9(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=tl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=tl(),this.projectionDeltaWithTransform=tl());const y=this.projectionTransform;Du(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=sA(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),pi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=tl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=nt(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,y=m!==p,w=this.getStack(),b=!w||w.members.length<=1,g=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(G9));this.animationProgress=0;let x;this.mixTargetDelta=A=>{const j=A/1e3;lA(f.x,i.x,j),lA(f.y,i.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bu(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_9(this.relativeTarget,this.relativeTargetOrigin,h,j),x&&A9(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=nt()),On(x,this.relativeTarget)),y&&(this.animationValues=d,g9(d,u,this.latestValues,j,g,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(La(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{ch.hasAnimatedSinceResize=!0,this.currentAnimation=R9(0,rA,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=i;if(!(!o||!c||!u)){if(this!==i&&this.layout&&u&&E4(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||nt();const f=Tn(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=Tn(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}On(o,c),nl(o,d),Du(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new N9),this.sharedNodes.get(i).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:c}=i;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const u={};for(let d=0;d<aA.length;d++){const f="rotate"+aA[d];c[f]&&(u[f]=c[f],i.setStaticValue(f,0))}i.render();for(const d in u)i.setStaticValue(d,u[d]);i.scheduleRender()}getProjectionStyles(i){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return O9;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=lh(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=lh(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!mi(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=sA(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:p}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in rm){if(h[y]===void 0)continue;const{correct:w,applyTo:b}=rm[y],g=u.transform==="none"?h[y]:w(h[y],f);if(b){const x=b.length;for(let A=0;A<x;A++)u[b[A]]=g}else u[y]=g}return this.options.layoutId&&(u.pointerEvents=f===this?lh(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(iA),this.root.sharedNodes.clear()}}}function B9(t){t.updateLayout()}function M9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:r}=t.options,i=n.source!==t.layout.source;r==="size"?Dn(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],m=Tn(h);h.min=s[f].min,h.max=h.min+m}):E4(r,n.layoutBox,s)&&Dn(f=>{const h=i?n.measuredBox[f]:n.layoutBox[f],m=Tn(s[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const o=tl();Du(o,s,n.layoutBox);const c=tl();i?Du(c,t.applyTransform(a,!0),n.measuredBox):Du(c,s,n.layoutBox);const u=!w4(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=nt();Bu(p,n.layoutBox,h.layoutBox);const y=nt();Bu(y,s,m.layoutBox),A4(p,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=p,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function k9(t){pi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function P9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function U9(t){t.clearSnapshot()}function iA(t){t.clearMeasurements()}function L9(t){t.isLayoutDirty=!1}function z9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function oA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H9(t){t.resolveTargetDelta()}function V9(t){t.calcProjection()}function I9(t){t.resetRotation()}function F9(t){t.removeLeadSnapshot()}function lA(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cA(t,e,n,s){t.min=Ge(e.min,n.min,s),t.max=Ge(e.max,n.max,s)}function _9(t,e,n,s){cA(t.x,e.x,n.x,s),cA(t.y,e.y,n.y,s)}function G9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Q9={duration:.45,ease:[.4,0,.1,1]},uA=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),dA=uA("applewebkit/")&&!uA("chrome/")?Math.round:$e;function fA(t){t.min=dA(t.min),t.max=dA(t.max)}function q9(t){fA(t.x),fA(t.y)}function E4(t,e,n){return t==="position"||t==="preserve-aspect"&&!_y(nA(e),nA(n),.2)}const K9=N4({attachResizeListener:(t,e)=>va(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ig={current:void 0},j4=N4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ig.current){const t=new K9({});t.mount(window),t.setOptions({layoutScroll:!0}),Ig.current=t}return Ig.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Y9={pan:{Feature:u9},drag:{Feature:c9,ProjectionNode:j4,MeasureLayout:x4}},J9=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Z9(t){const e=J9.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function Ky(t,e,n=1){const[s,a]=Z9(t);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const i=r.trim();return o4(i)?parseFloat(i):i}else return Uy(a)?Ky(a,e,n+1):a}function X9(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(a=>{const r=a.get();if(!Uy(r))return;const i=Ky(r,s);i&&a.set(i)});for(const a in e){const r=e[a];if(!Uy(r))continue;const i=Ky(r,s);i&&(e[a]=i,n||(n={}),n[a]===void 0&&(n[a]=r))}return{target:e,transitionEnd:n}}const $9=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),S4=t=>$9.has(t),W9=t=>Object.keys(t).some(S4),hA=t=>t===jo||t===ne,mA=(t,e)=>parseFloat(t.split(", ")[e]),pA=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/);if(a)return mA(a[1],e);{const r=s.match(/^matrix\((.+)\)$/);return r?mA(r[1],t):0}},e7=new Set(["x","y","z"]),t7=Xd.filter(t=>!e7.has(t));function n7(t){const e=[];return t7.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ec={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:pA(4,13),y:pA(5,14)};Ec.translateX=Ec.x;Ec.translateY=Ec.y;const s7=(t,e,n)=>{const s=e.measureViewportBox(),a=e.current,r=getComputedStyle(a),{display:i}=r,o={};i==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{o[u]=Ec[u](s,r)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(o[u]),t[u]=Ec[u](c,r)}),t},a7=(t,e,n={},s={})=>{e={...e},s={...s};const a=Object.keys(e).filter(S4);let r=[],i=!1;const o=[];if(a.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],f=$c(d);const h=e[c];let m;if(om(h)){const p=h.length,y=h[0]===null?1:0;d=h[y],f=$c(d);for(let w=y;w<p&&h[w]!==null;w++)m?Lb($c(h[w])===m):m=$c(h[w])}else m=$c(h);if(f!==m)if(hA(f)&&hA(m)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof h=="string"?e[c]=parseFloat(h):Array.isArray(h)&&m===ne&&(e[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):e[c]=f.transform(h):(i||(r=n7(t),i=!0),o.push(c),s[c]=s[c]!==void 0?s[c]:e[c],u.jump(h))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,u=s7(e,t,o);return r.length&&r.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),pp&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:s}}else return{target:e,transitionEnd:s}};function r7(t,e,n,s){return W9(e)?a7(t,e,n,s):{target:e,transitionEnd:s}}const i7=(t,e,n,s)=>{const a=X9(t,e,s);return e=a.target,s=a.transitionEnd,r7(t,e,n,s)},Yy={current:null},T4={current:!1};function o7(){if(T4.current=!0,!!pp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yy.current=t.matches;t.addListener(e),e()}else Yy.current=!1}function l7(t,e,n){const{willChange:s}=e;for(const a in e){const r=e[a],i=n[a];if(on(r))t.addValue(a,r),dm(s)&&s.add(a);else if(on(i))t.addValue(a,Nc(r,{owner:t})),dm(s)&&s.remove(a);else if(i!==r)if(t.hasValue(a)){const o=t.getValue(a);!o.hasAnimated&&o.set(r)}else{const o=t.getStaticValue(a);t.addValue(a,Nc(o!==void 0?o:r,{owner:t}))}}for(const a in n)e[a]===void 0&&t.removeValue(a);return e}const gA=new WeakMap,C4=Object.keys(fd),c7=C4.length,yA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],u7=Cb.length;class d7{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,visualState:r},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Pe.render(this.render,!1,!0);const{latestValues:o,renderState:c}=r;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=i,this.isControllingVariants=yp(n),this.isVariantNode=fC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&on(h)&&(h.set(o[f],!1),dm(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,gA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),T4.current||o7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){gA.delete(this.current),this.projection&&this.projection.unmount(),La(this.notifyUpdate),La(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=Eo.has(e),a=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&Pe.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{a(),r()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,a,r){let i,o;for(let c=0;c<c7;c++){const u=C4[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=fd[u];h&&(i=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Wo(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<yA.length;s++){const a=yA[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const r=e["on"+a];r&&(this.propEventSubscriptions[a]=this.on(a,r))}this.prevMotionValues=l7(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<u7;s++){const a=Cb[s],r=this.props[a];(dd(r)||r===!1)&&(n[a]=r)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Nc(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,a=typeof s=="string"||typeof s=="object"?(n=Ub(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!on(r)?r:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class R4 extends d7{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:a},r){let i=Cz(s,e||{},this);if(a&&(n&&(n=a(n)),s&&(s=a(s)),i&&(i=a(i))),r){Sz(this,s,i);const o=i7(this,s,i,n);n=o.transitionEnd,s=o.target}return{transition:e,transitionEnd:n,...s}}}function f7(t){return window.getComputedStyle(t)}class h7 extends R4{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Eo.has(n)){const s=Ib(n);return s&&s.default||0}else{const s=f7(e),a=(gC(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return g4(e,n)}build(e,n,s,a){Db(e,n,s,a.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Pb(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;on(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,a){AC(e,n,s,a)}}class m7 extends R4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Eo.has(n)){const s=Ib(n);return s&&s.default||0}return n=NC.has(n)?n:Sb(n),e.getAttribute(n)}measureInstanceViewportBox(){return nt()}scrapeMotionValuesFromProps(e,n){return jC(e,n)}build(e,n,s,a){Mb(e,n,s,this.isSVGTag,a.transformTemplate)}renderInstance(e,n,s,a){EC(e,n,s,a)}mount(e){this.isSVGTag=kb(e.tagName),super.mount(e)}}const p7=(t,e)=>Ob(t)?new m7(e,{enableHardwareAcceleration:!1}):new h7(e,{enableHardwareAcceleration:!0}),g7={layout:{ProjectionNode:j4,MeasureLayout:x4}},y7={..._z,...cL,...Y9,...g7},ie=xU((t,e)=>ZU(t,e,y7,p7));function O4(){const t=N.useRef(!1);return jb(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function x7(){const t=O4(),[e,n]=N.useState(0),s=N.useCallback(()=>{t.current&&n(e+1)},[e]);return[N.useCallback(()=>Pe.postRender(s),[s]),e]}class b7 extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function v7({children:t,isPresent:e}){const n=N.useId(),s=N.useRef(null),a=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:r,height:i,top:o,left:c}=a.current;if(e||!s.current||!r||!i)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${i}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),N.createElement(b7,{isPresent:e,childRef:s,sizeRef:a},N.cloneElement(t,{ref:s}))}const Fg=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:r,mode:i})=>{const o=SC(w7),c=N.useId(),u=N.useMemo(()=>({id:c,initial:e,isPresent:n,custom:a,onExitComplete:d=>{o.set(d,!0);for(const f of o.values())if(!f)return;s&&s()},register:d=>(o.set(d,!1),()=>o.delete(d))}),r?void 0:[n]);return N.useMemo(()=>{o.forEach((d,f)=>o.set(f,!1))},[n]),N.useEffect(()=>{!n&&!o.size&&s&&s()},[n]),i==="popLayout"&&(t=N.createElement(v7,{isPresent:n},t)),N.createElement(mp.Provider,{value:u},t)};function w7(){return new Map}function A7(t){return N.useEffect(()=>()=>t(),[])}const gi=t=>t.key||"";function N7(t,e){t.forEach(n=>{const s=gi(n);e.set(s,n)})}function E7(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const j7=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:a,presenceAffectsLayout:r=!0,mode:i="sync"})=>{const o=N.useContext(Rb).forceRender||x7()[0],c=O4(),u=E7(t);let d=u;const f=N.useRef(new Map).current,h=N.useRef(d),m=N.useRef(new Map).current,p=N.useRef(!0);if(jb(()=>{p.current=!1,N7(u,m),h.current=d}),A7(()=>{p.current=!0,m.clear(),f.clear()}),p.current)return N.createElement(N.Fragment,null,d.map(g=>N.createElement(Fg,{key:gi(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:r,mode:i},g)));d=[...d];const y=h.current.map(gi),w=u.map(gi),b=y.length;for(let g=0;g<b;g++){const x=y[g];w.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return i==="wait"&&f.size&&(d=[]),f.forEach((g,x)=>{if(w.indexOf(x)!==-1)return;const A=m.get(x);if(!A)return;const j=y.indexOf(x);let k=g;if(!k){const D=()=>{f.delete(x);const E=Array.from(m.keys()).filter(T=>!w.includes(T));if(E.forEach(T=>m.delete(T)),h.current=u.filter(T=>{const B=gi(T);return B===x||E.includes(B)}),!f.size){if(c.current===!1)return;o(),s&&s()}};k=N.createElement(Fg,{key:gi(A),isPresent:!1,onExitComplete:D,custom:e,presenceAffectsLayout:r,mode:i},A),f.set(x,k)}d.splice(j,0,k)}),d=d.map(g=>{const x=g.key;return f.has(x)?g:N.createElement(Fg,{key:gi(g),isPresent:!0,presenceAffectsLayout:r,mode:i},g)}),N.createElement(N.Fragment,null,f.size?d:d.map(g=>N.cloneElement(g)))};function S7(){const[t,e]=N.useState("padre"),[n,s]=N.useState(!1),[a,r]=N.useState(!1),i=Hd(),[o,c]=N.useState({email:"",password:""}),[u,d]=N.useState({email:"",password:""}),[f,h]=N.useState({hijoId:"",password:""}),{account:m,connectWallet:p,isConnecting:y}=gs(),{checkUserAuthentication:w,loginHijo:b,user:g,userRole:x,isLoading:A}=xs();N.useEffect(()=>{if(g&&x&&!A)switch(console.log("User authenticated, redirecting...",{user:g.name,role:x}),r(!1),x){case"padre":F.success("Bienvenido, Padre!",{id:"login-check"}),i("/padre/dashboard");break;case"comercio":F.success("Bienvenido, Comercio!",{id:"login-check"}),i("/comercio/dashboard");break;case"hijo":F.success("Bienvenido!",{id:"login-check"}),i("/hijo/dashboard");break}},[g,x,A,i]);const j=async()=>{if(!m){F.error("Por favor conecta tu wallet primero");return}r(!0),F.loading("Verificando credenciales...",{id:"login-check"});try{console.log("Verificando usuarios en BD...");const T=await(await fetch("http://localhost:5000/api/auth/debug/users")).json();console.log("Usuarios en BD:",T),await w(!0),setTimeout(()=>{a&&!g&&(F.error("No se pudo autenticar. Intenta de nuevo.",{id:"login-check"}),r(!1))},5e3)}catch(E){console.error("Error en login:",E),F.error("Error al verificar credenciales",{id:"login-check"}),r(!1)}},k=async E=>{if(E.preventDefault(),!f.hijoId||!f.password){F.error("Por favor completa todos los campos");return}r(!0),(await b(f.hijoId,f.password)).success&&i("/hijo/dashboard"),r(!1)},D=E=>{const{name:T,value:B}=E.target;h(R=>({...R,[T]:B}))};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(ie.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4 shadow-lg",children:l.jsx(En,{className:"w-10 h-10 text-white"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Iniciar Sesin"}),l.jsx("p",{className:"text-gray-600",children:"Elige tu tipo de usuario para continuar"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[l.jsxs("div",{className:"flex border-b border-gray-200",children:[l.jsxs("button",{onClick:()=>e("padre"),className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${t==="padre"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[l.jsx(Wt,{className:"w-4 h-4 inline mr-2"}),"Padre"]}),l.jsxs("button",{onClick:()=>e("comercio"),className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${t==="comercio"?"bg-green-50 text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}`,children:[l.jsx(Sa,{className:"w-4 h-4 inline mr-2"}),"Comercio"]}),l.jsxs("button",{onClick:()=>e("hijo"),className:`flex-1 py-3 px-4 text-sm font-medium transition-colors ${t==="hijo"?"bg-orange-50 text-orange-600 border-b-2 border-orange-600":"text-gray-500 hover:text-gray-700"}`,children:[l.jsx(En,{className:"w-4 h-4 inline mr-2"}),"Hijo"]})]}),l.jsxs("div",{className:"p-6",children:[t==="padre"&&l.jsxs(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(Wt,{className:"w-16 h-16 text-blue-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso para Padres"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Conecta tu wallet MetaMask para acceder a tu cuenta"})]}),m?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:l.jsxs("p",{className:"text-sm text-green-800 flex items-center",children:[l.jsx(My,{className:"w-4 h-4 mr-2"}),l.jsx("strong",{children:"Wallet conectada:"})," ",m.slice(0,6),"...",m.slice(-4)]})}),l.jsxs("button",{onClick:j,disabled:a,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-4 px-6 rounded-xl font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:[a?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):l.jsx(Rg,{className:"w-5 h-5 mr-2"}),a?"Verificando...":"Ingresar como Padre"]})]}):l.jsxs("button",{onClick:p,disabled:y,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white py-4 px-6 rounded-xl font-medium hover:from-blue-600 hover:to-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:[y?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):l.jsx(qr,{className:"w-5 h-5 mr-2"}),y?"Conectando...":"Conectar Wallet"]}),l.jsx("div",{className:"bg-blue-50 rounded-xl p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"No tienes cuenta?"})," ",l.jsx(Ls,{to:"/register/padre",className:"underline hover:no-underline font-medium",children:"Regstrate como Padre"})]})})]}),t==="comercio"&&l.jsxs(ie.div,{initial:{opacity:0,x:0},animate:{opacity:1,x:0},className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(Sa,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso para Comercios"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Conecta tu wallet MetaMask para acceder a tu cuenta"})]}),m?l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:l.jsxs("p",{className:"text-sm text-green-800 flex items-center",children:[l.jsx(My,{className:"w-4 h-4 mr-2"}),l.jsx("strong",{children:"Wallet conectada:"})," ",m.slice(0,6),"...",m.slice(-4)]})}),l.jsxs("button",{onClick:j,disabled:a,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 px-6 rounded-xl font-medium hover:from-green-600 hover:to-green-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:[a?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):l.jsx(Rg,{className:"w-5 h-5 mr-2"}),a?"Verificando...":"Ingresar como Comercio"]})]}):l.jsxs("button",{onClick:p,disabled:y,className:"w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-4 px-6 rounded-xl font-medium hover:from-green-600 hover:to-green-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:[y?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):l.jsx(qr,{className:"w-5 h-5 mr-2"}),y?"Conectando...":"Conectar Wallet"]}),l.jsx("div",{className:"bg-green-50 rounded-xl p-4",children:l.jsxs("p",{className:"text-sm text-green-800",children:[l.jsx("strong",{children:"No tienes cuenta?"})," ",l.jsx(Ls,{to:"/register/comercio",className:"underline hover:no-underline font-medium",children:"Regstrate como Comercio"})]})})]}),t==="hijo"&&l.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(En,{className:"w-16 h-16 text-orange-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso para Hijos"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Ingresa con las credenciales proporcionadas por tu padre"})]}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID de Hijo"}),l.jsx("input",{type:"text",name:"hijoId",placeholder:"Tu ID nico",value:f.hijoId,onChange:D,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:n?"text":"password",name:"password",placeholder:"Tu contrasea",value:f.password,onChange:D,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",required:!0}),l.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?l.jsx(ZP,{className:"w-5 h-5"}):l.jsx(Hc,{className:"w-5 h-5"})})]})]}),l.jsxs("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-orange-400 to-pink-500 text-white py-4 px-6 rounded-xl font-medium hover:from-orange-500 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:[a?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):l.jsx(Rg,{className:"w-5 h-5 mr-2"}),a?"Ingresando...":"Ingresar"]})]}),l.jsx("div",{className:"bg-orange-50 rounded-xl p-4",children:l.jsxs("p",{className:"text-sm text-orange-800",children:[l.jsx("strong",{children:"No tienes credenciales?"})," Pdele a tu padre que te registre en su dashboard."]})})]})]})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-gray-600",children:["No tienes cuenta?"," ",l.jsx(Ls,{to:"/",className:"text-blue-600 hover:text-blue-700 font-medium hover:underline",children:"Regstrate aqu"})]})})]})})}function T7(){const[t,e]=N.useState({nombre:"",apellido:"",email:"",telefono:"",password:"",confirmPassword:"",fotoPerfil:null}),[n,s]=N.useState(null),[a,r]=N.useState(null),[i,o]=N.useState(!1),[c,u]=N.useState(!1),d=Hd(),{account:f,connectWallet:h}=gs(),{registerPadre:m}=xs(),p=g=>{const{name:x,value:A}=g.target;e(j=>({...j,[x]:A}))},y=(g,x=800,A=.8)=>new Promise(j=>{const k=document.createElement("canvas"),D=k.getContext("2d"),E=new Image;E.onload=()=>{const{width:T,height:B}=E,R=Math.min(x/T,x/B);k.width=T*R,k.height=B*R,D.drawImage(E,0,0,k.width,k.height),k.toBlob(j,"image/jpeg",A)},E.src=URL.createObjectURL(g)}),w=async g=>{var A,j,k;const x=g.target.files[0];if(x)try{u(!0),F.loading("Subiendo imagen... Por favor espere");let D=x;x.size>2*1024*1024&&(F.loading("Comprimiendo imagen..."),D=await y(x));const E=new FileReader;E.onload=R=>s(R.target.result),E.readAsDataURL(D);const T=new FormData;T.append("image",D);const B=await nC.uploadImageForRegister(T);B.data.success&&(e(R=>({...R,fotoPerfil:B.data.data.url})),F.success("Imagen subida exitosamente")),r(D)}catch(D){console.error("Error uploading image:",D);let E="Error al subir la imagen";D.code==="ECONNABORTED"?E="Timeout: La imagen tard mucho en subirse. Intente con una imagen ms pequea.":((A=D.response)==null?void 0:A.status)===413?E="La imagen es demasiado grande. Intente con una imagen ms pequea.":(k=(j=D.response)==null?void 0:j.data)!=null&&k.message?E=D.response.data.message:D.code==="ERR_NETWORK"&&(E="Error de conexin. Verifique que el servidor est corriendo."),F.error(E),s(null),e(T=>({...T,fotoPerfil:""}))}finally{u(!1)}},b=async g=>{var A,j;if(g.preventDefault(),!f){F.error("Por favor conecta tu wallet primero");return}if(!t.nombre||!t.apellido||!t.email||!t.telefono||!t.password){F.error("Por favor completa todos los campos obligatorios");return}if(t.password!==t.confirmPassword){F.error("Las contraseas no coinciden");return}if(t.password.length<6){F.error("La contrasea debe tener al menos 6 caracteres");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){F.error("Por favor ingresa un email vlido");return}try{o(!0);const k={...t},D=await m(k);D.success?(F.success("Registro exitoso!"),d("/padre/dashboard")):F.error(D.error||"Error en el registro")}catch(k){console.error("Error en registro:",k);let D="Error en el registro";k.code==="ERR_NETWORK"?D="Error de conexin. Verifique que el servidor est corriendo.":(j=(A=k.response)==null?void 0:A.data)!=null&&j.message&&(D=k.response.data.message),F.error(D)}finally{o(!1)}};return f?l.jsx("div",{className:"max-w-2xl mx-auto mt-8",children:l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Wt,{className:"h-16 w-16 text-primary-600 mx-auto mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Registro de Padre/Tutor"}),l.jsx("p",{className:"text-gray-600",children:"Crea tu perfil para gestionar las wallets de tus hijos"})]}),l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"relative inline-block",children:[n?l.jsx("img",{src:n,alt:"Preview",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200"}):l.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center border-4 border-gray-200",children:l.jsx(od,{className:"h-8 w-8 text-gray-400"})}),l.jsxs("label",{className:"absolute bottom-0 right-0 bg-primary-600 text-white p-2 rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:[l.jsx(ky,{className:"h-4 w-4"}),l.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden",disabled:i||c})]})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:a?"Imagen seleccionada - se subir al registrarte":"Foto de perfil (opcional)"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(En,{className:"inline h-4 w-4 mr-1"}),"Nombre *"]}),l.jsx("input",{type:"text",name:"nombre",value:t.nombre,onChange:p,className:"input-field",placeholder:"Tu nombre",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(En,{className:"inline h-4 w-4 mr-1"}),"Apellido *"]}),l.jsx("input",{type:"text",name:"apellido",value:t.apellido,onChange:p,className:"input-field",placeholder:"Tu apellido",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(up,{className:"inline h-4 w-4 mr-1"}),"Email *"]}),l.jsx("input",{type:"email",name:"email",value:t.email,onChange:p,className:"input-field",placeholder:"tu@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(fp,{className:"inline h-4 w-4 mr-1"}),"Telfono *"]}),l.jsx("input",{type:"tel",name:"telefono",value:t.telefono,onChange:p,className:"input-field",placeholder:"+1234567890",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea *"}),l.jsx("input",{type:"password",name:"password",value:t.password,onChange:p,className:"input-field",placeholder:"Mnimo 6 caracteres",required:!0,minLength:6})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contrasea *"}),l.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:p,className:"input-field",placeholder:"Repite tu contrasea",required:!0,minLength:6})]})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Informacin de Wallet"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[l.jsx("strong",{children:"Direccin:"})," ",f]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Esta ser tu wallet principal para gestionar las wallets de tus hijos"})]}),l.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Como Padre/Tutor podrs:"}),l.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[l.jsx("li",{children:" Registrar y gestionar las wallets de tus hijos"}),l.jsx("li",{children:" Establecer lmites de gasto diarios, semanales y mensuales"}),l.jsx("li",{children:" Transferir fondos a las wallets de tus hijos"}),l.jsx("li",{children:" Configurar categoras de gasto permitidas"}),l.jsx("li",{children:" Ver el historial completo de transacciones"}),l.jsx("li",{children:" Establecer lmites mediante calendario interactivo"})]})]}),l.jsx("button",{type:"submit",disabled:i||c,className:"btn-primary w-full",children:i?l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Registrando..."})]}):"Registrarse como Padre/Tutor"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Ya tienes cuenta?"," ",l.jsx("button",{onClick:()=>d("/login"),className:"text-primary-600 hover:underline",children:"Inicia sesin aqu"})]})})]})}):l.jsx("div",{className:"max-w-md mx-auto mt-16",children:l.jsxs("div",{className:"card text-center",children:[l.jsx(Wt,{className:"h-16 w-16 text-primary-600 mx-auto mb-6"}),l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Registro de Padre/Tutor"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Para registrarte como Padre/Tutor, primero debes conectar tu wallet MetaMask"}),l.jsx("button",{onClick:h,className:"btn-primary w-full",children:"Conectar Wallet"})]})})}function C7({hijoId:t,onLimiteChange:e}){const[n,s]=N.useState(new Date),[a,r]=N.useState({}),[i,o]=N.useState(!1),[c,u]=N.useState(""),[d,f]=N.useState([]),[h,m]=N.useState(!1),[p,y]=N.useState(!1),{getLimits:w}=xs();N.useEffect(()=>{t&&b()},[t]);const b=async()=>{y(!0);try{const O=await w(t);if(O.success&&O.limits){if(console.log(" Lmites recibidos de BD:",O.limits),O.limits.fecha){const G={[new Date(O.limits.fecha).toISOString().split("T")[0]]:{limite:O.limits.limite,categorias:O.limits.categorias||[],activo:O.limits.activo!==!1}};r(G)}else r(O.limits);console.log(" Lmites cargados en componente")}}catch(O){console.error("Error cargando lmites:",O)}finally{y(!1)}},g=["alimentacion","educacion","entretenimiento","deportes","tecnologia","ropa","salud","transporte","otros"],x=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],A=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],j=O=>`${O.getFullYear()}-${String(O.getMonth()+1).padStart(2,"0")}-${String(O.getDate()).padStart(2,"0")}`,k=()=>{const O=n.getFullYear(),C=n.getMonth(),G=new Date(O,C,1),J=new Date(O,C+1,0).getDate(),te=G.getDay(),I=[];for(let le=te-1;le>=0;le--){const ue=new Date(O,C,-le);I.push({fecha:ue,esDelMes:!1})}for(let le=1;le<=J;le++){const ue=new Date(O,C,le);I.push({fecha:ue,esDelMes:!0})}const Z=42-I.length;for(let le=1;le<=Z;le++){const ue=new Date(O,C+1,le);I.push({fecha:ue,esDelMes:!1})}return I},D=O=>{const C=new Date(n);C.setMonth(C.getMonth()+O),s(C)},E=O=>{const C=new Date;if(C.setHours(0,0,0,0),O<C){F.error("No puedes establecer lmites para fechas pasadas");return}s(O);const G=j(O),K=a[G];K?(u(K.limite.toString()),f(K.categorias||[]),m(!0)):(u(""),f([]),m(!1)),o(!0)},T=()=>{if(!c||parseFloat(c)<=0){F.error("Ingresa un lmite vlido");return}const O=j(n),C={fecha:n,limite:parseFloat(c),categorias:d,activo:!0};r(G=>({...G,[O]:C})),e&&e(t,C),F.success(h?"Lmite actualizado":"Lmite establecido"),o(!1),u(""),f([])},B=()=>{const O=j(n),C={...a};delete C[O],r(C),F.success("Lmite eliminado"),o(!1)},R=O=>{f(C=>C.includes(O)?C.filter(G=>G!==O):[...C,O])},L=O=>{const C=j(O);return a[C]},U=O=>{const C=new Date;return O.toDateString()===C.toDateString()},V=k();return l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(cp,{className:"h-6 w-6 text-primary-600"}),l.jsx("h3",{className:"text-xl font-semibold",children:"Calendario de Lmites"})]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Establecer lmites por da"})]}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("button",{onClick:()=>D(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""}),l.jsxs(ie.h4,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-lg font-medium",children:[A[n.getMonth()]," ",n.getFullYear()]},`${n.getMonth()}-${n.getFullYear()}`),l.jsx("button",{onClick:()=>D(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:""})]}),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:x.map(O=>l.jsx("div",{className:"text-center text-sm font-medium text-gray-600 p-2",children:O},O))}),l.jsx("div",{className:"grid grid-cols-7 gap-1",children:V.map((O,C)=>{var Z;const{fecha:G,esDelMes:K}=O,J=L(G),te=U(G),I=G<new Date().setHours(0,0,0,0);return l.jsxs(ie.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:C*.01},onClick:()=>E(G),disabled:I,title:J?`Lmite: $${J.limite} - Categoras: ${((Z=J.categorias)==null?void 0:Z.join(", "))||"Todas"}`:"",className:`
                relative p-3 text-sm rounded-lg transition-all duration-200 
                ${K?I?"text-gray-300 cursor-not-allowed":"text-gray-900 hover:bg-blue-50 cursor-pointer":"text-gray-400"}
                ${te?"bg-blue-100 font-bold":""}
                ${J?"bg-green-100 border border-green-300":""}
              `,children:[l.jsx("span",{children:G.getDate()}),J&&l.jsx(ie.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l.jsx(Lr,{className:"h-3 w-3"})}),J&&l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 text-xs text-green-800 font-bold bg-green-200/80 rounded-b-lg px-1 py-0.5",children:["$",J.limite]})]},C)})}),l.jsxs("div",{className:"mt-6 space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded"}),l.jsx("span",{children:"Hoy"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-300 rounded relative",children:l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-green-200 h-1 rounded-b"})}),l.jsx("span",{children:"Con lmite diario"})]})]}),l.jsx("div",{className:"text-xs text-gray-600",children:" Haz clic en un da para establecer o editar lmites. Pasa el cursor sobre das con lmites para ver detalles."})]}),l.jsx(j7,{children:i&&l.jsx("div",{className:"modal-overlay",children:l.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h4",{className:"text-lg font-semibold",children:h?"Editar Lmite":"Establecer Lmite"}),l.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Eb,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Fecha: ",n.toLocaleDateString()]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lmite de gasto ($)"}),l.jsx("input",{type:"number",value:c,onChange:O=>u(O.target.value),placeholder:"0.00",min:"0",step:"0.01",className:"input-field"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Categoras permitidas (opcional)"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map(O=>l.jsx("button",{type:"button",onClick:()=>R(O),className:`
                          text-sm p-2 rounded-lg border transition-all
                          ${d.includes(O)?"bg-blue-50 border-blue-300 text-blue-700":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}
                        `,children:O},O))}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Si no seleccionas categoras, el lmite aplicar para todas"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[h&&l.jsxs("button",{onClick:B,className:"flex items-center space-x-1 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[l.jsx(Nb,{className:"h-4 w-4"}),l.jsx("span",{children:"Eliminar"})]}),l.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancelar"}),l.jsxs("button",{onClick:T,className:"btn-primary flex items-center space-x-1",children:[l.jsx(rC,{className:"h-4 w-4"}),l.jsx("span",{children:h?"Actualizar":"Guardar"})]})]})]})})})]})}const eu="http://localhost:5000/api";class R7{async procesarPagoComercio(e){try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No hay token de autenticacin");const s=await fetch(`${eu}/transactions/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({to:e.comercioId,amount:e.monto,type:"payment",description:e.descripcion,metadata:{productos:e.productos,comercio:e.comercioNombre}})});if(!s.ok){const a=await s.json();throw new Error(a.message||"Error al crear la transaccin")}return await s.json()}catch(n){throw console.error("Error en procesarPagoComercio:",n),n}}async confirmarTransaccion(e,n){try{const s=localStorage.getItem("authToken");if(!s)throw new Error("No hay token de autenticacin");const a=await fetch(`${eu}/transactions/confirm/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({transactionHash:n,status:"completed"})});if(!a.ok){const r=await a.json();throw new Error(r.message||"Error al confirmar transaccin")}return await a.json()}catch(s){throw console.error("Error en confirmarTransaccion:",s),s}}async cancelarTransaccion(e,n="Cancelada por el usuario"){try{const s=localStorage.getItem("authToken");if(!s)throw new Error("No hay token de autenticacin");const a=await fetch(`${eu}/transactions/${e}/cancel`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({reason:n,status:"cancelled"})});if(!a.ok){const r=await a.json();throw new Error(r.message||"Error al cancelar transaccin")}return await a.json()}catch(s){throw console.error("Error en cancelarTransaccion:",s),s}}async obtenerHistorialTransacciones(e={}){try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No hay token de autenticacin");const s=new URLSearchParams;Object.keys(e).forEach(r=>{e[r]!==void 0&&e[r]!==""&&s.append(r,e[r])});const a=await fetch(`${eu}/transactions/my-transactions?${s}`,{headers:{Authorization:`Bearer ${n}`}});if(!a.ok)throw new Error("Error al obtener historial de transacciones");return await a.json()}catch(n){throw console.error("Error en obtenerHistorialTransacciones:",n),n}}async obtenerDetallesTransaccion(e){try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No hay token de autenticacin");const s=await fetch(`${eu}/transactions/${e}`,{headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error("Transaccin no encontrada");return await s.json()}catch(n){throw console.error("Error en obtenerDetallesTransaccion:",n),n}}async simularTransaccionBlockchain(e,n){return new Promise(s=>{setTimeout(()=>{const a=`0x${Math.random().toString(16).substr(2,64)}`;s({hash:a,blockNumber:Math.floor(Math.random()*1e6)+15e6,gasUsed:Math.floor(Math.random()*5e4)+21e3,status:1})},2e3)})}validarSaldoSuficiente(e,n){return e>=n}calcularComision(e,n="pago_comercio"){const a={pago_comercio:.02,transferencia:.01,retiro:.03}[n]||.02;return e*a}formatearMonto(e){const n=Number(e)||0;return new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}generarRecibo(e){var n;return{id:e._id,fecha:new Date(e.createdAt).toLocaleString("es-ES"),tipo:e.type,monto:this.formatearMonto(e.amount),destinatario:e.recipient,descripcion:e.description,hash:e.transactionHash,estado:e.status,productos:((n=e.metadata)==null?void 0:n.productos)||[]}}}const Ws=new R7;function Kb({userRole:t,userId:e}){var T,B,R,L;const[n,s]=N.useState([]),[a,r]=N.useState(!0),[i,o]=N.useState({tipo:"",estado:"",fechaInicio:"",fechaFin:"",busqueda:""}),[c,u]=N.useState(1),[d,f]=N.useState(1),[h,m]=N.useState(null),[p,y]=N.useState(!1);N.useEffect(()=>{w()},[i,c]);const w=async()=>{try{r(!0);const U=await Ws.obtenerHistorialTransacciones({...i,page:c,limit:10});if(console.log(" HISTORIAL - Respuesta completa:",U),U.success){const V=U.transactions||[];if(console.log(" HISTORIAL - Transacciones recibidas:",V),console.log(" HISTORIAL - Primera transaccin:",V==null?void 0:V[0]),V.length>0){const C=V[0];console.log(" HISTORIAL - Detalles de primera transaccin:"),console.log("  - _id:",C._id),console.log("  - amount:",C.amount,"tipo:",typeof C.amount),console.log("  - type:",C.type),console.log("  - status:",C.status),console.log("  - description:",C.description)}const O=V.map((C,G)=>{const K={...C,amount:Number(C.amount)||0,type:C.type||"unknown",status:C.status||"pending",createdAt:C.createdAt||new Date().toISOString(),updatedAt:C.updatedAt||C.createdAt||new Date().toISOString()};return G===0&&(console.log(" HISTORIAL - Primera transaccin normalizada:",K),console.log(" HISTORIAL - Amount normalizado:",K.amount,"tipo:",typeof K.amount)),K});console.log(" HISTORIAL - Total transacciones normalizadas:",O.length),s(O),f(U.totalPages||1)}}catch(U){console.error("Error al cargar transacciones:",U),F.error("Error al cargar el historial de transacciones")}finally{r(!1)}},b=(U,V)=>{o(O=>({...O,[U]:V})),u(1)},g=()=>{o({tipo:"",estado:"",fechaInicio:"",fechaFin:"",busqueda:""}),u(1)},x=async U=>{try{const V=await Ws.obtenerDetallesTransaccion(U);V.success&&(m(V.transaction),y(!0))}catch(V){console.error("Error al obtener detalles:",V),F.error("Error al cargar los detalles de la transaccin")}},A=U=>{switch(U){case"transferencia":case"transfer":return l.jsx(QP,{className:"h-5 w-5 text-blue-600"});case"recepcion":case"receive":return l.jsx(FP,{className:"h-5 w-5 text-green-600"});case"pago_comercio":case"payment":return l.jsx(Sa,{className:"h-5 w-5 text-purple-600"});default:return l.jsx(Ci,{className:"h-5 w-5 text-gray-600"})}},j=U=>{switch(U){case"completed":case"completada":return l.jsx(aC,{className:"h-4 w-4 text-green-600"});case"pending":case"pendiente":return l.jsx(ld,{className:"h-4 w-4 text-yellow-600"});case"failed":case"fallida":case"cancelled":case"cancelada":return l.jsx(iU,{className:"h-4 w-4 text-red-600"});default:return l.jsx(sm,{className:"h-4 w-4 text-gray-600"})}},k=U=>{switch(U){case"completed":case"completada":return"bg-green-100 text-green-800";case"pending":case"pendiente":return"bg-yellow-100 text-yellow-800";case"failed":case"fallida":case"cancelled":case"cancelada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},D=U=>new Date(U).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=()=>{F.success("Funcin de exportacin prximamente disponible")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Historial de Transacciones"}),l.jsxs("button",{onClick:E,className:"btn-outline flex items-center space-x-2",children:[l.jsx(YP,{className:"h-4 w-4"}),l.jsx("span",{children:"Exportar"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(aU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Buscar...",value:i.busqueda,onChange:U=>b("busqueda",U.target.value),className:"input-field pl-10"})]}),l.jsxs("select",{value:i.tipo,onChange:U=>b("tipo",U.target.value),className:"input-field",children:[l.jsx("option",{value:"",children:"Todos los tipos"}),l.jsx("option",{value:"transferencia",children:"Transferencias"}),l.jsx("option",{value:"pago_comercio",children:"Pagos a comercios"}),l.jsx("option",{value:"recepcion",children:"Recepciones"})]}),l.jsxs("select",{value:i.estado,onChange:U=>b("estado",U.target.value),className:"input-field",children:[l.jsx("option",{value:"",children:"Todos los estados"}),l.jsx("option",{value:"completed",children:"Completadas"}),l.jsx("option",{value:"pending",children:"Pendientes"}),l.jsx("option",{value:"failed",children:"Fallidas"}),l.jsx("option",{value:"cancelled",children:"Canceladas"})]}),l.jsx("input",{type:"date",value:i.fechaInicio,onChange:U=>b("fechaInicio",U.target.value),className:"input-field",placeholder:"Fecha inicio"}),l.jsx("input",{type:"date",value:i.fechaFin,onChange:U=>b("fechaFin",U.target.value),className:"input-field",placeholder:"Fecha fin"})]}),l.jsx("button",{onClick:g,className:"text-sm text-blue-600 hover:underline",children:"Limpiar filtros"})]}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:a?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Cargando transacciones..."})]}):n.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((U,V)=>{var O,C;return l.jsxs(ie.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.1},className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[A(U.type),l.jsx("span",{className:"text-sm font-medium capitalize",children:(O=U.type)==null?void 0:O.replace("_"," ")})]})}),l.jsxs("td",{className:"px-6 py-4",children:[l.jsx("div",{className:"text-sm text-gray-900",children:U.description}),((C=U.metadata)==null?void 0:C.productos)&&l.jsxs("div",{className:"text-xs text-gray-500",children:[U.metadata.productos.length," producto(s)"]})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:`text-sm font-semibold ${U.type==="recepcion"||U.type==="receive"?"text-green-600":"text-red-600"}`,children:[U.type==="recepcion"||U.type==="receive"?"+":"-","$",Number(U.amount||0).toFixed(2)]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[j(U.status),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k(U.status)}`,children:U.status})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D(U.createdAt)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("button",{onClick:()=>x(U._id),className:"text-blue-600 hover:text-blue-900 flex items-center space-x-1",children:[l.jsx(Hc,{className:"h-4 w-4"}),l.jsx("span",{children:"Ver"})]})})]},U._id)})})]})}),d>1&&l.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Pgina ",c," de ",d]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>u(U=>Math.max(U-1,1)),disabled:c===1,className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),l.jsx("button",{onClick:()=>u(U=>Math.min(U+1,d)),disabled:c===d,className:"px-3 py-1 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Siguiente"})]})]})})]}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Ci,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No hay transacciones"}),l.jsx("p",{className:"text-gray-500",children:"No se encontraron transacciones con los filtros aplicados."})]})}),p&&h&&l.jsx("div",{className:"modal-overlay",children:l.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Detalles de Transaccin"}),l.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"ID de Transaccin"}),l.jsx("p",{className:"text-sm text-gray-900 font-mono break-all",children:h._id})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Estado"}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[j(h.status),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${k(h.status)}`,children:h.status})]})]})]}),h.txHash&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Hash de Blockchain"}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsx("p",{className:"text-sm text-gray-900 font-mono break-all",children:h.txHash}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(h.txHash),F.success("Hash copiado al portapapeles")},className:"text-blue-600 hover:text-blue-800 flex-shrink-0",children:l.jsx(JP,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Tipo"}),l.jsx("p",{className:"text-sm text-gray-900 capitalize",children:((T=h.type)==null?void 0:T.replace("_"," "))||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Monto"}),l.jsxs("p",{className:"text-lg font-semibold text-green-600",children:["$",Number(h.amount||0).toFixed(2)]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Descripcin"}),l.jsx("p",{className:"text-sm text-gray-900",children:h.description||"Sin descripcin"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Red"}),l.jsx("p",{className:"text-sm text-gray-900 capitalize",children:h.network||"N/A"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Categora"}),l.jsx("p",{className:"text-sm text-gray-900",children:((B=h.metadata)==null?void 0:B.category)||"General"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha de Creacin"}),l.jsx("p",{className:"text-sm text-gray-900",children:D(h.createdAt)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha de Actualizacin"}),l.jsx("p",{className:"text-sm text-gray-900",children:D(h.updatedAt)})]})]}),h.completedAt&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha de Completado"}),l.jsx("p",{className:"text-sm text-gray-900",children:D(h.completedAt)})]}),(h.gasUsed||h.gasPrice||h.blockNumber)&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600 mb-2 block",children:"Informacin de Blockchain"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-gray-50 rounded-lg",children:[h.blockNumber&&l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Bloque"}),l.jsx("p",{className:"text-sm font-medium",children:h.blockNumber})]}),h.gasUsed&&l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Gas Usado"}),l.jsx("p",{className:"text-sm font-medium",children:h.gasUsed})]}),h.gasPrice&&l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Precio Gas"}),l.jsx("p",{className:"text-sm font-medium",children:h.gasPrice})]})]})]}),((R=h.metadata)==null?void 0:R.notes)&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Notas"}),l.jsx("p",{className:"text-sm text-gray-900",children:h.metadata.notes})]}),((L=h.metadata)==null?void 0:L.productos)&&h.metadata.productos.length>0&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-gray-600 mb-2 block",children:"Productos"}),l.jsx("div",{className:"space-y-2",children:h.metadata.productos.map((U,V)=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium",children:U.nombre}),l.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["x",U.cantidad]})]}),l.jsxs("span",{className:"text-sm font-semibold",children:["$",(U.subtotal||U.precio*U.cantidad||0).toFixed(2)]})]},V))})]}),h.cancelledAt&&l.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[l.jsx("label",{className:"text-sm font-medium text-red-800",children:"Informacin de Cancelacin"}),l.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["Cancelada el: ",D(h.cancelledAt)]}),h.cancelReason&&l.jsxs("p",{className:"text-sm text-red-700",children:["Motivo: ",h.cancelReason]})]})]})]})})]})}function O7({hijoId:t,nombreHijo:e}){const[n,s]=N.useState([]),[a,r]=N.useState(!0),[i,o]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(!1),[h,m]=N.useState({tipo:"diario",monto:"",categoria:"general",fechaInicio:"",fechaFin:"",descripcion:""}),p=[{value:"diario",label:"Diario",icon:""},{value:"semanal",label:"Semanal",icon:""},{value:"mensual",label:"Mensual",icon:""},{value:"personalizado",label:"Personalizado",icon:""}],y=[{value:"general",label:"General",icon:"",color:"bg-gray-100"},{value:"alimentacion",label:"Alimentacin",icon:"",color:"bg-orange-100"},{value:"educacion",label:"Educacin",icon:"",color:"bg-blue-100"},{value:"entretenimiento",label:"Entretenimiento",icon:"",color:"bg-purple-100"},{value:"deportes",label:"Deportes",icon:"",color:"bg-green-100"},{value:"tecnologia",label:"Tecnologa",icon:"",color:"bg-indigo-100"},{value:"ropa",label:"Ropa",icon:"",color:"bg-pink-100"},{value:"transporte",label:"Transporte",icon:"",color:"bg-yellow-100"}];N.useEffect(()=>{w()},[t]);const w=async()=>{try{r(!0),console.log(" Cargando lmites para hijo:",t);const T=localStorage.getItem("authToken");if(!T)throw new Error("No hay token de autenticacin");const B=await fetch(`http://localhost:5000/api/limits/${t}`,{headers:{Authorization:`Bearer ${T}`}});if(B.ok){const R=await B.json();console.log(" Lmites cargados:",R),s(R.limits||[])}else console.log(" No se encontraron lmites, iniciando con array vaco"),s([])}catch(T){console.error(" Error al cargar lmites:",T),s([])}finally{r(!1)}},b=async T=>{if(T.preventDefault(),!h.monto||!h.fechaInicio){F.error("Por favor completa todos los campos requeridos");return}try{const B={id:c?c.id:Date.now(),...h,monto:parseFloat(h.monto),gastado:c?c.gastado:0,activo:!0};c?(s(R=>R.map(L=>L.id===c.id?B:L)),F.success("Lmite actualizado exitosamente")):(s(R=>[...R,B]),F.success("Lmite creado exitosamente")),o(!1),u(null),m({tipo:"diario",monto:"",categoria:"general",fechaInicio:"",fechaFin:"",descripcion:""})}catch(B){console.error("Error al guardar lmite:",B),F.error("Error al guardar el lmite")}},g=T=>{u(T),m({tipo:T.tipo,monto:T.monto.toString(),categoria:T.categoria,fechaInicio:T.fechaInicio,fechaFin:T.fechaFin,descripcion:T.descripcion||""}),o(!0)},x=async T=>{if(confirm("Ests seguro de que quieres eliminar este lmite?"))try{s(B=>B.filter(R=>R.id!==T)),F.success("Lmite eliminado exitosamente")}catch(B){console.error("Error al eliminar lmite:",B),F.error("Error al eliminar el lmite")}},A=async T=>{try{s(B=>B.map(R=>R.id===T?{...R,activo:!R.activo}:R)),F.success("Estado del lmite actualizado")}catch(B){console.error("Error al cambiar estado:",B),F.error("Error al cambiar el estado del lmite")}},j=(T,B)=>Math.min(T/B*100,100),k=T=>T>=90?"bg-red-500":T>=70?"bg-yellow-500":"bg-green-500",D=T=>y.find(B=>B.value===T)||y[0],E=(T,B)=>{const R=new Date(B);switch(T){case"diario":return B;case"semanal":return R.setDate(R.getDate()+7),R.toISOString().split("T")[0];case"mensual":return R.setMonth(R.getMonth()+1),R.toISOString().split("T")[0];default:return""}};return N.useEffect(()=>{h.tipo!=="personalizado"&&h.fechaInicio&&m(T=>({...T,fechaFin:E(T.tipo,T.fechaInicio)}))},[h.tipo,h.fechaInicio]),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Gestin de Lmites"}),l.jsxs("p",{className:"text-gray-600",children:["Administra los lmites de gasto para ",e]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>f(!d),className:"btn-outline flex items-center space-x-2",children:[l.jsx(cp,{className:"h-4 w-4"}),l.jsx("span",{children:d?"Ver Lista":"Ver Calendario"})]}),l.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center space-x-2",children:[l.jsx(cd,{className:"h-4 w-4"}),l.jsx("span",{children:"Nuevo Lmite"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-medium text-gray-600",children:"Lmites Activos"}),l.jsx(am,{className:"h-5 w-5 text-blue-600"})]}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(T=>T.activo).length})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-medium text-gray-600",children:"Gasto Total Hoy"}),l.jsx(Lr,{className:"h-5 w-5 text-green-600"})]}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",n.reduce((T,B)=>T+(B.tipo==="diario"?B.gastado:0),0).toFixed(2)]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"font-medium text-gray-600",children:"Alertas"}),l.jsx(IP,{className:"h-5 w-5 text-red-600"})]}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.filter(T=>j(T.gastado,T.monto)>=80).length})]})]}),d?l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:l.jsx(C7,{hijoId:t,onLimiteChange:T=>{console.log(" Lmites actualizados desde calendario:",T),w()}})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsx("h3",{className:"text-lg font-semibold",children:"Lmites Configurados"})}),a?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Cargando lmites..."})]}):n.length>0?l.jsx("div",{className:"divide-y divide-gray-200",children:n.map((T,B)=>{const R=D(T.categoria),L=j(T.gastado,T.monto);return l.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-lg ${R.color} flex items-center justify-center text-xl`,children:R.icon}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"font-semibold capitalize",children:T.tipo}),l.jsx("span",{className:"text-sm text-gray-500",children:""}),l.jsx("span",{className:"text-sm text-gray-500 capitalize",children:R.label}),!T.activo&&l.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:"Inactivo"})]}),l.jsx("p",{className:"text-sm text-gray-600",children:T.descripcion}),l.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-gray-500",children:[l.jsxs("span",{children:["Desde: ",new Date(T.fechaInicio).toLocaleDateString()]}),l.jsxs("span",{children:["Hasta: ",new Date(T.fechaFin).toLocaleDateString()]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-lg font-semibold",children:["$",T.gastado.toFixed(2)," / $",T.monto.toFixed(2)]}),l.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mt-1",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${k(L)}`,style:{width:`${L}%`}})}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[L.toFixed(1),"% usado"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>A(T.id),className:`p-2 rounded-lg transition-colors ${T.activo?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:T.activo?"Desactivar":"Activar",children:l.jsx(bi,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>g(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:l.jsx(dp,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>x(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar",children:l.jsx(Nb,{className:"h-4 w-4"})})]})]})]})},T.id)})}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(am,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No hay lmites configurados"}),l.jsxs("p",{className:"text-gray-500 mb-4",children:["Crea el primer lmite de gasto para ",e]}),l.jsx("button",{onClick:()=>o(!0),className:"btn-primary",children:"Crear Primer Lmite"})]})]}),i&&l.jsx("div",{className:"modal-overlay",children:l.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold",children:c?"Editar Lmite":"Nuevo Lmite"}),l.jsx("button",{onClick:()=>{o(!1),u(null),m({tipo:"diario",monto:"",categoria:"general",fechaInicio:"",fechaFin:"",descripcion:""})},className:"text-gray-400 hover:text-gray-600",children:l.jsx(Eb,{className:"h-5 w-5"})})]}),l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Lmite"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(T=>l.jsxs("button",{type:"button",onClick:()=>m(B=>({...B,tipo:T.value})),className:`p-3 rounded-lg border text-sm font-medium transition-colors ${h.tipo===T.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:[l.jsx("div",{className:"text-lg mb-1",children:T.icon}),T.label]},T.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora"}),l.jsx("select",{value:h.categoria,onChange:T=>m(B=>({...B,categoria:T.target.value})),className:"input-field",required:!0,children:y.map(T=>l.jsxs("option",{value:T.value,children:[T.icon," ",T.label]},T.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto Lmite"}),l.jsx("input",{type:"number",step:"0.01",placeholder:"0.00",value:h.monto,onChange:T=>m(B=>({...B,monto:T.target.value})),className:"input-field",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Inicio"}),l.jsx("input",{type:"date",value:h.fechaInicio,onChange:T=>m(B=>({...B,fechaInicio:T.target.value})),className:"input-field",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha Fin"}),l.jsx("input",{type:"date",value:h.fechaFin,onChange:T=>m(B=>({...B,fechaFin:T.target.value})),className:"input-field",disabled:h.tipo!=="personalizado",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin (opcional)"}),l.jsx("textarea",{placeholder:"Descripcin del lmite...",value:h.descripcion,onChange:T=>m(B=>({...B,descripcion:T.target.value})),className:"input-field",rows:3})]}),l.jsxs("div",{className:"flex space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>{o(!1),u(null)},className:"btn-outline flex-1",children:"Cancelar"}),l.jsxs("button",{type:"submit",className:"btn-primary flex-1 flex items-center justify-center space-x-2",children:[l.jsx(oC,{className:"h-4 w-4"}),l.jsx("span",{children:c?"Actualizar":"Crear"})]})]})]})]})})]})]})}const D7=()=>{console.log(" DEBUG AUTH - Estado actual:");const t=localStorage.getItem("authToken"),e=localStorage.getItem("token");if(console.log(" Tokens en localStorage:"),console.log("  - authToken:",t?`${t.substring(0,20)}...`:"No encontrado"),console.log("  - token:",e?`${e.substring(0,20)}...`:"No encontrado"),t)try{const n=JSON.parse(atob(t.split(".")[1]));console.log(" Payload del token:"),console.log("  - userId:",n.userId),console.log("  - exp:",new Date(n.exp*1e3)),console.log("  - iat:",new Date(n.iat*1e3)),console.log("  - Expirado:",Date.now()>n.exp*1e3)}catch{console.log(" Token invlido o malformado")}return console.log(" Cookies:",document.cookie),{authToken:t,token:e,hasValidToken:!!t}},_g="http://localhost:5000/api";class B7{async getAnalytics(e="mes"){try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No hay token de autenticacin");const s=await fetch(`${_g}/analytics?period=${e}`,{headers:{Authorization:`Bearer ${n}`}});return s.ok?await s.json():await this.calcularAnalyticsDesdeTransacciones(e)}catch(n){return console.error("Error al obtener analytics:",n),await this.calcularAnalyticsDesdeTransacciones(e)}}async calcularAnalyticsDesdeTransacciones(e="mes"){try{console.log(" Intentando obtener transacciones para analytics...");const n=D7(),s=localStorage.getItem("authToken");if(!s)throw new Error("No hay token de autenticacin. Por favor, inicia sesin nuevamente.");console.log(" Token encontrado:",s.substring(0,20)+"..."),console.log(" Haciendo peticin a:",`${_g}/transactions/my-transactions?limit=1000`);const a=await fetch(`${_g}/transactions/my-transactions?limit=1000`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(console.log(" Respuesta del servidor:",{status:a.status,statusText:a.statusText,ok:a.ok,url:a.url}),!a.ok){let o=`Error ${a.status}: ${a.statusText}`;try{o=(await a.json()).message||o}catch{}throw a.status===401?(o="Token de autenticacin invlido o expirado. Por favor, inicia sesin nuevamente.",localStorage.removeItem("authToken"),window.location.href="/login"):a.status===404&&(o="Endpoint de transacciones no encontrado. Verifica que el servidor est funcionando."),new Error(o)}const r=await a.json();console.log(" Datos recibidos:",r);const i=r.transactions||[];return console.log(" Transacciones encontradas:",i.length),this.procesarTransaccionesParaAnalytics(i,e)}catch(n){throw console.error(" Error al calcular analytics:",n),n}}procesarTransaccionesParaAnalytics(e,n){const s=new Date,a=new Date(s.getFullYear(),s.getMonth(),1),r=new Date(s.setDate(s.getDate()-s.getDay()));new Date(s.getFullYear(),s.getMonth(),s.getDate());let i=e;n==="semana"?i=e.filter(p=>new Date(p.createdAt)>=r):n==="mes"&&(i=e.filter(p=>new Date(p.createdAt)>=a));const o={total:e.length,completadas:e.filter(p=>p.status==="completed").length,pendientes:e.filter(p=>p.status==="pending").length,fallidas:e.filter(p=>p.status==="failed"||p.status==="cancelled").length},c=this.calcularGastosPorPeriodo(e,"hoy"),u=this.calcularGastosPorPeriodo(e,"semana"),d=this.calcularGastosPorPeriodo(e,"mes"),f={hoy:c,semana:u,mes:d,promedioDiario:d/30},h=this.calcularDistribucionCategorias(i),m=this.calcularTendencias(e);return{success:!0,analytics:{transacciones:o,gastos:f,categorias:h,tendencias:m}}}calcularGastosPorPeriodo(e,n){const s=new Date;let a;switch(n){case"hoy":a=new Date(s.getFullYear(),s.getMonth(),s.getDate());break;case"semana":a=new Date(s.setDate(s.getDate()-s.getDay()));break;case"mes":a=new Date(s.getFullYear(),s.getMonth(),1);break;default:a=new Date(0)}return e.filter(r=>new Date(r.createdAt)>=a&&r.status==="completed"&&(r.type==="payment"||r.type==="transfer")).reduce((r,i)=>r+(i.amount||0),0)}calcularDistribucionCategorias(e){const n=new Map;let s=0;return e.filter(r=>r.status==="completed"&&(r.type==="payment"||r.type==="transfer")).forEach(r=>{var c;let i="general";(c=r.metadata)!=null&&c.productos&&r.metadata.productos.length>0?i=r.metadata.productos[0].categoria||"general":r.type==="transfer"?i="transferencias":r.type==="payment"&&(i="pagos");const o=r.amount||0;s+=o,n.has(i)?n.set(i,n.get(i)+o):n.set(i,o)}),Array.from(n.entries()).map(([r,i])=>({nombre:this.formatearNombreCategoria(r),monto:i,porcentaje:s>0?(i/s*100).toFixed(1):0,color:this.obtenerColorCategoria(r)})).sort((r,i)=>i.monto-r.monto)}calcularTendencias(e){const n=new Date,s=[];for(let a=3;a>=0;a--){const r=new Date(n);r.setDate(n.getDate()-a*7-n.getDay());const i=new Date(r);i.setDate(r.getDate()+6);const o=e.filter(c=>{const u=new Date(c.createdAt);return u>=r&&u<=i&&c.status==="completed"&&(c.type==="payment"||c.type==="transfer")}).reduce((c,u)=>c+(u.amount||0),0);s.push({semana:`Sem ${4-a}`,monto:o})}return{gastosSemanales:s,horasActividad:this.calcularActividadPorHoras(e)}}calcularActividadPorHoras(e){const n=new Map;return e.filter(s=>s.status==="completed").forEach(s=>{const r=`${new Date(s.createdAt).getHours().toString().padStart(2,"0")}:00`;n.set(r,(n.get(r)||0)+1)}),Array.from(n.entries()).map(([s,a])=>({hora:s,transacciones:a})).sort((s,a)=>s.hora.localeCompare(a.hora))}formatearNombreCategoria(e){return{general:"General",transferencias:"Transferencias",pagos:"Pagos",alimentacion:"Alimentacin",entretenimiento:"Entretenimiento",educacion:"Educacin",deportes:"Deportes",tecnologia:"Tecnologa",ropa:"Ropa",transporte:"Transporte",salud:"Salud"}[e]||e.charAt(0).toUpperCase()+e.slice(1)}obtenerColorCategoria(e){return{general:"bg-gray-500",transferencias:"bg-blue-500",pagos:"bg-green-500",alimentacion:"bg-orange-500",entretenimiento:"bg-purple-500",educacion:"bg-blue-500",deportes:"bg-green-500",tecnologia:"bg-indigo-500",ropa:"bg-pink-500",transporte:"bg-yellow-500",salud:"bg-red-500"}[e]||"bg-gray-500"}formatearMonto(e){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}}const M7=new B7;function Yb({userRole:t,userId:e}){const[n,s]=N.useState({transacciones:{total:0,completadas:0,pendientes:0,fallidas:0},gastos:{hoy:0,semana:0,mes:0,promedioDiario:0},categorias:[],tendencias:{gastosSemanales:[],horasActividad:[]}}),[a,r]=N.useState(!0),[i,o]=N.useState("mes"),[c,u]=N.useState(null);N.useEffect(()=>{d()},[e,i]);const d=async()=>{try{r(!0),u(null),console.log(" Cargando analytics reales para:",t,"periodo:",i);const y=await M7.getAnalytics(i);if(y.success&&y.analytics)console.log(" Analytics cargados:",y.analytics),s(y.analytics);else throw new Error("No se pudieron cargar los analytics")}catch(y){console.error(" Error al cargar analytics:",y),u(y.message),F.error("Error al cargar las estadsticas"),s({transacciones:{total:0,completadas:0,pendientes:0,fallidas:0},gastos:{hoy:0,semana:0,mes:0,promedioDiario:0},categorias:[],tendencias:{gastosSemanales:[],horasActividad:[]}})}finally{r(!1)}},f=()=>{const y=n.tendencias.gastosSemanales;if(y.length<2)return 0;const w=y[y.length-1].monto,b=y[y.length-2].monto;return((w-b)/b*100).toFixed(1)},h=()=>{switch(t){case"padre":return"Analytics Familiares";case"hijo":return"Mis Estadsticas";case"comercio":return"Analytics de Ventas";default:return"Dashboard Analytics"}},m=()=>{switch(t){case"padre":return[{titulo:"Gasto Familiar Total",valor:`$${n.gastos.mes.toFixed(2)}`,cambio:f(),icon:Lr,color:"text-green-600"},{titulo:"Transacciones",valor:n.transacciones.total,cambio:"+12.5",icon:Cg,color:"text-blue-600"},{titulo:"Promedio Diario",valor:`$${n.gastos.promedioDiario.toFixed(2)}`,cambio:"+5.2",icon:bn,color:"text-purple-600"},{titulo:"Lmites Activos",valor:"8",cambio:"+2",icon:am,color:"text-orange-600"}];case"comercio":return[{titulo:"Ventas del Mes",valor:`$${n.gastos.mes.toFixed(2)}`,cambio:f(),icon:Lr,color:"text-green-600"},{titulo:"Transacciones",valor:n.transacciones.total,cambio:"+18.3",icon:ud,color:"text-blue-600"},{titulo:"Ticket Promedio",valor:`$${(n.gastos.mes/n.transacciones.total).toFixed(2)}`,cambio:"+7.1",icon:bn,color:"text-purple-600"},{titulo:"Clientes nicos",valor:"47",cambio:"+15",icon:Wt,color:"text-orange-600"}];default:return[{titulo:"Gasto del Mes",valor:`$${n.gastos.mes.toFixed(2)}`,cambio:f(),icon:Lr,color:"text-green-600"},{titulo:"Compras",valor:n.transacciones.total,cambio:"+8.2",icon:ud,color:"text-blue-600"},{titulo:"Promedio Diario",valor:`$${n.gastos.promedioDiario.toFixed(2)}`,cambio:"+3.1",icon:bn,color:"text-purple-600"},{titulo:"Lmites Usados",valor:"65%",cambio:"+5%",icon:am,color:"text-orange-600"}]}};if(a)return l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[1,2,3,4].map(y=>l.jsx("div",{className:"bg-gray-200 h-24 rounded-lg"},y))}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"}),l.jsx("div",{className:"bg-gray-200 h-64 rounded-lg"})]})]})});if(c)return l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:h()}),l.jsxs("div",{className:"card text-center py-8",children:[l.jsx(sm,{className:"h-16 w-16 text-red-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Error al cargar estadsticas"}),l.jsx("p",{className:"text-gray-500 mb-4",children:c}),l.jsx("button",{onClick:d,className:"btn-primary",children:"Reintentar"})]})]});const p=m();return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:h()}),l.jsx("div",{className:"flex space-x-2",children:["semana","mes","ao"].map(y=>l.jsx("button",{onClick:()=>o(y),className:`px-3 py-1 text-sm rounded-lg transition-colors ${i===y?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((y,w)=>{const b=y.icon,g=parseFloat(y.cambio)>=0;return l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:y.titulo}),l.jsx(b,{className:`h-5 w-5 ${y.color}`})]}),l.jsx("div",{className:"flex items-end justify-between",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.valor}),l.jsxs("div",{className:`flex items-center text-sm ${g?"text-green-600":"text-red-600"}`,children:[g?l.jsx(bn,{className:"h-3 w-3 mr-1"}):l.jsx(lC,{className:"h-3 w-3 mr-1"}),l.jsxs("span",{children:[y.cambio,"%"]})]})]})})]},y.titulo)})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(ie.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Tendencia Semanal"}),l.jsx(qP,{className:"h-5 w-5 text-gray-400"})]}),l.jsx("div",{className:"space-y-3",children:n.tendencias.gastosSemanales.length>0?n.tendencias.gastosSemanales.map((y,w)=>{const b=Math.max(...n.tendencias.gastosSemanales.map(x=>x.monto)),g=b>0?y.monto/b*100:0;return l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-sm font-medium w-12",children:y.semana}),l.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-1000",style:{width:`${g}%`}})}),l.jsxs("span",{className:"text-sm font-semibold w-16 text-right",children:["$",y.monto.toFixed(2)]})]},y.semana)}):l.jsx("div",{className:"text-center py-4 text-gray-500",children:l.jsx("p",{children:"No hay datos de tendencias disponibles"})})})]}),l.jsxs(ie.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Distribucin por Categoras"}),l.jsx(sU,{className:"h-5 w-5 text-gray-400"})]}),l.jsx("div",{className:"space-y-3",children:n.categorias.length>0?n.categorias.map((y,w)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${y.color}`}),l.jsx("span",{className:"text-sm font-medium",children:y.nombre})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-semibold",children:["$",y.monto.toFixed(2)]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[y.porcentaje,"%"]})]})]},y.nombre)):l.jsx("div",{className:"text-center py-4 text-gray-500",children:l.jsx("p",{children:"No hay datos de categoras disponibles"})})})]})]}),l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Estado de Transacciones"}),l.jsx(Cg,{className:"h-5 w-5 text-gray-400"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mx-auto mb-2",children:l.jsx(Cg,{className:"h-6 w-6 text-blue-600"})}),l.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.transacciones.total}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mx-auto mb-2",children:l.jsx(aC,{className:"h-6 w-6 text-green-600"})}),l.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.transacciones.completadas}),l.jsx("div",{className:"text-sm text-gray-600",children:"Completadas"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-yellow-100 rounded-full mx-auto mb-2",children:l.jsx(cp,{className:"h-6 w-6 text-yellow-600"})}),l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.transacciones.pendientes}),l.jsx("div",{className:"text-sm text-gray-600",children:"Pendientes"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-2",children:l.jsx(sm,{className:"h-6 w-6 text-red-600"})}),l.jsx("div",{className:"text-2xl font-bold text-red-600",children:n.transacciones.fallidas}),l.jsx("div",{className:"text-sm text-gray-600",children:"Fallidas"})]})]})]})]})}const k7=({user:t,onClose:e,onUpdate:n})=>{const[s,a]=N.useState({name:"",apellido:"",email:"",telefono:""}),[r,i]=N.useState(null),[o,c]=N.useState(""),[u,d]=N.useState(!1),[f,h]=N.useState(!1);N.useEffect(()=>{t&&(a({name:t.name||"",apellido:t.apellido||"",email:t.email||"",telefono:t.telefono||""}),c(t.profileImage||""))},[t]);const m=b=>{const{name:g,value:x}=b.target;a(A=>({...A,[g]:x}))},p=b=>{const g=b.target.files[0];if(g){if(!g.type.startsWith("image/")){F.error("Por favor selecciona una imagen vlida");return}if(g.size>5*1024*1024){F.error("La imagen debe ser menor a 5MB");return}i(g);const x=new FileReader;x.onload=A=>{c(A.target.result)},x.readAsDataURL(g)}},y=async()=>{if(!r)return null;h(!0);const b=new FormData;b.append("profileImage",r);try{const g=localStorage.getItem("authToken"),x=await fetch("http://localhost:5000/api/users/profile/photo",{method:"PUT",headers:{Authorization:`Bearer ${g}`},body:b}),A=await x.json();if(!x.ok)throw new Error(A.message||"Error al subir imagen");return A.imageUrl}catch(g){return console.error("Error uploading image:",g),F.error(g.message||"Error al subir la imagen"),null}finally{h(!1)}},w=async b=>{b.preventDefault(),d(!0);try{let g=null;if(r&&(g=await y(),!g)){d(!1);return}const x=localStorage.getItem("authToken"),A=await fetch("http://localhost:5000/api/users/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify(s)}),j=await A.json();if(!A.ok)throw new Error(j.message||"Error al actualizar perfil");const k={...j.user,profileImage:g||j.user.profileImage};F.success("Perfil actualizado exitosamente"),n(k),e()}catch(g){console.error("Error updating profile:",g),F.error(g.message||"Error al actualizar el perfil")}finally{d(!1)}};return l.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs(ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[l.jsx(En,{className:"w-5 h-5"}),"Editar Perfil"]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(Eb,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 border-4 border-white shadow-lg",children:o?l.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-purple-500",children:l.jsx(En,{className:"w-8 h-8 text-white"})})}),l.jsxs("label",{className:"absolute -bottom-2 -right-2 bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full cursor-pointer transition-colors shadow-lg",children:[l.jsx(od,{className:"w-4 h-4"}),l.jsx("input",{type:"file",accept:"image/*",onChange:p,className:"hidden"})]})]}),f&&l.jsx("div",{className:"text-sm text-blue-600",children:"Subiendo imagen..."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Py,{className:"w-4 h-4 inline mr-2"}),"Nombre *"]}),l.jsx("input",{type:"text",name:"name",value:s.name,onChange:m,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Tu nombre"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Py,{className:"w-4 h-4 inline mr-2"}),"Apellido"]}),l.jsx("input",{type:"text",name:"apellido",value:s.apellido,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Tu apellido"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(up,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),l.jsx("input",{type:"email",name:"email",value:s.email,onChange:m,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"tu@email.com"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(fp,{className:"w-4 h-4 inline mr-2"}),"Telfono"]}),l.jsx("input",{type:"tel",name:"telefono",value:s.telefono,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"+1234567890"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:u||f,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-3 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?l.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(oC,{className:"w-4 h-4"}),"Guardar"]})})]})]})]})})},P7=({user:t,children:e,balance:n,onEditProfile:s})=>{var a;return l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[l.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-2xl p-8 text-white overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-black/10"}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-white/20 border-4 border-white/30 shadow-2xl",children:t!=null&&t.profileImage?l.jsx("img",{src:t.profileImage,alt:"Perfil",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-purple-500",children:l.jsx(En,{className:"w-12 h-12 text-white"})})}),l.jsx("div",{className:"absolute -bottom-2 -right-2 bg-green-500 w-6 h-6 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:(t==null?void 0:t.name)||"Usuario"}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-blue-100 flex items-center",children:[l.jsx(up,{className:"w-4 h-4 mr-2"}),(t==null?void 0:t.email)||"Sin email"]}),(t==null?void 0:t.telefono)&&l.jsxs("p",{className:"text-blue-100 flex items-center",children:[l.jsx(fp,{className:"w-4 h-4 mr-2"}),t.telefono]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-medium capitalize",children:(t==null?void 0:t.role)||"Usuario"}),l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t!=null&&t.isActive?"bg-green-500/20 text-green-100":"bg-red-500/20 text-red-100"}`,children:t!=null&&t.isActive?"Activo":"Inactivo"})]})]})]})]}),l.jsxs("button",{onClick:s,className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 flex items-center space-x-2 border border-white/20",children:[l.jsx(dp,{className:"w-5 h-5"}),l.jsx("span",{children:"Editar Perfil"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"Hijos Registrados"}),l.jsx("p",{className:"text-2xl font-bold",children:(e==null?void 0:e.length)||0})]}),l.jsx(Wt,{className:"w-8 h-8 text-blue-200"})]})}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"Balance Wallet"}),l.jsxs("p",{className:"text-2xl font-bold",children:[parseFloat(n).toFixed(4)," ETH"]})]}),l.jsx(qr,{className:"w-8 h-8 text-blue-200"})]})}),l.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-blue-100 text-sm",children:"Miembro desde"}),l.jsx("p",{className:"text-lg font-bold",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A"})]}),l.jsx(bn,{className:"w-8 h-8 text-blue-200"})]})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[l.jsx(Py,{className:"w-6 h-6 mr-3 text-blue-600"}),"Informacin Personal"]})}),l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre Completo"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border-l-4 border-blue-500",children:l.jsx("p",{className:"text-gray-900 font-medium",children:(t==null?void 0:t.name)||"No disponible"})})]}),l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Apellido"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border-l-4 border-green-500",children:l.jsx("p",{className:"text-gray-900 font-medium",children:(t==null?void 0:t.apellido)||"No especificado"})})]}),l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border-l-4 border-purple-500",children:l.jsx("p",{className:"text-gray-900 font-medium break-all",children:(t==null?void 0:t.email)||"No disponible"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Telfono"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border-l-4 border-orange-500",children:l.jsx("p",{className:"text-gray-900 font-medium",children:(t==null?void 0:t.telefono)||"No especificado"})})]}),l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rol"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border-l-4 border-indigo-500",children:l.jsx("p",{className:"text-gray-900 font-medium capitalize",children:(t==null?void 0:t.role)||"No definido"})})]}),l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ID de Usuario"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border-l-4 border-pink-500",children:l.jsx("p",{className:"text-xs text-gray-900 font-mono break-all",children:(t==null?void 0:t._id)||(t==null?void 0:t.id)||"No disponible"})})]})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:l.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[l.jsx(bi,{className:"w-6 h-6 mr-3 text-purple-600"}),"Informacin Tcnica"]})}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Wallet Address"}),l.jsx("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-lg p-4",children:l.jsx("p",{className:"text-green-400 font-mono text-sm break-all",children:(t==null?void 0:t.walletAddress)||"No conectada"})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ltimo Login"}),l.jsx("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:l.jsx("p",{className:"text-blue-900 text-sm",children:t!=null&&t.lastLogin?new Date(t.lastLogin).toLocaleString():"Nunca"})})]}),l.jsxs("div",{className:"group",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ltima Actualizacin"}),l.jsx("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:l.jsx("p",{className:"text-green-900 text-sm",children:t!=null&&t.updatedAt?new Date(t.updatedAt).toLocaleString():"No disponible"})})]})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:l.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[l.jsx(od,{className:"w-5 h-5 mr-2 text-blue-600"}),"Foto de Perfil"]})}),l.jsxs("div",{className:"p-6 text-center",children:[l.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-200 mx-auto mb-4 shadow-lg",children:t!=null&&t.profileImage?l.jsx("img",{src:t.profileImage,alt:"Perfil",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-400 to-purple-500",children:l.jsx(En,{className:"w-16 h-16 text-white"})})}),(t==null?void 0:t.profileImage)&&l.jsxs("div",{className:"text-xs text-gray-500",children:[l.jsx("p",{className:"mb-2 font-medium",children:"URL de Cloudinary:"}),l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg border",children:l.jsx("p",{className:"break-all font-mono",children:t.profileImage})})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:l.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[l.jsx(Wt,{className:"w-5 h-5 mr-2 text-green-600"}),"Hijos Registrados"]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-2xl font-bold text-white",children:((a=t==null?void 0:t.children)==null?void 0:a.length)||0})}),l.jsx("p",{className:"text-gray-600",children:"Total de hijos"})]}),t!=null&&t.children&&t.children.length>0?l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"IDs de los hijos:"}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border",children:t.children.map((r,i)=>l.jsxs("div",{className:"text-xs font-mono text-gray-600 break-all",children:[i+1,". ",r]},i))})]}):l.jsx("div",{className:"text-center text-gray-500",children:l.jsx("p",{className:"text-sm",children:"No hay hijos registrados"})})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:l.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[l.jsx(Hc,{className:"w-5 h-5 mr-2 text-purple-600"}),"Metadatos"]})}),l.jsxs("div",{className:"p-6 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Versin del documento"}),l.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",children:["v",(t==null?void 0:t.__v)||0]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Creado"}),l.jsx("span",{className:"text-xs text-gray-900",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Modificado"}),l.jsx("span",{className:"text-xs text-gray-900",children:t!=null&&t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"N/A"})]})]})]})]})]})]})};function U7(){var te;const[t,e]=N.useState("overview"),[n,s]=N.useState(!1),[a,r]=N.useState(!1),[i,o]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(null),[h,m]=N.useState(!1),[p,y]=N.useState(null),[w,b]=N.useState({nombre:"",apellido:"",edad:"",walletAddress:"",password:""}),[g,x]=N.useState({hijoId:"",monto:""}),{user:A,children:j,registerHijo:k,setSpendingLimits:D,updateUser:E,loadChildren:T}=xs(),{balance:B,sendTransaction:R,refreshBalance:L,getBalanceDirectly:U,network:V,account:O}=gs();N.useEffect(()=>{A&&A.role==="padre"&&j.length===0&&(console.log("Cargando hijos para el padre..."),T())},[A]);const C=I=>{if(console.log(" Verificando lmites para hijo:",I.name),console.log(" spendingLimits:",I.spendingLimits),!I.spendingLimits)return console.log(" No hay spendingLimits"),0;if(I.spendingLimits.fecha)return console.log(" Formato antiguo detectado, lmite:",I.spendingLimits.limite),I.spendingLimits.limite||0;const Z=new Date().toISOString().split("T")[0];if(console.log(" Fecha de hoy:",Z),I.spendingLimits[Z])return console.log(" Lmite para hoy:",I.spendingLimits[Z].limite),I.spendingLimits[Z].limite||0;const le=Object.keys(I.spendingLimits).sort().reverse();if(console.log(" Fechas con lmite:",le),le.length>0){const ue=I.spendingLimits[le[0]];return console.log(" Usando ltimo lmite:",ue==null?void 0:ue.limite),(ue==null?void 0:ue.limite)||0}return console.log(" No hay lmites configurados"),0},G=[{id:"overview",label:"Resumen",icon:bn},{id:"children",label:"Hijos",icon:Wt},{id:"limits",label:"Lmites",icon:bi},{id:"analytics",label:"Analytics",icon:bn},{id:"history",label:"Historial",icon:Hc},{id:"profile",label:"Perfil",icon:En}],K=async I=>{if(I.preventDefault(),!w.nombre||!w.apellido||!w.edad||!w.walletAddress||!w.password){F.error("Por favor completa todos los campos");return}if(w.edad<5||w.edad>18){F.error("La edad debe estar entre 5 y 18 aos");return}if(!w.walletAddress.match(/^0x[a-fA-F0-9]{40}$/)){F.error("La direccin de wallet debe tener el formato 0x seguido de 40 caracteres hexadecimales");return}try{(await k(w)).success&&(s(!1),b({nombre:"",apellido:"",edad:"",walletAddress:"",password:""}))}catch(Z){console.error("Error registrando hijo:",Z)}},J=async I=>{var ue;if(I.preventDefault(),!g.hijoId||!g.monto){F.error("Por favor completa todos los campos");return}const Z=parseFloat(g.monto);if(Z<=0){F.error("El monto debe ser mayor a 0");return}const le=j.find(je=>je._id===g.hijoId);if(!le){F.error("Hijo no encontrado");return}try{console.log(" Creando transaccin en BD...");const je=await Fe.post("/transactions/create",{to:g.hijoId,amount:Z,type:"transfer",description:`Transferencia a ${le.name}`});if(!je.data.success){F.error(je.data.message||"Error al crear la transaccin");return}const Mt=je.data.transaction._id;if(console.log(" Transaccin creada con ID:",Mt),!window.confirm(`Confirmas la transferencia de $${Z} ETH a ${le.name}?

Esto abrir MetaMask para confirmar la transaccin blockchain.`)){await Fe.put(`/transactions/cancel/${Mt}`),F.info("Transferencia cancelada");return}console.log(" Ejecutando transaccin blockchain..."),F.loading("Esperando confirmacin de MetaMask...",{id:"transfer-loading"});const Jn=await R(le.walletAddress,Z);Jn&&(console.log(" Transaccin blockchain exitosa:",Jn.hash),await Fe.put(`/transactions/confirm/${Mt}`,{txHash:Jn.hash}),F.success(`Transferencia exitosa! Hash: ${Jn.hash.slice(0,10)}...`,{id:"transfer-loading"}),f({hash:Jn.hash,monto:Z,destinatario:le.name,fecha:new Date().toLocaleString()}),r(!1),x({hijoId:"",monto:""}),L&&L())}catch(je){console.error(" Error en transferencia:",je),((ue=je.response)==null?void 0:ue.status)===403?F.error(je.response.data.message||"No tienes permisos para esta transferencia"):je.code==="ACTION_REJECTED"?F.error("Transaccin rechazada en MetaMask"):je.code==="INSUFFICIENT_FUNDS"?F.error("Fondos insuficientes en tu wallet"):F.error("Error en la transferencia. Revisa la consola para ms detalles."),F.dismiss("transfer-loading")}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-white/20 border-2 border-white/30",children:A!=null&&A.profileImage?l.jsx("img",{src:A.profileImage,alt:"Perfil",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(En,{className:"w-8 h-8 text-white"})})}),l.jsx("button",{onClick:()=>o(!0),className:"absolute -bottom-1 -right-1 bg-white text-primary-600 p-1.5 rounded-full hover:bg-gray-100 transition-colors shadow-lg",children:l.jsx(dp,{className:"w-3 h-3"})})]}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold",children:["Hola, ",(A==null?void 0:A.name)||"Usuario","!"]}),l.jsx("p",{className:"text-primary-100",children:"Gestiona las wallets de tus hijos de forma segura"}),(A==null?void 0:A.email)&&l.jsx("p",{className:"text-primary-200 text-sm",children:A.email})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm text-primary-100 flex items-center justify-end space-x-2",children:[l.jsx("span",{children:"Balance de Wallet"}),B==="0"&&l.jsx("button",{onClick:L,className:"text-xs bg-white/20 hover:bg-white/30 px-2 py-1 rounded transition-colors",title:"Actualizar balance",children:""})]}),l.jsx("div",{className:"text-2xl font-bold",children:B==="0"?"0.0000 ETH":`${parseFloat(B).toFixed(4)} ETH`}),B==="0"&&l.jsxs("div",{className:"text-xs text-primary-200",children:["Red: ",(V==null?void 0:V.name)||"Desconocida"," (ID: ",((te=V==null?void 0:V.chainId)==null?void 0:te.toString())||"N/A",")",l.jsx("button",{onClick:()=>{console.log(" Debug Info:"),console.log("Account:",O),console.log("Network:",V),console.log("Balance:",B),console.log("Probando mtodo directo..."),U()},className:"ml-2 text-xs bg-red-500/20 hover:bg-red-500/30 px-2 py-1 rounded",children:"Debug"})]})]})]})}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:G.map(I=>{const Z=I.icon;return l.jsxs("button",{onClick:()=>e(I.id),className:`
                flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all
                ${t===I.id?"bg-white text-primary-600 shadow-sm":"text-gray-600 hover:text-gray-900"}
              `,children:[l.jsx(Z,{className:"h-4 w-4"}),l.jsx("span",{children:I.label})]},I.id)})}),l.jsxs("div",{className:"space-y-6",children:[t==="overview"&&l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Hijos Registrados"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(j==null?void 0:j.length)||0})]}),l.jsx(Wt,{className:"h-8 w-8 text-primary-600"})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Balance Total"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B==="0"?"0.0000 ETH":`${parseFloat(B).toFixed(4)} ETH`})]}),l.jsx(qr,{className:"h-8 w-8 text-green-600"})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Transacciones"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"-"})]}),l.jsx(bn,{className:"h-8 w-8 text-blue-600"})]})})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Acciones Rpidas"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center justify-center space-x-2",children:[l.jsx(rU,{className:"h-5 w-5"}),l.jsx("span",{children:"Registrar Hijo"})]}),l.jsxs("button",{onClick:()=>r(!0),className:"btn-secondary flex items-center justify-center space-x-2",disabled:!(j!=null&&j.length),children:[l.jsx(h2,{className:"h-5 w-5"}),l.jsx("span",{children:"Transferir Fondos"})]}),l.jsxs("button",{onClick:()=>{(j==null?void 0:j.length)===1?(y(j[0]),m(!0)):F.info("Selecciona un hijo para gestionar sus lmites")},className:"btn-outline flex items-center justify-center space-x-2",disabled:!(j!=null&&j.length),children:[l.jsx(bi,{className:"h-5 w-5"}),l.jsx("span",{children:"Gestionar Lmites"})]})]})]}),(j==null?void 0:j.length)>0&&l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mis Hijos"}),l.jsx("div",{className:"space-y-3",children:j.map((I,Z)=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:l.jsx(Wt,{className:"h-5 w-5 text-primary-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:I.name||"Sin nombre"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Edad: ",I.age||"N/A"," aos"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Saldo"}),l.jsxs("div",{className:"font-semibold",children:["$",I.allowance||0]})]})]},I._id||I.id||Z))})]})]}),t==="children"&&l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Gestin de Hijos"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{console.log(" Recargando datos manualmente..."),T()},className:"btn-secondary text-sm",children:" Recargar"}),l.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center space-x-2",children:[l.jsx(cd,{className:"h-4 w-4"}),l.jsx("span",{children:"Registrar Hijo"})]})]})]}),(j==null?void 0:j.length)>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.map(I=>l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[l.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:l.jsx(Wt,{className:"h-8 w-8 text-primary-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:I.name||"Sin nombre"}),l.jsxs("p",{className:"text-gray-600",children:["Edad: ",I.age||"N/A"," aos"]}),l.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",I._id||I.id]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Saldo disponible:"}),l.jsxs("span",{className:"font-semibold",children:["$",I.allowance||0]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Lmite diario:"}),l.jsxs("span",{className:"font-semibold",children:["$",C(I)]})]}),l.jsxs("div",{className:"flex space-x-2 mt-4",children:[l.jsxs("button",{onClick:()=>{x(Z=>({...Z,hijoId:I._id})),r(!0)},className:"btn-primary flex-1 flex items-center justify-center space-x-1",children:[l.jsx(h2,{className:"h-4 w-4"}),l.jsx("span",{children:"Transferir"})]}),l.jsxs("button",{onClick:()=>{u(I),e("limits")},className:"btn-outline flex-1 flex items-center justify-center space-x-1",children:[l.jsx(bi,{className:"h-4 w-4"}),l.jsx("span",{children:"Lmites"})]})]})]})]},I._id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Wt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No tienes hijos registrados"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Registra a tu primer hijo para comenzar"}),l.jsx("button",{onClick:()=>s(!0),className:"btn-primary",children:"Registrar Primer Hijo"})]})]}),t==="limits"&&l.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:c?l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsx("button",{onClick:()=>u(null),className:"text-blue-600 hover:text-blue-800 flex items-center space-x-2",children:" Volver a la lista"})}),l.jsx(O7,{hijoId:c._id,nombreHijo:c.name||"Sin nombre"})]}):(j==null?void 0:j.length)>0?l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestin de Lmites"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Selecciona un hijo para configurar sus lmites de gasto:"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(I=>l.jsx("button",{onClick:()=>u(I),className:"card text-left hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Wt,{className:"h-8 w-8 text-primary-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:I.name||"Sin nombre"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Edad: ",I.age||"N/A"," aos"]})]})]}),l.jsx(bi,{className:"h-5 w-5 text-gray-400"})]})},I._id))})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(bi,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No hay hijos para configurar"}),l.jsx("p",{className:"text-gray-500",children:"Registra un hijo primero para establecer lmites"})]})}),t==="analytics"&&l.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:l.jsx(Yb,{userRole:"padre",userId:A==null?void 0:A._id})}),t==="history"&&l.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:l.jsx(Kb,{userRole:"padre",userId:A==null?void 0:A._id})}),t==="profile"&&l.jsx(P7,{user:A,children:j,balance:B,onEditProfile:()=>o(!0)})]}),n&&l.jsx("div",{className:"modal-overlay",children:l.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registrar Nuevo Hijo"}),l.jsxs("form",{onSubmit:K,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nombre",value:w.nombre,onChange:I=>b(Z=>({...Z,nombre:I.target.value})),className:"input-field",required:!0}),l.jsx("input",{type:"text",placeholder:"Apellido",value:w.apellido,onChange:I=>b(Z=>({...Z,apellido:I.target.value})),className:"input-field",required:!0}),l.jsx("input",{type:"number",placeholder:"Edad (5-18)",value:w.edad,onChange:I=>b(Z=>({...Z,edad:I.target.value})),className:"input-field",min:"5",max:"18",required:!0}),l.jsx("input",{type:"text",placeholder:"Direccin de Wallet (0x + 40 caracteres hex)",value:w.walletAddress,onChange:I=>b(Z=>({...Z,walletAddress:I.target.value})),className:"input-field",required:!0,pattern:"^0x[a-fA-F0-9]{40}$",title:"Debe ser una direccin Ethereum vlida (0x seguido de 40 caracteres hexadecimales)"}),l.jsx("input",{type:"password",placeholder:"Contrasea para el hijo",value:w.password,onChange:I=>b(Z=>({...Z,password:I.target.value})),className:"input-field",required:!0}),l.jsxs("div",{className:"flex space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn-outline flex-1",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Registrar"})]})]})]})}),a&&l.jsx("div",{className:"modal-overlay",children:l.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Transferir Fondos"}),l.jsxs("form",{onSubmit:J,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Seleccionar Hijo"}),l.jsxs("select",{value:g.hijoId,onChange:I=>x(Z=>({...Z,hijoId:I.target.value})),className:"input-field",required:!0,children:[l.jsx("option",{value:"",children:"Selecciona un hijo"}),j==null?void 0:j.map(I=>l.jsx("option",{value:I._id,children:I.name||"Sin nombre"},I._id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Monto (ETH)"}),l.jsx("input",{type:"number",step:"0.001",placeholder:"0.000",value:g.monto,onChange:I=>x(Z=>({...Z,monto:I.target.value})),className:"input-field",required:!0})]}),l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Balance disponible:"})," ",parseFloat(B).toFixed(4)," ETH"]})}),l.jsxs("div",{className:"flex space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>r(!1),className:"btn-outline flex-1",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Transferir"})]})]})]})}),i&&l.jsx(k7,{user:A,onClose:()=>o(!1),onUpdate:I=>{E(I),F.success("Perfil actualizado exitosamente")}}),d&&l.jsx("div",{className:"modal-overlay",children:l.jsx(ie.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(rC,{className:"w-8 h-8 text-green-600"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Transferencia Exitosa!"}),l.jsxs("div",{className:"space-y-3 text-left bg-gray-50 rounded-lg p-4 mb-6",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Destinatario:"}),l.jsx("span",{className:"font-medium",children:d.destinatario})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Monto:"}),l.jsxs("span",{className:"font-medium",children:[d.monto," ETH"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Fecha:"}),l.jsx("span",{className:"font-medium",children:d.fecha})]}),l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("span",{className:"text-gray-600",children:"Hash:"}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-mono text-xs break-all",children:d.hash}),l.jsx("a",{href:`https://etherscan.io/tx/${d.hash}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-xs",children:"Ver en Etherscan"})]})]})]}),l.jsx("button",{onClick:()=>f(null),className:"btn-primary w-full",children:"Cerrar"})]})})})]})}const es="http://localhost:5000/api";class L7{async getProducts(e={}){try{const n=new URLSearchParams;Object.keys(e).forEach(a=>{e[a]!==void 0&&e[a]!==""&&n.append(a,e[a])});const s=await fetch(`${es}/products?${n}`);if(!s.ok)throw new Error("Error al obtener productos");return await s.json()}catch(n){throw console.error("Error en getProducts:",n),n}}async getProductsByComercio(e){try{const n=await fetch(`${es}/products?comercio=${e}`);if(!n.ok)throw new Error("Error al obtener productos del comercio");return await n.json()}catch(n){throw console.error("Error en getProductsByComercio:",n),n}}async getProduct(e){try{const n=await fetch(`${es}/products/${e}`);if(!n.ok)throw new Error("Producto no encontrado");return await n.json()}catch(n){throw console.error("Error en getProduct:",n),n}}async createProduct(e){try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No hay token de autenticacin");const s=new FormData;Object.keys(e).forEach(r=>{r!=="images"&&e[r]!==void 0&&s.append(r,e[r])}),e.images&&e.images.length>0&&e.images.forEach(r=>{s.append("images",r)});const a=await fetch(`${es}/products/create`,{method:"POST",headers:{Authorization:`Bearer ${n}`},body:s});if(!a.ok){const r=await a.json();throw new Error(r.message||"Error al crear producto")}return await a.json()}catch(n){throw console.error("Error en createProduct:",n),n}}async getMyProducts(e={}){try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No hay token de autenticacin");const s=new URLSearchParams;Object.keys(e).forEach(r=>{e[r]!==void 0&&e[r]!==""&&s.append(r,e[r])});const a=await fetch(`${es}/products/my-products?${s}`,{headers:{Authorization:`Bearer ${n}`}});if(!a.ok)throw new Error("Error al obtener mis productos");return await a.json()}catch(n){throw console.error("Error en getMyProducts:",n),n}}async updateProduct(e,n){try{const s=localStorage.getItem("authToken");if(!s)throw new Error("No hay token de autenticacin");const a=new FormData;Object.keys(n).forEach(i=>{i!=="images"&&n[i]!==void 0&&a.append(i,n[i])}),n.images&&n.images.length>0&&n.images.forEach(i=>{i instanceof File&&a.append("images",i)});const r=await fetch(`${es}/products/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${s}`},body:a});if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al actualizar producto")}return await r.json()}catch(s){throw console.error("Error en updateProduct:",s),s}}async deleteProduct(e){try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No hay token de autenticacin");const s=await fetch(`${es}/products/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!s.ok){const a=await s.json();throw new Error(a.message||"Error al eliminar producto")}return await s.json()}catch(n){throw console.error("Error en deleteProduct:",n),n}}async searchProducts(e,n=10){try{if(!e||e.trim().length<2)return{success:!0,products:[]};const s=await fetch(`${es}/products/search/${encodeURIComponent(e)}?limit=${n}`);if(!s.ok)throw new Error("Error en la bsqueda");return await s.json()}catch(s){throw console.error("Error en searchProducts:",s),s}}async getCategories(){try{const e=await fetch(`${es}/products/categories/list`);if(!e.ok)throw new Error("Error al obtener categoras");return await e.json()}catch(e){throw console.error("Error en getCategories:",e),e}}async getFeaturedProducts(e=8){try{const n=await fetch(`${es}/products/featured/list?limit=${e}`);if(!n.ok)throw new Error("Error al obtener productos destacados");return await n.json()}catch(n){throw console.error("Error en getFeaturedProducts:",n),n}}async deleteProductImage(e,n){try{const s=localStorage.getItem("authToken");if(!s)throw new Error("No hay token de autenticacin");const a=await fetch(`${es}/products/${e}/images/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`}});if(!a.ok){const r=await a.json();throw new Error(r.message||"Error al eliminar imagen")}return await a.json()}catch(s){throw console.error("Error en deleteProductImage:",s),s}}}const fu=new L7;function z7({comercio:t,onVolver:e}){const[n,s]=N.useState([]),[a,r]=N.useState(!1),[i,o]=N.useState(!1),[c,u]=N.useState([]),[d,f]=N.useState(!0),[h,m]=N.useState("todos"),{user:p}=xs(),{account:y,contract:w,signer:b}=gs();N.useEffect(()=>{g()},[t]);const g=async()=>{try{f(!0);const R=await fu.getProductsByComercio(t._id||t.id);R.success&&u(R.products)}catch(R){console.error("Error al cargar productos:",R),F.error("Error al cargar productos del comercio")}finally{f(!1)}},x={1:[{id:1,nombre:"Big Mac",descripcion:"Dos hamburguesas de carne, salsa especial, lechuga, queso, pepinillos, cebolla en pan con ssamo",precio:8.5,categoria:"hamburguesas",imagen:"",disponible:!0,rating:4.5,tiempoPrep:"10-15 min"},{id:2,nombre:"McNuggets x10",descripcion:"10 piezas de pollo empanizado con salsa a elegir",precio:6.99,categoria:"pollo",imagen:"",disponible:!0,rating:4.3,tiempoPrep:"5-8 min"},{id:3,nombre:"McFlurry Oreo",descripcion:"Helado cremoso con trozos de galleta Oreo",precio:4.5,categoria:"postres",imagen:"",disponible:!0,rating:4.7,tiempoPrep:"3-5 min"},{id:4,nombre:"Papas Fritas Grandes",descripcion:"Papas fritas doradas y crujientes",precio:3.99,categoria:"acompaamientos",imagen:"",disponible:!0,rating:4.4,tiempoPrep:"3-5 min"},{id:5,nombre:"Coca Cola 500ml",descripcion:"Bebida gaseosa refrescante",precio:2.5,categoria:"bebidas",imagen:"",disponible:!0,rating:4.2,tiempoPrep:"1 min"}],2:[{id:6,nombre:"FIFA 24 PS5",descripcion:"El juego de ftbol ms realista para PlayStation 5",precio:59.99,categoria:"videojuegos",imagen:"",disponible:!0,rating:4.6,tiempoPrep:"Inmediato"},{id:7,nombre:"Controller PS5",descripcion:"Control inalmbrico DualSense para PlayStation 5",precio:69.99,categoria:"accesorios",imagen:"",disponible:!0,rating:4.8,tiempoPrep:"Inmediato"},{id:8,nombre:"Gift Card $25",descripcion:"Tarjeta de regalo para PlayStation Store",precio:25,categoria:"tarjetas",imagen:"",disponible:!0,rating:5,tiempoPrep:"Inmediato"},{id:9,nombre:"Auriculares Gaming",descripcion:"Auriculares con micrfono para gaming",precio:89.99,categoria:"accesorios",imagen:"",disponible:!0,rating:4.4,tiempoPrep:"Inmediato"}],3:[{id:10,nombre:"Air Max 270",descripcion:"Zapatillas deportivas con tecnologa Air Max",precio:129.99,categoria:"calzado",imagen:"",disponible:!0,rating:4.7,tiempoPrep:"Inmediato"},{id:11,nombre:"Camiseta Dri-FIT",descripcion:"Camiseta deportiva con tecnologa que absorbe el sudor",precio:29.99,categoria:"ropa",imagen:"",disponible:!0,rating:4.5,tiempoPrep:"Inmediato"},{id:12,nombre:"Shorts Running",descripcion:"Shorts ligeros para correr con bolsillos",precio:34.99,categoria:"ropa",imagen:"",disponible:!0,rating:4.3,tiempoPrep:"Inmediato"},{id:13,nombre:"Mochila Deportiva",descripcion:"Mochila resistente para deportes y gimnasio",precio:49.99,categoria:"accesorios",imagen:"",disponible:!0,rating:4.6,tiempoPrep:"Inmediato"}]},A=c.length>0?c:x[t.id]||[],j=R=>{s(L=>{const U=R._id||R.id;return L.find(O=>(O._id||O.id)===U)?L.map(O=>(O._id||O.id)===U?{...O,cantidad:O.cantidad+1}:O):[...L,{...R,cantidad:1}]}),F.success(`${R.name||R.nombre} agregado al carrito`)},k=R=>{s(L=>{const U=L.find(V=>(V._id||V.id)===R);return U&&U.cantidad>1?L.map(V=>(V._id||V.id)===R?{...V,cantidad:V.cantidad-1}:V):L.filter(V=>(V._id||V.id)!==R)})},D=()=>n.reduce((R,L)=>R+(L.price||L.precio)*L.cantidad,0),E=async()=>{const R=D();if(!Ws.validarSaldoSuficiente((p==null?void 0:p.saldoDisponible)||0,R)){F.error("Saldo insuficiente para realizar la compra");return}o(!0);let L=null;try{F.loading("Validando compra...",{id:"payment"}),await new Promise(C=>setTimeout(C,1e3));const U={monto:R,comercioId:t._id||t.id,comercioNombre:t.name||t.nombre,descripcion:`Compra en ${t.name||t.nombre}`,productos:n.map(C=>({id:C._id||C.id,nombre:C.name||C.nombre,cantidad:C.cantidad,precio:C.price||C.precio,subtotal:(C.price||C.precio)*C.cantidad}))};L=await Ws.procesarPagoComercio(U),F.loading("Procesando pago en blockchain...",{id:"payment"});const V=await Ws.simularTransaccionBlockchain(R,t.walletAddress||"0x742d35Cc6634C0532925a3b8D404d3aABE8f5425");await Ws.confirmarTransaccion(L.transaction._id,V.hash),F.success("Pago realizado exitosamente!",{id:"payment"});const O=Ws.generarRecibo({...L.transaction,transactionHash:V.hash,status:"completed"});s([]),r(!1),setTimeout(()=>{F.success(`Compra realizada en ${t.name||t.nombre}. Total: ${Ws.formatearMonto(R)}`,{duration:5e3})},1e3),console.log("Recibo de compra:",O)}catch(U){if(console.error("Error en el pago:",U),L)try{await Ws.cancelarTransaccion(L.transaction._id,"Error en procesamiento blockchain")}catch(V){console.error("Error al cancelar transaccin:",V)}F.error(U.message||"Error al procesar el pago. Intntalo de nuevo.",{id:"payment"})}finally{o(!1)}},T=[...new Set(A.map(R=>R.category||R.categoria))],B=h==="todos"?A:A.filter(R=>(R.category||R.categoria)===h);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-blue-100 hover:text-white transition-colors",children:[l.jsx(_P,{className:"h-5 w-5"}),l.jsx("span",{children:"Volver"})]}),l.jsxs("button",{onClick:()=>r(!0),className:"flex items-center space-x-2 bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-blue-50 transition-colors",children:[l.jsx(ud,{className:"h-5 w-5"}),l.jsxs("span",{children:["Carrito (",n.reduce((R,L)=>R+L.cantidad,0),")"]})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[l.jsx("div",{className:"text-4xl",children:t.imagen}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:t.name||t.nombre}),l.jsx("p",{className:"text-blue-100",children:t.businessCategory||t.descripcion})]})]}),l.jsxs("div",{className:"flex items-center space-x-6 text-sm text-blue-100",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(m2,{className:"h-4 w-4 fill-current"}),l.jsx("span",{children:"4.5 (234 reseas)"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ld,{className:"h-4 w-4"}),l.jsx("span",{children:"Abierto hasta 22:00"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(iC,{className:"h-4 w-4"}),l.jsx("span",{children:"A 0.5 km de ti"})]})]})]})]}),l.jsxs("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:[l.jsx("button",{onClick:()=>m("todos"),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${h==="todos"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todos"}),T.map(R=>l.jsx("button",{onClick:()=>m(R),className:`px-4 py-2 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors capitalize whitespace-nowrap ${h===R?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:R},R))]}),d?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Cargando productos..."})]}):B.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.map(R=>{const L=R._id||R.id,U=n.find(V=>(V._id||V.id)===L);return l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-3 bg-gray-100 rounded-lg flex items-center justify-center",children:R.images&&R.images.length>0?l.jsx("img",{src:R.images[0],alt:R.name||R.nombre,className:"w-full h-full object-cover rounded-lg"}):l.jsx("div",{className:"text-4xl",children:R.imagen||""})}),l.jsx("h3",{className:"text-lg font-semibold mb-1",children:R.name||R.nombre}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:R.description||R.descripcion}),l.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500 mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(m2,{className:"h-4 w-4 fill-current text-yellow-400"}),l.jsx("span",{children:R.rating||"4.5"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(ld,{className:"h-4 w-4"}),l.jsx("span",{children:R.tiempoPrep||"Inmediato"})]})]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",R.price||R.precio]}),l.jsx("span",{className:"text-sm text-gray-500 capitalize bg-gray-100 px-2 py-1 rounded",children:R.category||R.categoria})]}),R.stock!==void 0&&l.jsxs("div",{className:"text-sm text-gray-600 mb-3 text-center",children:["Stock: ",R.stock," disponibles"]}),U?l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{onClick:()=>k(L),className:"w-10 h-10 bg-red-100 text-red-600 rounded-full flex items-center justify-center hover:bg-red-200 transition-colors",children:l.jsx(nU,{className:"h-4 w-4"})}),l.jsx("span",{className:"text-lg font-semibold",children:U.cantidad}),l.jsx("button",{onClick:()=>j(R),className:"w-10 h-10 bg-green-100 text-green-600 rounded-full flex items-center justify-center hover:bg-green-200 transition-colors",children:l.jsx(cd,{className:"h-4 w-4"})})]}):l.jsxs("button",{onClick:()=>j(R),className:"btn-primary w-full flex items-center justify-center space-x-2",disabled:!(R.isActive!==void 0?R.isActive:R.disponible),children:[l.jsx(cd,{className:"h-4 w-4"}),l.jsx("span",{children:(R.isActive!==void 0?R.isActive:R.disponible)?"Agregar":"No disponible"})]})]},L)})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ci,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No hay productos disponibles"}),l.jsx("p",{className:"text-gray-500",children:"Este comercio an no ha agregado productos."})]}),a&&l.jsx("div",{className:"modal-overlay",children:l.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Resumen de Compra"}),l.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),n.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"space-y-3 mb-4",children:n.map(R=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded flex items-center justify-center",children:R.images&&R.images.length>0?l.jsx("img",{src:R.images[0],alt:R.name||R.nombre,className:"w-full h-full object-cover rounded"}):l.jsx("span",{className:"text-xl",children:R.imagen||""})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:R.name||R.nombre}),l.jsxs("p",{className:"text-sm text-gray-600",children:["$",R.price||R.precio," c/u"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold",children:["x",R.cantidad]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["$",((R.price||R.precio)*R.cantidad).toFixed(2)]})]})]},R.id))}),l.jsxs("div",{className:"border-t pt-4 mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{children:"Subtotal:"}),l.jsxs("span",{children:["$",D().toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{children:"Impuestos:"}),l.jsx("span",{children:"$0.00"})]}),l.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{className:"text-green-600",children:["$",D().toFixed(2)]})]})]}),l.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Saldo disponible:"}),l.jsxs("span",{className:"font-medium",children:["$",(p==null?void 0:p.saldoDisponible)||0]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Despus de la compra:"}),l.jsxs("span",{className:`font-medium ${((p==null?void 0:p.saldoDisponible)||0)-D()>=0?"text-green-600":"text-red-600"}`,children:["$",(((p==null?void 0:p.saldoDisponible)||0)-D()).toFixed(2)]})]})]}),l.jsxs("button",{onClick:E,disabled:i||D()>((p==null?void 0:p.saldoDisponible)||0),className:"btn-primary w-full flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(KP,{className:"h-4 w-4"}),l.jsx("span",{children:i?"Procesando...":"Pagar Ahora"})]}),D()>((p==null?void 0:p.saldoDisponible)||0)&&l.jsx("p",{className:"text-sm text-red-600 text-center mt-2",children:"Saldo insuficiente para realizar esta compra"})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(ud,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Carrito vaco"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Agrega productos para continuar"}),l.jsx("button",{onClick:()=>r(!1),className:"btn-primary",children:"Seguir Comprando"})]})]})})]})}function H7(){const[t,e]=N.useState("overview"),[n,s]=N.useState(null),{user:a}=xs(),{balance:r}=gs(),i=[{id:"overview",label:"Resumen",icon:qr},{id:"spend",label:"Gastar",icon:ud},{id:"analytics",label:"Estadsticas",icon:lC},{id:"history",label:"Historial",icon:Hc}],o={diario:{limite:20,gastado:8},semanal:{limite:100,gastado:45},mensual:{limite:300,gastado:120}},c=[{id:1,nombre:"McDonald's",categoria:"alimentacion",imagen:"",descripcion:"Comida rpida",productos:[{id:1,nombre:"Big Mac",precio:8.5},{id:2,nombre:"McNuggets x10",precio:6.99},{id:3,nombre:"McFlurry",precio:4.5}]},{id:2,nombre:"GameStop",categoria:"entretenimiento",imagen:"",descripcion:"Videojuegos y entretenimiento",productos:[{id:4,nombre:"Juego PS5",precio:59.99},{id:5,nombre:"Controller",precio:39.99},{id:6,nombre:"Gift Card $20",precio:20}]},{id:3,nombre:"Nike Store",categoria:"ropa",imagen:"",descripcion:"Ropa deportiva",productos:[{id:7,nombre:"Zapatillas Air Max",precio:89.99},{id:8,nombre:"Camiseta Nike",precio:29.99},{id:9,nombre:"Shorts deportivos",precio:34.99}]}],u=(f,h)=>h===0?0:Math.min(f/h*100,100),d=f=>f>=90?"bg-red-500":f>=70?"bg-yellow-500":"bg-green-500";return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold",children:["Hola, ",a==null?void 0:a.nombre,"!"]}),l.jsx("p",{className:"text-green-100",children:"Administra tu dinero de forma inteligente"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-green-100",children:"Saldo Disponible"}),l.jsxs("div",{className:"text-2xl font-bold",children:["$",(a==null?void 0:a.saldoDisponible)||0]})]})]})}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:i.map(f=>{const h=f.icon;return l.jsxs("button",{onClick:()=>e(f.id),className:`
                flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all
                ${t===f.id?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"}
              `,children:[l.jsx(h,{className:"h-4 w-4"}),l.jsx("span",{children:f.label})]},f.id)})}),l.jsxs("div",{className:"space-y-6",children:[t==="overview"&&l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Mi Saldo"}),l.jsx(qr,{className:"h-6 w-6 text-green-600"})]}),l.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:["$",(a==null?void 0:a.saldoDisponible)||0]}),l.jsx("p",{className:"text-sm text-gray-600",children:"Dinero disponible para gastar"})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Lmites de Gasto"}),l.jsx(ld,{className:"h-6 w-6 text-blue-600"})]}),l.jsx("div",{className:"space-y-3",children:Object.entries(o).map(([f,h])=>{const m=u(h.gastado,h.limite);return l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"capitalize",children:f}),l.jsxs("span",{children:["$",h.gastado," / $",h.limite]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full transition-all ${d(m)}`,style:{width:`${m}%`}})})]},f)})})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[l.jsx(sm,{className:"h-5 w-5 text-amber-500"}),l.jsx("h3",{className:"text-lg font-semibold",children:"Notificaciones"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-green-800",children:" Tu padre te transfiri $25.00 ayer"})}),l.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-yellow-800",children:" Has gastado el 70% de tu lmite semanal"})}),l.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-blue-800",children:" Nuevo lmite establecido para entretenimiento: $30/semana"})})]})]})]}),t==="spend"&&l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Comercios Disponibles"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Saldo: $",(a==null?void 0:a.saldoDisponible)||0]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(f=>l.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("div",{className:"text-4xl mb-2",children:f.imagen}),l.jsx("h3",{className:"text-lg font-semibold",children:f.nombre}),l.jsx("p",{className:"text-sm text-gray-600 capitalize",children:f.categoria}),l.jsx("p",{className:"text-xs text-gray-500",children:f.descripcion})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-sm",children:"Productos populares:"}),f.productos.slice(0,3).map(h=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[l.jsx("span",{className:"text-sm",children:h.nombre}),l.jsxs("span",{className:"text-sm font-medium",children:["$",h.precio]})]},h.id))]}),l.jsxs("button",{onClick:()=>{s(f),e("tienda")},className:"btn-primary w-full mt-4 flex items-center justify-center space-x-2",children:[l.jsx(Sa,{className:"h-4 w-4"}),l.jsx("span",{children:"Ver Tienda"})]})]},f.id))}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Categoras de Gasto Permitidas"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["alimentacion","educacion","entretenimiento","deportes","tecnologia","ropa","salud","transporte"].map(f=>l.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"text-2xl mb-1",children:[f==="alimentacion"&&"",f==="educacion"&&"",f==="entretenimiento"&&"",f==="deportes"&&"",f==="tecnologia"&&"",f==="ropa"&&"",f==="salud"&&"",f==="transporte"&&""]}),l.jsx("p",{className:"text-xs capitalize text-gray-600",children:f})]},f))})]})]}),t==="analytics"&&l.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:l.jsx(Yb,{userRole:"hijo",userId:a==null?void 0:a._id})}),t==="history"&&l.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:l.jsx(Kb,{userRole:"hijo",userId:a==null?void 0:a._id})}),t==="tienda"&&n&&l.jsx(z7,{comercio:n,onVolver:()=>{e("spend"),s(null)}})]})]})}function V7(){const[t,e]=N.useState("overview"),[n,s]=N.useState(!1),[a,r]=N.useState([]),[i,o]=N.useState(!0),[c,u]=N.useState(null),[d,f]=N.useState({name:"",description:"",price:"",category:"comida",stock:"",images:[]}),{user:h}=xs(),{balance:m}=gs(),p=[{id:"overview",label:"Resumen",icon:bn},{id:"products",label:"Productos",icon:Ci},{id:"sales",label:"Ventas",icon:Lr},{id:"analytics",label:"Analytics",icon:bn},{id:"history",label:"Historial",icon:Hc}],y=[{value:"comida",label:"Comida"},{value:"bebida",label:"Bebidas"},{value:"postre",label:"Postres"},{value:"producto",label:"Productos"},{value:"servicio",label:"Servicios"},{value:"videojuegos",label:"Videojuegos"},{value:"accesorios",label:"Accesorios"},{value:"tarjetas",label:"Tarjetas Regalo"},{value:"calzado",label:"Calzado"},{value:"ropa",label:"Ropa"}];N.useEffect(()=>{w()},[]);const w=async()=>{try{o(!0);const E=await fu.getMyProducts();E.success&&r(E.products)}catch(E){console.error("Error al cargar productos:",E),F.error("Error al cargar productos")}finally{o(!1)}},b={ventasHoy:156.5,ventasSemana:1240,ventasMes:4850,clientesUnicos:47,productosVendidos:89},g=[{id:1,producto:"Hamburguesa Clsica",cliente:"Juan P.",monto:8.99,fecha:new Date,estado:"completada"},{id:2,producto:"Papas Fritas x2",cliente:"Mara G.",monto:7,fecha:new Date(Date.now()-36e5),estado:"completada"},{id:3,producto:"Combo #1",cliente:"Pedro L.",monto:12.5,fecha:new Date(Date.now()-72e5),estado:"pendiente"}],x=async E=>{if(E.preventDefault(),!d.name||!d.description||!d.price){F.error("Por favor completa todos los campos");return}try{const T=await fu.createProduct({...d,price:parseFloat(d.price),stock:parseInt(d.stock)||0});T.success&&(F.success("Producto agregado exitosamente"),r(B=>[...B,T.product]),f({name:"",description:"",price:"",category:"comida",stock:"",images:[]}),s(!1))}catch(T){console.error("Error al agregar producto:",T),F.error(T.message||"Error al agregar producto")}},A=async E=>{try{const T=a.find(R=>R._id===E);(await fu.updateProduct(E,{isActive:!T.isActive})).success&&(r(R=>R.map(L=>L._id===E?{...L,isActive:!L.isActive}:L)),F.success(`Producto ${T.isActive?"desactivado":"activado"}`))}catch(T){console.error("Error al cambiar disponibilidad:",T),F.error("Error al cambiar disponibilidad")}},j=async E=>{if(confirm("Ests seguro de que quieres eliminar este producto?"))try{(await fu.deleteProduct(E)).success&&(r(B=>B.filter(R=>R._id!==E)),F.success("Producto eliminado exitosamente"))}catch(T){console.error("Error al eliminar producto:",T),F.error(T.message||"Error al eliminar producto")}},k=E=>{const T=Array.from(E.target.files);f(B=>({...B,images:[...B.images,...T]}))},D=E=>{f(T=>({...T,images:T.images.filter((B,R)=>R!==E)}))};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-xl p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold",children:["Hola, ",(h==null?void 0:h.nombreComercio)||(h==null?void 0:h.nombrePropietario),"!"]}),l.jsx("p",{className:"text-orange-100",children:"Gestiona tu negocio y aumenta tus ventas"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-orange-100",children:"Balance Total"}),l.jsxs("div",{className:"text-2xl font-bold",children:["$",b.ventasMes.toFixed(2)]})]})]})}),l.jsx("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:p.map(E=>{const T=E.icon;return l.jsxs("button",{onClick:()=>e(E.id),className:`
                flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all
                ${t===E.id?"bg-white text-orange-600 shadow-sm":"text-gray-600 hover:text-gray-900"}
              `,children:[l.jsx(T,{className:"h-4 w-4"}),l.jsx("span",{children:E.label})]},E.id)})}),l.jsxs("div",{className:"space-y-6",children:[t==="overview"&&l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Ventas Hoy"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",b.ventasHoy]})]}),l.jsx(Lr,{className:"h-8 w-8 text-green-600"})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Ventas Semana"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",b.ventasSemana]})]}),l.jsx(bn,{className:"h-8 w-8 text-blue-600"})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Productos"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),l.jsx(Ci,{className:"h-8 w-8 text-purple-600"})]})}),l.jsx("div",{className:"card",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Clientes"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.clientesUnicos})]}),l.jsx(Sa,{className:"h-8 w-8 text-orange-600"})]})})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Ventas Recientes"}),l.jsx("button",{className:"text-sm text-blue-600 hover:underline",children:"Ver todas"})]}),l.jsx("div",{className:"space-y-3",children:g.map(E=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:l.jsx(Lr,{className:"h-5 w-5 text-orange-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:E.producto}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Cliente: ",E.cliente]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold",children:["$",E.monto]}),l.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${E.estado==="completada"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:E.estado})]})]},E.id))})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Rendimiento Semanal"}),l.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(bn,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-gray-500",children:"Grfico de ventas"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Prximamente disponible"})]})})]})]}),t==="products"&&l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Gestin de Productos"}),l.jsxs("button",{onClick:()=>s(!0),className:"btn-primary flex items-center space-x-2",children:[l.jsx(cd,{className:"h-4 w-4"}),l.jsx("span",{children:"Agregar Producto"})]})]}),i?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Cargando productos..."})]}):a.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(E=>l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:E.images&&E.images.length>0?l.jsx("img",{src:E.images[0],alt:E.name,className:"w-full h-full object-cover rounded-lg"}):l.jsx(Ci,{className:"h-8 w-8 text-gray-400"})}),l.jsx("div",{className:"flex space-x-2",children:l.jsx("button",{onClick:()=>A(E._id),className:`px-2 py-1 text-xs rounded-full ${E.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.isActive?"Disponible":"No disponible"})})]}),l.jsx("h3",{className:"font-semibold mb-2",children:E.name}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:E.description}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",E.price]}),l.jsx("span",{className:"text-sm text-gray-500 capitalize",children:E.category})]}),E.stock!==void 0&&l.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:["Stock: ",E.stock," unidades"]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:()=>{var T;u(E),f({name:E.name,description:E.description,price:E.price.toString(),category:E.category,stock:((T=E.stock)==null?void 0:T.toString())||"",images:[]}),s(!0)},className:"btn-outline flex-1 flex items-center justify-center space-x-1",children:[l.jsx(dp,{className:"h-4 w-4"}),l.jsx("span",{children:"Editar"})]}),l.jsx("button",{onClick:()=>j(E._id),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:l.jsx(Nb,{className:"h-4 w-4"})})]})]},E._id))}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ci,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No tienes productos"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Agrega tu primer producto para comenzar a vender"}),l.jsx("button",{onClick:()=>s(!0),className:"btn-primary",children:"Agregar Primer Producto"})]})]}),t==="sales"&&l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Reporte de Ventas"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-medium text-gray-600 mb-2",children:"Ventas del Mes"}),l.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",b.ventasMes]}),l.jsx("p",{className:"text-sm text-gray-500",children:"+12% vs mes anterior"})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-medium text-gray-600 mb-2",children:"Productos Vendidos"}),l.jsx("p",{className:"text-3xl font-bold text-blue-600",children:b.productosVendidos}),l.jsx("p",{className:"text-sm text-gray-500",children:"Este mes"})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"font-medium text-gray-600 mb-2",children:"Ticket Promedio"}),l.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["$",(b.ventasMes/b.productosVendidos).toFixed(2)]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Por transaccin"})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Productos Ms Vendidos"}),l.jsx("div",{className:"space-y-3",children:a.slice(0,5).map((E,T)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center text-sm font-medium",children:T+1}),l.jsx("span",{className:"text-2xl",children:E.imagen}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:E.nombre}),l.jsxs("p",{className:"text-sm text-gray-600",children:["$",E.precio]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold",children:[Math.floor(Math.random()*50)+5," vendidos"]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["$",(E.precio*(Math.floor(Math.random()*50)+5)).toFixed(2)," total"]})]})]},E.id))})]})]}),t==="analytics"&&l.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:l.jsx(Yb,{userRole:"comercio",userId:h==null?void 0:h._id})}),t==="history"&&l.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:l.jsx(Kb,{userRole:"comercio",userId:h==null?void 0:h._id})})]}),n&&l.jsx("div",{className:"modal-overlay",children:l.jsxs(ie.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:c?"Editar Producto":"Agregar Nuevo Producto"}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Nombre del producto",value:d.name,onChange:E=>f(T=>({...T,name:E.target.value})),className:"input-field",required:!0}),l.jsx("textarea",{placeholder:"Descripcin",value:d.description,onChange:E=>f(T=>({...T,description:E.target.value})),className:"input-field",rows:3,required:!0}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx("input",{type:"number",step:"0.01",placeholder:"Precio",value:d.price,onChange:E=>f(T=>({...T,price:E.target.value})),className:"input-field",required:!0}),l.jsx("input",{type:"number",placeholder:"Stock (opcional)",value:d.stock,onChange:E=>f(T=>({...T,stock:E.target.value})),className:"input-field"})]}),l.jsx("select",{value:d.category,onChange:E=>f(T=>({...T,category:E.target.value})),className:"input-field",children:y.map(E=>l.jsx("option",{value:E.value,children:E.label},E.value))}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imgenes del producto"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[l.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:k,className:"hidden",id:"product-images"}),l.jsxs("label",{htmlFor:"product-images",className:"cursor-pointer flex flex-col items-center space-y-2",children:[l.jsx(eU,{className:"h-8 w-8 text-gray-400"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Haz clic para subir imgenes"})]})]}),d.images.length>0&&l.jsx("div",{className:"mt-3 grid grid-cols-3 gap-2",children:d.images.map((E,T)=>l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:URL.createObjectURL(E),alt:`Preview ${T+1}`,className:"w-full h-20 object-cover rounded"}),l.jsx("button",{type:"button",onClick:()=>D(T),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},T))})]}),l.jsxs("div",{className:"flex space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>{s(!1),u(null),f({name:"",description:"",price:"",category:"comida",stock:"",images:[]})},className:"btn-outline flex-1",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn-primary flex-1",children:c?"Actualizar":"Agregar"})]})]})]})})]})}function I7(){const[t,e]=N.useState({nombreComercio:"",nombrePropietario:"",email:"",telefono:"",direccion:{calle:"",ciudad:"",estado:"",codigoPostal:""},categoria:"",descripcion:"",imagenes:{logo:null,portada:null},horarioAtencion:{lunes:{abierto:!0,inicio:"09:00",fin:"18:00"},martes:{abierto:!0,inicio:"09:00",fin:"18:00"},miercoles:{abierto:!0,inicio:"09:00",fin:"18:00"},jueves:{abierto:!0,inicio:"09:00",fin:"18:00"},viernes:{abierto:!0,inicio:"09:00",fin:"18:00"},sabado:{abierto:!0,inicio:"09:00",fin:"16:00"},domingo:{abierto:!1,inicio:"",fin:""}}}),[n,s]=N.useState({logo:null,portada:null}),[a,r]=N.useState(!1),[i,o]=N.useState({logo:!1,portada:!1}),c=Hd(),{account:u,connectWallet:d}=gs(),{registerComercio:f}=xs(),h=[{value:"alimentacion",label:"Alimentacin"},{value:"educacion",label:"Educacin"},{value:"entretenimiento",label:"Entretenimiento"},{value:"deportes",label:"Deportes"},{value:"tecnologia",label:"Tecnologa"},{value:"ropa",label:"Ropa y Accesorios"},{value:"salud",label:"Salud y Bienestar"},{value:"transporte",label:"Transporte"},{value:"otros",label:"Otros"}],m=[{key:"lunes",label:"Lunes"},{key:"martes",label:"Martes"},{key:"miercoles",label:"Mircoles"},{key:"jueves",label:"Jueves"},{key:"viernes",label:"Viernes"},{key:"sabado",label:"Sbado"},{key:"domingo",label:"Domingo"}],p=g=>{const{name:x,value:A}=g.target;if(x.startsWith("direccion.")){const j=x.split(".")[1];e(k=>({...k,direccion:{...k.direccion,[j]:A}}))}else e(j=>({...j,[x]:A}))},y=(g,x,A)=>{e(j=>({...j,horarioAtencion:{...j.horarioAtencion,[g]:{...j.horarioAtencion[g],[x]:A}}}))},w=async(g,x)=>{const A=g.target.files[0];if(A){if(A.size>5*1024*1024){F.error("La imagen debe ser menor a 5MB");return}if(!A.type.startsWith("image/")){F.error("Debe ser un archivo de imagen");return}try{o(E=>({...E,[x]:!0}));const j=new FileReader;j.onload=E=>s(T=>({...T,[x]:E.target.result})),j.readAsDataURL(A);const k=new FormData;k.append("image",A);const D=await nC.uploadImageForRegister(k);D.data.success&&(e(E=>({...E,imagenes:{...E.imagenes,[x]:D.data.data.url}})),F.success(`${x==="logo"?"Logo":"Imagen de portada"} subida exitosamente`))}catch(j){console.error("Error uploading image:",j),F.error("Error al subir la imagen"),s(k=>({...k,[x]:null}))}finally{o(j=>({...j,[x]:!1}))}}},b=async g=>{if(g.preventDefault(),!u){F.error("Por favor conecta tu wallet primero");return}const x=["nombreComercio","nombrePropietario","email","telefono","categoria"];for(const k of x)if(!t[k]){F.error("Por favor completa todos los campos obligatorios");return}const A=["calle","ciudad","estado","codigoPostal"];for(const k of A)if(!t.direccion[k]){F.error("Por favor completa la direccin completa");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){F.error("Por favor ingresa un email vlido");return}try{r(!0),(await f(t)).success&&(F.success("Registro exitoso!"),c("/comercio/dashboard"))}catch(k){console.error("Error en registro:",k)}finally{r(!1)}};return u?l.jsx("div",{className:"max-w-4xl mx-auto mt-8",children:l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(Sa,{className:"h-16 w-16 text-primary-600 mx-auto mb-4"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Registro de Comercio"}),l.jsx("p",{className:"text-gray-600",children:"Registra tu negocio para recibir pagos de la plataforma"})]}),l.jsxs("form",{onSubmit:b,className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo del Comercio"}),l.jsxs("div",{className:"text-center",children:[n.logo?l.jsx("img",{src:n.logo,alt:"Logo",className:"w-32 h-32 mx-auto rounded-lg object-cover border-4 border-gray-200"}):l.jsx("div",{className:"w-32 h-32 mx-auto rounded-lg bg-gray-200 flex items-center justify-center border-4 border-gray-200",children:l.jsx(od,{className:"h-8 w-8 text-gray-400"})}),l.jsxs("label",{className:"mt-2 btn-outline inline-flex items-center space-x-2 cursor-pointer",children:[l.jsx(ky,{className:"h-4 w-4"}),l.jsx("span",{children:i.logo?"Subiendo...":"Subir Logo"}),l.jsx("input",{type:"file",accept:"image/*",onChange:g=>w(g,"logo"),className:"hidden",disabled:i.logo})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Imagen de Portada"}),l.jsxs("div",{className:"text-center",children:[n.portada?l.jsx("img",{src:n.portada,alt:"Portada",className:"w-full h-32 rounded-lg object-cover border-4 border-gray-200"}):l.jsx("div",{className:"w-full h-32 rounded-lg bg-gray-200 flex items-center justify-center border-4 border-gray-200",children:l.jsx(od,{className:"h-8 w-8 text-gray-400"})}),l.jsxs("label",{className:"mt-2 btn-outline inline-flex items-center space-x-2 cursor-pointer",children:[l.jsx(ky,{className:"h-4 w-4"}),l.jsx("span",{children:i.portada?"Subiendo...":"Subir Portada"}),l.jsx("input",{type:"file",accept:"image/*",onChange:g=>w(g,"portada"),className:"hidden",disabled:i.portada})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Sa,{className:"inline h-4 w-4 mr-1"}),"Nombre del Comercio *"]}),l.jsx("input",{type:"text",name:"nombreComercio",value:t.nombreComercio,onChange:p,className:"input-field",placeholder:"Ej: Tienda de Mara",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(En,{className:"inline h-4 w-4 mr-1"}),"Nombre del Propietario *"]}),l.jsx("input",{type:"text",name:"nombrePropietario",value:t.nombrePropietario,onChange:p,className:"input-field",placeholder:"Tu nombre completo",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(up,{className:"inline h-4 w-4 mr-1"}),"Email *"]}),l.jsx("input",{type:"email",name:"email",value:t.email,onChange:p,className:"input-field",placeholder:"contacto@tucomercio.com",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(fp,{className:"inline h-4 w-4 mr-1"}),"Telfono *"]}),l.jsx("input",{type:"tel",name:"telefono",value:t.telefono,onChange:p,className:"input-field",placeholder:"+1234567890",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categora del Comercio *"}),l.jsxs("select",{name:"categoria",value:t.categoria,onChange:p,className:"input-field",required:!0,children:[l.jsx("option",{value:"",children:"Selecciona una categora"}),h.map(g=>l.jsx("option",{value:g.value,children:g.label},g.value))]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(XP,{className:"inline h-4 w-4 mr-1"}),"Descripcin del Negocio"]}),l.jsx("textarea",{name:"descripcion",value:t.descripcion,onChange:p,rows:3,className:"input-field",placeholder:"Describe tu negocio, productos o servicios...",maxLength:500})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[l.jsx(iC,{className:"h-5 w-5 mr-2"}),"Direccin del Comercio"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsx("input",{type:"text",name:"direccion.calle",value:t.direccion.calle,onChange:p,className:"input-field",placeholder:"Calle y nmero *",required:!0})}),l.jsx("div",{children:l.jsx("input",{type:"text",name:"direccion.ciudad",value:t.direccion.ciudad,onChange:p,className:"input-field",placeholder:"Ciudad *",required:!0})}),l.jsx("div",{children:l.jsx("input",{type:"text",name:"direccion.estado",value:t.direccion.estado,onChange:p,className:"input-field",placeholder:"Estado/Provincia *",required:!0})}),l.jsx("div",{children:l.jsx("input",{type:"text",name:"direccion.codigoPostal",value:t.direccion.codigoPostal,onChange:p,className:"input-field",placeholder:"Cdigo Postal *",required:!0})})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center",children:[l.jsx(ld,{className:"h-5 w-5 mr-2"}),"Horario de Atencin"]}),l.jsx("div",{className:"space-y-3",children:m.map(g=>l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-20",children:l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:t.horarioAtencion[g.key].abierto,onChange:x=>y(g.key,"abierto",x.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("span",{className:"text-sm font-medium",children:g.label})]})}),t.horarioAtencion[g.key].abierto&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"time",value:t.horarioAtencion[g.key].inicio,onChange:x=>y(g.key,"inicio",x.target.value),className:"input-field w-24"}),l.jsx("span",{children:"a"}),l.jsx("input",{type:"time",value:t.horarioAtencion[g.key].fin,onChange:x=>y(g.key,"fin",x.target.value),className:"input-field w-24"})]})]},g.key))})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Informacin de Wallet"}),l.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[l.jsx("strong",{children:"Direccin:"})," ",u]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Esta ser tu wallet para recibir pagos de los usuarios"})]}),l.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[l.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"Como Comercio podrs:"}),l.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[l.jsx("li",{children:" Recibir pagos digitales de forma segura"}),l.jsx("li",{children:" Gestionar tu catlogo de productos/servicios"}),l.jsx("li",{children:" Ver el historial de todas tus ventas"}),l.jsx("li",{children:" Configurar tu perfil y horarios de atencin"}),l.jsx("li",{children:" Retirar fondos directamente a tu wallet"})]})]}),l.jsx("button",{type:"submit",disabled:a||i.logo||i.portada,className:"btn-primary w-full",children:a?l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Registrando..."})]}):"Registrar Comercio"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-600",children:["Ya tienes cuenta?"," ",l.jsx("button",{onClick:()=>c("/login"),className:"text-primary-600 hover:underline",children:"Inicia sesin aqu"})]})})]})}):l.jsx("div",{className:"max-w-md mx-auto mt-16",children:l.jsxs("div",{className:"card text-center",children:[l.jsx(Sa,{className:"h-16 w-16 text-primary-600 mx-auto mb-6"}),l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Registro de Comercio"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Para registrar tu comercio, primero debes conectar tu wallet MetaMask"}),l.jsx("button",{onClick:d,className:"btn-primary w-full",children:"Conectar Wallet"})]})})}function Gg({children:t,role:e}){const{user:n,userRole:s,isLoading:a}=xs(),{account:r}=gs();return a?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):r?n?e&&s!==e?l.jsx(ig,{to:"/",replace:!0}):t:l.jsx(ig,{to:"/login",replace:!0}):l.jsx(ig,{to:"/login",replace:!0})}function F7(){return l.jsx(o8,{children:l.jsx(zP,{children:l.jsx(OO,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[l.jsx(oU,{}),l.jsx("main",{className:"container mx-auto px-4 py-8",children:l.jsxs(NO,{children:[l.jsx(Qa,{path:"/",element:l.jsx(lU,{})}),l.jsx(Qa,{path:"/login",element:l.jsx(S7,{})}),l.jsx(Qa,{path:"/register/padre",element:l.jsx(T7,{})}),l.jsx(Qa,{path:"/register/comercio",element:l.jsx(I7,{})}),l.jsx(Qa,{path:"/padre/dashboard",element:l.jsx(Gg,{role:"padre",children:l.jsx(U7,{})})}),l.jsx(Qa,{path:"/hijo/dashboard",element:l.jsx(Gg,{role:"hijo",children:l.jsx(H7,{})})}),l.jsx(Qa,{path:"/comercio/dashboard",element:l.jsx(Gg,{role:"comercio",children:l.jsx(V7,{})})})]})}),l.jsx(wD,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})})})}BR.createRoot(document.getElementById("root")).render(l.jsx(wm.StrictMode,{children:l.jsx(F7,{})}));
